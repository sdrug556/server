"use strict";(self.webpackChunkpos=self.webpackChunkpos||[]).push([[238],{1072:(zt,Tt,l)=>{l.d(Tt,{Z:()=>Ht});var H=l(4596),O=l(2657),X=l(1553),at=l(8262),V=["millisecond","second","minute","hour","day","week","month","quarter","year"],$=function v(y){switch(y){case"millisecond":return 1;case"second":return 1e3*v("millisecond");case"minute":return 60*v("second");case"hour":return 60*v("minute");case"day":return 24*v("hour");case"week":return 7*v("day");case"month":return 30*v("day");case"quarter":return 3*v("month");case"year":return 365*v("day");default:return 0}},L=function(v){var y,W,q,ct=["millisecond","second","minute","hour","day","month","year"],Gt={};for(y=ct.length-1;y>=0;y--)q=ct[y],(W=Math.floor(v/$(q)))>0&&(Gt[q+"s"]=W,v-=Y(q,W));return Gt};function Y(v,y){return $(v)*y}function yt(v){var W,y=-1;return(0,H.HD)(v)?v:(0,H.Kn)(v)?((0,X.S6)(v,function(q,ct){for(W=0;W<V.length;W++)ct&&(q===V[W]+"s"||q===V[W])&&y<W&&(y=W)}),V[y]):""}var mt={millisecond:"millisecond",second:"longtime",minute:"shorttime",hour:"shorttime",day:"day",week:"day",month:"month",quarter:"quarter",year:"year"},z=function(v){return Math.floor(v/3)},et=function(v){return 3*z(v)};function J(v,y,W,q){v=new Date(v.getTime());var Gt,pe,ct=new Date(v.getTime()),ne=yt(y);switch(ne){case"second":v=new Date(1e3*Math.floor(ct.getTime()/1e3));break;case"minute":v=new Date(6e4*Math.floor(ct.getTime()/6e4));break;case"hour":v=new Date(36e5*Math.floor(ct.getTime()/36e5));break;case"year":v.setMonth(0);case"month":v.setDate(1);case"day":v.setHours(0,0,0,0);break;case"week":(v=N(v,q||0)).setHours(0,0,0,0);break;case"quarter":Gt=et(v.getMonth()),pe=v.getMonth(),v.setDate(1),v.setHours(0,0,0,0),pe!==Gt&&v.setMonth(Gt)}return W&&"hour"!==ne&&"minute"!==ne&&"second"!==ne&&kt(ct,v),v}function Z(v){return J(v,"day")}function j(v,y,W){var q=new Date(v.getTime()),ct=(0,H.HD)(y)?At(y.toLowerCase()):(0,H.kE)(y)?L(y):y;return ct.years&&q.setFullYear(q.getFullYear()+ct.years*W),ct.quarters&&q.setMonth(q.getMonth()+3*ct.quarters*W),ct.months&&q.setMonth(q.getMonth()+ct.months*W),ct.weeks&&q.setDate(q.getDate()+7*ct.weeks*W),ct.days&&q.setDate(q.getDate()+ct.days*W),ct.hours&&q.setTime(q.getTime()+36e5*ct.hours*W),ct.minutes&&q.setTime(q.getTime()+6e4*ct.minutes*W),ct.seconds&&q.setTime(q.getTime()+1e3*ct.seconds*W),ct.milliseconds&&q.setTime(q.getTime()+ct.milliseconds*W),q}var F=function(v,y,W){var q=W?-1:1;return(0,H.J_)(v)?j(v,y,q):(0,O.zB)(v+y*q,y)};function U(v){return Ot(v.getFullYear(),v.getMonth()+1,0).getDate()}function At(v){var y={};switch(v){case"year":y.years=1;break;case"month":y.months=1;break;case"quarter":y.months=3;break;case"week":y.weeks=1;break;case"day":y.days=1;break;case"hour":y.hours=1;break;case"minute":y.minutes=1;break;case"second":y.seconds=1;break;case"millisecond":y.milliseconds=1}return y}function B(v,y){return M(v,y)&&v.getMonth()===y.getMonth()}function M(v,y){return v&&y&&v.getFullYear()===y.getFullYear()}function I(v){return v&&v.getFullYear()-v.getFullYear()%100}function k(v){return v&&v.getFullYear()-v.getFullYear()%10}function N(v,y){var W=(v.getDay()-y+7)%7,q=new Date(v);return q.setDate(v.getDate()-W),q}function qt(v,y,W){var q=v;return(0,H.$K)(v)?((0,H.$K)(y)&&v<y&&(q=y),(0,H.$K)(W)&&v>W&&(q=W),q):v}function kt(v,y){if((0,H.$K)(v)){var W=y.getHours()-v.getHours();if(0!==W){var q=1===W||-23===W?-1:1,ct=new Date(y.getTime()+36e5*q);(q>0||ct.getDate()===y.getDate())&&y.setTime(ct.getTime())}}}function Pt(v,y){return 60*(y.getTimezoneOffset()-v.getTimezoneOffset())*1e3}var Ot=function(v){var y=new Date(...arguments);return y.setFullYear(v),y},$t={dateUnitIntervals:V,convertMillisecondsToDateUnits:L,dateToMilliseconds:function(v){var y=0;return(0,H.Kn)(v)&&(0,X.S6)(v,function(W,q){y+=Y(W.substr(0,W.length-1),q)}),(0,H.HD)(v)&&(y=Y(v,1)),y},getNextDateUnit:function(v,y){switch(yt(v)){case"millisecond":return"second";case"second":return"minute";case"minute":return"hour";case"hour":return"day";case"day":return y?"week":"month";case"week":return"month";case"month":return"quarter";case"quarter":case"year":return"year";default:return 0}},convertDateUnitToMilliseconds:Y,getDateUnitInterval:yt,getDateFormatByTickInterval:function ht(v){return mt[yt(v)]||""},getDatesDifferences:function(v,y){var W=0,q={year:v.getFullYear()!==y.getFullYear(),month:v.getMonth()!==y.getMonth(),day:v.getDate()!==y.getDate(),hour:v.getHours()!==y.getHours(),minute:v.getMinutes()!==y.getMinutes(),second:v.getSeconds()!==y.getSeconds(),millisecond:v.getMilliseconds()!==y.getMilliseconds()};return(0,X.S6)(q,function(ct,Gt){Gt&&W++}),0===W&&0!==Pt(v,y)&&(q.hour=!0,W++),q.count=W,q},correctDateWithUnitBeginning:J,trimTime:Z,setToDayEnd:function(v){var y=Z(v);return y.setDate(y.getDate()+1),new Date(y.getTime()-1)},roundDateByStartDayHour:function(v,y){var W=this.dateTimeFromDecimal(y),q=new Date(v);return(v.getHours()===W.hours&&v.getMinutes()<W.minutes||v.getHours()<W.hours)&&q.setHours(W.hours,W.minutes,0,0),q},dateTimeFromDecimal:function(v){return{hours:Math.floor(v),minutes:v%1*60}},addDateInterval:j,addInterval:F,getSequenceByInterval:function(v,y,W){var ct,q=[];for(q.push((0,H.J_)(v)?new Date(v.getTime()):v),ct=v;ct<y;)ct=F(ct,W),q.push(ct);return q},getDateIntervalByString:At,sameDate:function xt(v,y){return B(v,y)&&v.getDate()===y.getDate()},sameMonthAndYear:B,sameMonth:B,sameYear:M,sameDecade:function(v,y){if((0,H.$K)(v)&&(0,H.$K)(y)){var W=v.getFullYear()-v.getFullYear()%10,q=y.getFullYear()-y.getFullYear()%10;return v&&y&&W===q}},sameCentury:function(v,y){if((0,H.$K)(v)&&(0,H.$K)(y)){var W=v.getFullYear()-v.getFullYear()%100,q=y.getFullYear()-y.getFullYear()%100;return v&&y&&W===q}},getDifferenceInMonth:function(v){var y=1;return"year"===v&&(y=12),"decade"===v&&(y=120),"century"===v&&(y=1200),y},getDifferenceInMonthForCells:function(v){var y=1;return"decade"===v&&(y=12),"century"===v&&(y=120),y},getFirstYearInDecade:k,getFirstDecadeInCentury:I,getShortDateFormat:function(){return"yyyy/MM/dd"},getViewFirstCellDate:function(v,y){return"month"===v?Ot(y.getFullYear(),y.getMonth(),1):"year"===v?Ot(y.getFullYear(),0,y.getDate()):"decade"===v?Ot(k(y),y.getMonth(),y.getDate()):"century"===v?Ot(I(y),y.getMonth(),y.getDate()):void 0},getViewLastCellDate:function(v,y){return"month"===v?Ot(y.getFullYear(),y.getMonth(),U(y)):"year"===v?Ot(y.getFullYear(),11,y.getDate()):"decade"===v?Ot(k(y)+9,y.getMonth(),y.getDate()):"century"===v?Ot(I(y)+90,y.getMonth(),y.getDate()):void 0},getViewDown:function(v){switch(v){case"century":return"decade";case"decade":return"year";case"year":return"month"}},getViewUp:function(v){switch(v){case"month":return"year";case"year":return"decade";case"decade":return"century"}},getLastMonthDay:U,getLastMonthDate:function(v){if((0,H.$K)(v))return Ot(v.getFullYear(),v.getMonth()+1,0)},getFirstMonthDate:function(v){if((0,H.$K)(v))return Ot(v.getFullYear(),v.getMonth(),1)},getFirstWeekDate:N,normalizeDateByWeek:function(v,y){var W=$t.getDatesInterval(v,y,"day"),q=new Date(v);return W>=6&&(q=new Date(q.setDate(q.getDate()+7))),q},getQuarter:z,getFirstQuarterMonth:et,dateInRange:function(v,y,W,q){return"date"===q&&(y=y&&$t.correctDateWithUnitBeginning(y,"day"),W=W&&$t.correctDateWithUnitBeginning(W,"day"),v=v&&$t.correctDateWithUnitBeginning(v,"day")),qt(v,y,W)===v},intervalsOverlap:function(v){var{firstMin:y,firstMax:W,secondMin:q,secondMax:ct}=v;return y<=q&&q<=W||y>q&&y<ct||y<ct&&W>ct},roundToHour:function(v){var y=new Date(v.getTime());return y.setHours(y.getHours()+1),y.setMinutes(0),y},normalizeDate:qt,getViewMinBoundaryDate:function(v,y){var W=Ot(y.getFullYear(),y.getMonth(),1);return"month"===v||(W.setMonth(0),"year"===v)||("decade"===v&&W.setFullYear(k(y)),"century"===v&&W.setFullYear(I(y))),W},getViewMaxBoundaryDate:function(v,y){var W=new Date(y);return W.setDate(U(y)),"month"===v||(W.setMonth(11),W.setDate(U(W)),"year"===v)||("decade"===v&&W.setFullYear(k(y)+9),"century"===v&&W.setFullYear(I(y)+99)),W},fixTimezoneGap:kt,getTimezonesDifference:Pt,makeDate:function(v){return new Date(v)},getDatesInterval:function(v,y,W){var q=y.getTime()-v.getTime(),ct=$(W)||1;return Math.floor(q/ct)},getDatesOfInterval:function(v,y,W){for(var q=[],ct=new Date(v.getTime());ct<y;)q.push(new Date(ct.getTime())),ct=this.addInterval(ct,W);return q},createDateWithFullYear:Ot,sameView:function(v,y,W){return $t[(0,at._A)("same "+v)](y,W)}};const Ht=$t},7331:(zt,Tt,l)=>{l.d(Tt,{Z:()=>j});var H=l(2429),O=l(4471),X=l(6601),at=l(4596),V="number",$="yyyy/MM/dd",T=/^(\d{4,})(-)?(\d{2})(-)?(\d{2})(?:T(\d{2})(:)?(\d{2})?(:)?(\d{2}(?:\.(\d{1,3})\d*)?)?)?(Z|([+-])(\d{2})(:)?(\d{2})?)?$/,L=/^(\d{2}):(\d{2})(:(\d{2}))?$/,rt=["","yyyy","","MM","","dd","THH","","mm","","ss",".SSS"],Y=/^(\d{4})\/(\d{2})\/(\d{2})$/,mt=function(F,f){var _;return(0,at.HD)(F)&&!f&&(_=function et(F){var f=F.match(T);if(!f)return(f=F.match(L))?new Date(0,0,0,ht(f[1]),ht(f[2]),ht(f[4])):void 0;var _=ht(f[1]),E=--f[3],C=f[5],S=0,U=0;S=ht(f[14]),U=ht(f[16]),"-"===f[13]&&(S=-S,U=-U);var xt,ut=ht(f[6])-S,Ct=ht(f[8])-U,Et=ht(f[10]),At=ht(xt=(xt=f[11])||"")*Math.pow(10,3-xt.length);return(xt=>(_<100&&xt.setFullYear(_),xt))(f[12]?new Date(Date.UTC(_,E,C,ut,Ct,Et,At)):new Date(_,E,C,ut,Ct,Et,At))}(F)),_||function z(F){var f=R(F)===$,_=!(0,at.J_)(F)&&Date.parse(F);if(!_&&f){var E=F.match(Y);if(E){var C=new Date(ht(E[1]),ht(E[2]),ht(E[3]));return C.setFullYear(ht(E[1])),C.setMonth(ht(E[2])-1),C.setDate(ht(E[3])),C}}return(0,at.kE)(_)?new Date(_):F}(F)};function ht(F){return+F||0}var R=function(F){return"number"==typeof F?V:(0,at.HD)(F)?((0,H.Z)().forceIsoDateParsing&&(f=function(F,f){var _=F.match(T),E="";if(!_)return(_=F.match(L))?_[3]?"HH:mm:ss":"HH:mm":void 0;for(var C=1;C<rt.length;C++)_[C]&&(E+=rt[C]||_[C]);return"Z"===_[12]&&(E+="'Z'"),_[14]&&(E+=_[15]?"xxx":_[16]?"xx":"x"),E}(F)),f||(F.indexOf(":")>=0?"yyyy/MM/dd HH:mm:ss":$)):F?null:void 0;var f};const j={dateParser:mt,deserializeDate:function(F){return"number"==typeof F?new Date(F):mt(F,!(0,H.Z)().forceIsoDateParsing)},serializeDate:function(F,f){return f?(0,at.J_)(F)?f===V?F&&F.valueOf?F.valueOf():null:(0,O.P)(f,X.Z)(F):null:F},getDateSerializationFormat:R}},3813:(zt,Tt,l)=>{l.d(Tt,{Z:()=>yt});var H=l(4589),O=l(4705),X=l(9699),at=l(1553),V=l(6129),$=l(3684),P=l(9055),T="dxSwipeable",rt={onStart:H.BL,onUpdated:H.aq,onEnd:H.ut,onCancel:"dxswipecancel"},Y=X.Z.inherit({_getDefaultOptions:function(){return(0,$.l)(this.callBase(),{elastic:!0,immediate:!1,direction:"horizontal",itemSizeFunc:null,onStart:null,onUpdated:null,onEnd:null,onCancel:null})},_render:function(){this.callBase(),this.$element().addClass("dx-swipeable"),this._attachEventHandlers()},_attachEventHandlers:function(){if(this._detachEventHandlers(),!this.option("disabled")){var mt=this.NAME;this._createEventData(),(0,at.S6)(rt,function(ht,z){var et=this._createActionByOption(ht,{context:this});z=(0,V.V4)(z,mt),O.Z.on(this.$element(),z,this._eventData,function(J){return et({event:J})})}.bind(this))}},_createEventData:function(){this._eventData={elastic:this.option("elastic"),itemSizeFunc:this.option("itemSizeFunc"),direction:this.option("direction"),immediate:this.option("immediate")}},_detachEventHandlers:function(){O.Z.off(this.$element(),"."+T)},_optionChanged:function(mt){switch(mt.name){case"disabled":case"onStart":case"onUpdated":case"onEnd":case"onCancel":case"elastic":case"immediate":case"itemSizeFunc":case"direction":this._detachEventHandlers(),this._attachEventHandlers();break;case"rtlEnabled":break;default:this.callBase(mt)}},_useTemplates:function(){return!1}});(0,P.u2)(Y,T);const yt=Y},6821:(zt,Tt,l)=>{l.d(Tt,{Z:()=>xt});var H=l(3568),O=l(4596),X=l(1553),at=l(6769),V=l(7484),$=l(4471),P=l(4904),T=l(4594),L=l(6601);const rt={"af-NA":1,agq:1,ak:1,ar:6,"ar-EH":1,"ar-ER":1,"ar-KM":1,"ar-LB":1,"ar-MA":1,"ar-MR":1,"ar-PS":1,"ar-SO":1,"ar-SS":1,"ar-TD":1,"ar-TN":1,asa:1,ast:1,az:1,"az-Cyrl":1,bas:1,be:1,bem:1,bez:1,bg:1,bm:1,br:1,bs:1,"bs-Cyrl":1,ca:1,ce:1,cgg:1,ckb:6,cs:1,cy:1,da:1,de:1,dje:1,dsb:1,dua:1,dyo:1,ee:1,el:1,"en-001":1,"en-AE":6,"en-BI":1,"en-MP":1,"en-SD":6,eo:1,es:1,et:1,eu:1,ewo:1,fa:6,ff:1,"ff-Adlm":1,fi:1,fo:1,fr:1,"fr-DJ":6,"fr-DZ":6,"fr-SY":6,fur:1,fy:1,ga:1,gd:1,gl:1,gsw:1,gv:1,ha:1,hr:1,hsb:1,hu:1,hy:1,ia:1,ig:1,is:1,it:1,jgo:1,jmc:1,ka:1,kab:6,kde:1,kea:1,khq:1,kk:1,kkj:1,kl:1,"ko-KP":1,ksb:1,ksf:1,ksh:1,ku:1,kw:1,ky:1,lag:1,lb:1,lg:1,ln:1,lrc:6,lt:1,lu:1,lv:1,"mas-TZ":1,mfe:1,mg:1,mgo:1,mi:1,mk:1,mn:1,ms:1,mua:1,mzn:6,naq:1,nds:1,nl:1,nmg:1,nnh:1,no:1,nus:1,nyn:1,os:1,pcm:1,pl:1,ps:6,"pt-AO":1,"pt-CH":1,"pt-CV":1,"pt-GQ":1,"pt-GW":1,"pt-LU":1,"pt-ST":1,"pt-TL":1,"qu-BO":1,"qu-EC":1,rm:1,rn:1,ro:1,rof:1,ru:1,rw:1,rwk:1,sah:1,sbp:1,sc:1,se:1,ses:1,sg:1,shi:1,"shi-Latn":1,si:1,sk:1,sl:1,smn:1,so:1,"so-DJ":6,sq:1,sr:1,"sr-Latn":1,sv:1,sw:1,"ta-LK":1,"ta-MY":1,teo:1,tg:1,"ti-ER":1,tk:1,to:1,tr:1,tt:1,twq:1,tzm:1,uk:1,uz:1,"uz-Arab":6,"uz-Cyrl":1,vai:1,"vai-Latn":1,vi:1,vun:1,wae:1,wo:1,xog:1,yav:1,yi:1,yo:1,zgh:1};var Y=l(6948),yt=l(2384),mt=l(3684),ht=/[\u200E\u200F]/g,z=B=>M=>{if(!B.timeZoneName){var st=M.getFullYear(),d=String(st).length<3,k=new Date(Date.UTC(d?st+400:st,M.getMonth(),M.getDate(),M.getHours(),M.getMinutes(),M.getSeconds()));return d&&k.setFullYear(st),Z(k,(0,mt.l)({timeZone:"UTC"},B))}return Z(M,B)},et={};function Z(B,M){return(B=>{var M=Y.Z.locale()+"/"+JSON.stringify(B);return et[M]||(et[M]=new Intl.DateTimeFormat(Y.Z.locale(),B).format),et[M]})(M)(B).replace(ht,"")}var B,it=B=>new Intl.NumberFormat(Y.Z.locale()).format(B),R=(B={},M=>{if(!(M in B)){if("0"===it(0))return B[M]=!1,!1;B[M]={};for(var st=0;st<10;++st)B[M][it(st)]=st}return B[M]}),j=B=>{var M=R(Y.Z.locale());return M?B.split("").map(st=>st in M?String(M[st]):st).join(""):B},F=B=>B.replace(/(\D)0+(\d)/g,"$1$2"),_=B=>B.replace("d\u2019","de "),E={day:{day:"numeric"},dayofweek:{weekday:"long"},longdate:{weekday:"long",year:"numeric",month:"long",day:"numeric"},longdatelongtime:{weekday:"long",year:"numeric",month:"long",day:"numeric",hour:"numeric",minute:"numeric",second:"numeric"},longtime:{hour:"numeric",minute:"numeric",second:"numeric"},month:{month:"long"},monthandday:{month:"long",day:"numeric"},monthandyear:{year:"numeric",month:"long"},shortdate:{},shorttime:{hour:"numeric",minute:"numeric"},shortyear:{year:"2-digit"},year:{year:"numeric"}};Object.defineProperty(E,"shortdateshorttime",{get:function(){var B=Intl.DateTimeFormat(Y.Z.locale()).resolvedOptions();return{year:B.year,month:B.month,day:B.day,hour:"numeric",minute:"numeric"}}});var C=B=>"string"==typeof B&&E[B.toLowerCase()],S={standalone:function(B,M){var st=new Date(1999,B,13,1);return z({month:M})(st)},format:function(B,M){var st=new Date(0,B,13,1),I=_(z({day:"numeric",month:M})(st)).split(" ").filter(k=>k.indexOf("13")<0);return 1===I.length?I[0]:2===I.length?I[0].length>I[1].length?I[0]:I[1]:S.standalone(B,M)}};const U={engine:function(){return"intl"},getMonthNames:function(B,M){var st={wide:"long",abbreviated:"short",narrow:"narrow"}[B||"wide"];return M="format"===M?M:"standalone",Array.apply(null,new Array(12)).map((d,I)=>S[M](I,st))},getDayNames:function(B){var st;return st={wide:"long",abbreviated:"short",short:"narrow",narrow:"narrow"}[B||"wide"],Array.apply(null,new Array(7)).map((d,I)=>z({weekday:st})(new Date(0,0,I)))},getPeriodNames:function(){var B=z({hour:"numeric",hour12:!0});return[1,13].map(M=>{var st=it(1),d=B(new Date(0,0,1,M)).split(st);return 2!==d.length?"":(d[0].length>d[1].length?d[0]:d[1]).trim()})},format:function(B,M){if(B){if(!M)return B;"function"!=typeof M&&!M.formatter&&(M=M.type||M);var st=C(M);if(st)return z(st)(B);var d=typeof M;return M.formatter||"function"===d||"string"===d?this.callBase.apply(this,arguments):z(M)(B)}},parse:function(B,M){var st;return M&&!M.parser&&"string"==typeof B&&(B=_(B),st=d=>_(this.format(d,M))),this.callBase(B,st||M)},_parseDateBySimpleFormat:function(B,M){B=j(B);var st=this.getFormatParts(M),d=B.split(/\D+/).filter(nt=>nt.length>0);if(st.length===d.length){var I=this._generateDateArgs(st,d),k=nt=>{var b,c=(b=I,new Date(b.year,b.month,b.day,(b.hours+(nt?12:0))%24,b.minutes,b.seconds));if(((B,M)=>F(B)===F(M))(j(this.format(c,M)),B))return c};return k(!1)||k(!0)}},_generateDateArgs:function(B,M){var st=new Date,d={year:st.getFullYear(),month:st.getMonth(),day:st.getDate(),hours:0,minutes:0,seconds:0};return B.forEach((I,k)=>{var c=parseInt(M[k],10);"month"===I&&(c-=1),d[I]=c}),d},formatUsesMonthName:function(B){return"object"!=typeof B||B.type||B.format?this.callBase.apply(this,arguments):"long"===B.month},formatUsesDayName:function(B){return"object"!=typeof B||B.type||B.format?this.callBase.apply(this,arguments):"long"===B.weekday},getTimeSeparator:function(){return j(Z(new Date(2001,1,1,11,11),{hour:"numeric",minute:"numeric",hour12:!1})).replace(/\d/g,"")},getFormatParts:function(B){if("string"==typeof B)return this.callBase(B);var M=(0,mt.l)({},E[B.toLowerCase()]),st=new Date(2001,2,4,5,6,7),d=z(M)(st);return d=j(d),[{name:"year",value:1},{name:"month",value:3},{name:"day",value:4},{name:"hours",value:5},{name:"minutes",value:6},{name:"seconds",value:7}].map(I=>({name:I.name,index:d.indexOf(I.value)})).filter(I=>I.index>-1).sort((I,k)=>I.index-k.index).map(I=>I.name)}};var ut="undefined"!=typeof Intl,Ct={shortdate:"M/d/y",shorttime:"h:mm a",longdate:"EEEE, MMMM d, y",longtime:"h:mm:ss a",monthandday:"MMMM d",monthandyear:"MMMM y",quarterandyear:"QQQ y",day:"d",year:"y",shortdateshorttime:"M/d/y, h:mm a",longdatelongtime:"EEEE, MMMM d, y, h:mm:ss a",month:"LLLL",shortyear:"yy",dayofweek:"EEEE",quarter:"QQQ",hour:"HH",minute:"mm",second:"ss",millisecond:"SSS","datetime-local":"yyyy-MM-ddTHH':'mm':'ss"},Et={year:["y","yy","yyyy"],day:["d","dd"],month:["M","MM","MMM","MMMM"],hours:["H","HH","h","hh","ah"],minutes:["m","mm"],seconds:["s","ss"],milliseconds:["S","SS","SSS"]},At=(0,H.Z)({engine:function(){return"base"},_getPatternByFormat:function(B){return Ct[B.toLowerCase()]},_expandPattern:function(B){return this._getPatternByFormat(B)||B},formatUsesMonthName:function(B){return-1!==this._expandPattern(B).indexOf("MMMM")},formatUsesDayName:function(B){return-1!==this._expandPattern(B).indexOf("EEEE")},getFormatParts:function(B){var M=this._getPatternByFormat(B)||B,st=[];return(0,X.S6)(M.split(/\W+/),(d,I)=>{(0,X.S6)(Et,(k,nt)=>{(0,at.d3)(I,nt)>-1&&st.push(k)})}),st},getMonthNames:function(B){return L.Z.getMonthNames(B)},getDayNames:function(B){return L.Z.getDayNames(B)},getQuarterNames:function(B){return L.Z.getQuarterNames(B)},getPeriodNames:function(B){return L.Z.getPeriodNames(B)},getTimeSeparator:function(){return":"},is24HourFormat:function(B){for(var M=new Date(2017,0,20,11,0,0,0),st=new Date(2017,0,20,23,0,0,0),d=this.format(M,B),I=this.format(st,B),k=0;k<d.length;k++)if(d[k]!==I[k])return!isNaN(parseInt(d[k]))},format:function(B,M){if(B){if(!M)return B;var st;if("function"==typeof M)st=M;else if(M.formatter)st=M.formatter;else if((0,O.HD)(M=M.type||M))return M=Ct[M.toLowerCase()]||M,yt.Z.convertDigits((0,$.P)(M,this)(B));if(st)return st(B)}},parse:function(B,M){var d,I,st=this;if(B){if(!M)return this.parse(B,"shortdate");if(M.parser)return M.parser(B);if("string"!=typeof M||Ct[M.toLowerCase()]){I=nt=>{var c=st.format(nt,M);return yt.Z.convertDigits(c,!0)};try{d=(0,P.y)(I)}catch(nt){}}else d=M;if(d)return B=yt.Z.convertDigits(B,!0),(0,T.MT)(d,this)(B);V.Z.log("W0012");var k=new Date(B);if(k&&!isNaN(k.getTime()))return k}},firstDayOfWeekIndex:function(){var B=Y.Z.getValueByClosestLocale(M=>rt[M]);return void 0===B?0:B}});ut&&At.inject(U);const xt=At},6601:(zt,Tt,l)=>{l.d(Tt,{Z:()=>P});var H=l(1553),O=["January","February","March","April","May","June","July","August","September","October","November","December"],X=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],at=["AM","PM"],V=["Q1","Q2","Q3","Q4"],$=(T,L)=>{var rt={abbreviated:3,short:2,narrow:1};return(0,H.UI)(T,Y=>Y.substr(0,rt[L]))};const P={getMonthNames:function(T){return $(O,T)},getDayNames:function(T){return $(X,T)},getQuarterNames:function(T){return V},getPeriodNames:function(T){return at}}},4904:(zt,Tt,l)=>{l.d(Tt,{y:()=>ht});var H=l(2384),X=" .,:;/\\<>()-[]\u060c",V=function(z){var et=z&&H.Z.convertDigits(z,!1).charCodeAt(0),J=H.Z.convertDigits("0",!1).charCodeAt(0);return J<=et&&et<J+10},$=function(z,et,J,Z){var it=z[J],R=z[J+1];if(!Z&&("."===it||" "===it&&". m."===z.slice(J-1,J+3)||"-"===it&&!V(R)))return!0;var j=Z&&et.some(F=>z[J]!==F[J]);return X.indexOf(it)<0&&Z===V(it)&&(!Z||j)},P=function(z,et){if(!V(z[et]))for(;et>0&&!V(z[et-1])&&("."===z[et-1]||X.indexOf(z[et-1])<0);)et--;return et},Y=function(z,et){return Array.isArray(z)?z.map(function(J){return(et(J)||"").toString()}):(et(z)||"").toString()},yt=/[a-zA-Z]/g,ht=function(z){var et=[],J=Y(new Date(2009,8,8,6,5,4),z),Z=J.split("").map(function(F,f){return f}),it=J,R={},j=[{date:new Date(2009,8,8,6,5,4,111),pattern:"S"},{date:new Date(2009,8,8,6,5,2),pattern:"s"},{date:new Date(2009,8,8,6,2,4),pattern:"m"},{date:new Date(2009,8,8,18,5,4),pattern:"H",isDigit:!0},{date:new Date(2009,8,8,2,5,4),pattern:"h",isDigit:!0},{date:new Date(2009,8,8,18,5,4),pattern:"a",isDigit:!1},{date:new Date(2009,8,1,6,5,4),pattern:"d"},{date:[new Date(2009,8,2,6,5,4),new Date(2009,8,3,6,5,4),new Date(2009,8,4,6,5,4)],pattern:"E"},{date:new Date(2009,9,6,6,5,4),pattern:"M"},{date:new Date(1998,8,8,6,5,4),pattern:"y"}];if(it&&(j.forEach(function(F){var f=function(z,et,J,Z){var it=0,R=[],j=function(F){return z[it]!==F[it]&&(void 0===Z||V(z[it])===Z)};for(Array.isArray(et)||(et=[et]),it=0;it<z.length;it++)if(J.indexOf(it)<0&&et.filter(j).length){it=P(z,it);do{if(Z=V(z[it]),!R.length&&!Z&&V(et[0][it]))break;R.push(it),J.unshift(it),it++}while(z[it]&&$(z,et,it,Z));break}return 1===R.length&&("0"===z[J[0]-1]||"\u0660"===z[J[0]-1])&&J.unshift(J[0]-1),R}(J,Y(F.date,z),et,F.isDigit),_="M"!==F.pattern||R.d?F.pattern:"L";it=function(z,et,J,Z){var it,R,j;if(!V(z[et[0]]||"0")){for(var F=Math.max(et.length<=3?3:4,J.length);et.length>F;){for(j=Z[R=et.pop()],Z[R]=-1,it=R+1;it<Z.length;it++)Z[it]--;z=z.substr(0,j)+z.substr(j+1)}for(j=(R=et[et.length-1]+1)<Z.length?Z[R]:R;et.length<F;){for(et.push(et[et.length-1]+1),it=R;it<Z.length;it++)Z[it]++;z=z.substr(0,j)+" "+z.substr(j)}}return z=function(z,et,J,Z){var it=et[0],R=it<Z.length?Z[it]:it;return et.forEach(function(j,F){z=z.substr(0,R+F)+(J.length>1?J[F]:J)+z.substr(R+F+1)}),1===et.length&&(z=(z=z.replace("0"+J,J+J)).replace("\u0660"+J,J+J)),z}(z,et,J,Z),z}(it,f,_,Z),R[_]=f.length}),it=function(z,et,J,Z){var it=et.split("").map(function(R,j){return J.indexOf(j)<0&&(R.match(yt)||"'"===R)?Z[j]:-1});return z.split("").map(function(R,j){var F=R,f=it.indexOf(j)>=0,_=j>0&&it.indexOf(j-1)>=0,E=it.indexOf(j+1)>=0;return f&&(_||(F="'"+F),E||(F+="'")),F}).join("")}(it,J,et,Z),et.length))return it}},4471:(zt,Tt,l)=>{function H(V,$){for(;V.length<$;)V="0"+V;return V}l.d(Tt,{P:()=>at});var O={3:"abbreviated",4:"wide",5:"narrow"},X={y:function(V,$,P){var T=V[P?"getUTCFullYear":"getFullYear"]();return 2===$&&(T%=100),H(T.toString(),$)},M:function(V,$,P,T){var L=V[P?"getUTCMonth":"getMonth"](),rt=O[$];return rt?T.getMonthNames(rt,"format")[L]:H((L+1).toString(),Math.min($,2))},L:function(V,$,P,T){var L=V[P?"getUTCMonth":"getMonth"](),rt=O[$];return rt?T.getMonthNames(rt,"standalone")[L]:H((L+1).toString(),Math.min($,2))},Q:function(V,$,P,T){var L=V[P?"getUTCMonth":"getMonth"](),rt=Math.floor(L/3),Y=O[$];return Y?T.getQuarterNames(Y)[rt]:H((rt+1).toString(),Math.min($,2))},E:function(V,$,P,T){var L=V[P?"getUTCDay":"getDay"]();return T.getDayNames(O[$<3?3:$])[L]},a:function(V,$,P,T){var rt=V[P?"getUTCHours":"getHours"]()<12?0:1;return T.getPeriodNames(O[$])[rt]},d:function(V,$,P){return H(V[P?"getUTCDate":"getDate"]().toString(),Math.min($,2))},H:function(V,$,P){return H(V[P?"getUTCHours":"getHours"]().toString(),Math.min($,2))},h:function(V,$,P){return H((V[P?"getUTCHours":"getHours"]()%12||12).toString(),Math.min($,2))},m:function(V,$,P){return H(V[P?"getUTCMinutes":"getMinutes"]().toString(),Math.min($,2))},s:function(V,$,P){return H(V[P?"getUTCSeconds":"getSeconds"]().toString(),Math.min($,2))},S:function(V,$,P){return H(V[P?"getUTCMilliseconds":"getMilliseconds"]().toString(),3).substr(0,$)},x:function(V,$,P){var T=P?0:V.getTimezoneOffset(),L=T>0?"-":"+",rt=Math.abs(T),yt=rt%60,mt=H(Math.floor(rt/60).toString(),2),ht=H(yt.toString(),2);return L+mt+($>=3?":":"")+($>1||yt?ht:"")},X:function(V,$,P){return P||!V.getTimezoneOffset()?"Z":X.x(V,$,P)},Z:function(V,$,P){return X.X(V,$>=5?3:2,P)}},at=function(V,$){return function(P){var T,L,rt,mt,Y=0,yt=!1,ht="";if(!P)return null;if(!V)return P;var z="Z"===V[V.length-1]||"'Z'"===V.slice(-3);for(T=0;T<V.length;T++)L=X[rt=V[T]],Y++,(mt=rt===V[T+1])||(L&&!yt&&(ht+=L(P,Y,z,$)),Y=0),"'"!==rt||mt?(yt||!L)&&(ht+=rt):yt=!yt,"'"===rt&&mt&&T++;return ht}}},4594:(zt,Tt,l)=>{l.d(Tt,{oo:()=>ht,xe:()=>J,MT:()=>f});var H=l(6836),O=l(9107),X={3:"abbreviated",4:"wide",5:"narrow"},at=function(_,E){return _>2?Object.keys(X).map(function(C){return["format","standalone"].map(function(S){return E.getMonthNames(X[C],S).join("|")}).join("|")}).join("|"):2===_?"1[012]|0?[1-9]":"0??[1-9]|1[012]"},V={":":function(_,E){var C=_>1?"{".concat(_,"}"):"",S=(0,H.hr)(E.getTimeSeparator());return":"!==S&&(S="".concat(S,"|:")),"".concat(S).concat(C)},y:function(_){return 2===_?"[0-9]{".concat(_,"}"):"[0-9]+?"},M:at,L:at,Q:function(_,E){return _>2?E.getQuarterNames(X[_],"format").join("|"):"0?[1-4]"},E:function(_,E){return"\\D*"},a:function(_,E){return E.getPeriodNames(X[_<3?3:_],"format").join("|")},d:function(_){return 2===_?"3[01]|[12][0-9]|0?[1-9]":"0??[1-9]|[12][0-9]|3[01]"},H:function(_){return 2===_?"2[0-3]|1[0-9]|0?[0-9]":"0??[0-9]|1[0-9]|2[0-3]"},h:function(_){return 2===_?"1[012]|0?[1-9]":"0??[1-9]|1[012]"},m:function(_){return 2===_?"[1-5][0-9]|0?[0-9]":"0??[0-9]|[1-5][0-9]"},s:function(_){return 2===_?"[1-5][0-9]|0?[0-9]":"0??[0-9]|[1-5][0-9]"},S:function(_){return"[0-9]{1,".concat(_,"}")},w:function(_){return 2===_?"[1-5][0-9]|0?[0-9]":"0??[0-9]|[1-5][0-9]"}},$=Number,P=function(_,E){return _.map(C=>C.toLowerCase()).indexOf(E.toLowerCase())},T=function(_,E,C){return E>2?["format","standalone"].map(function(S){return Object.keys(X).map(function(U){var ot=C.getMonthNames(X[U],S);return P(ot,_)})}).reduce(function(S,U){return S.concat(U)}).filter(function(S){return S>=0})[0]:$(_)-1},L={y:function(_,E){var C=$(_);return 2===E?C<30?2e3+C:1900+C:C},M:T,L:T,Q:function(_,E,C){return E>2?C.getQuarterNames(X[E],"format").indexOf(_):$(_)-1},E:function(_,E,C){var S=C.getDayNames(X[E<3?3:E],"format");return P(S,_)},a:function(_,E,C){var S=C.getPeriodNames(X[E<3?3:E],"format");return P(S,_)},d:$,H:$,h:$,m:$,s:$,S:function(_,E){for(E=Math.max(E,3),_=_.slice(0,3);E<3;)_+="0",E++;return $(_)}},rt=["y","M","d","h","m","s","S"],Y={y:"setFullYear",M:"setMonth",L:"setMonth",a:function(_,E,C){var S=_.getHours(),U=C.h;void 0!==U&&U!==S&&S--,E||12!==S?E&&12!==S&&(S+=12):S=0,_.setHours(S)},d:"setDate",H:"setHours",h:"setHours",m:"setMinutes",s:"setSeconds",S:"setMilliseconds"},yt=function(_,E){var C=_[E];if(!C)return 0;var S=0;do{E++,S++}while(_[E]===C);return S},mt=function(_,E){for(var C="",S=0;S<E;S++)C+=_;return C},ht=function(_,E){for(var U,C="",S="",ot=[],ut=function(){S&&(ot.push("'".concat(S,"'")),C+="".concat((0,H.hr)(S),")"),S="")},Ct=0;Ct<_.length;Ct++){var Et=_[Ct],xt=V[Et];if("'"!==Et||(U=!U,"'"===_[Ct-1]))if(xt&&!U){var B=yt(_,Ct),M=mt(Et,B);ut(),ot.push(M),C+="(".concat(xt(B,E),")"),Ct+=B-1}else S||(C+="("),S+=Et}return ut(),et(ot)||O.k.warn("The following format may be parsed incorrectly: ".concat(_,".")),{patterns:ot,regexp:new RegExp("^".concat(C,"$"),"i")}},z=["d","H","h","m","s","w","M","L","Q"],et=function(_){var E=U=>{if(!U)return!1;var ot=U[0];return["y","S"].includes(ot)||z.includes(ot)&&U.length<3},C=!0,S=0;return _.every((U,ot,ut)=>{return E(U)&&("S"!==(Ct=U)[0]&&2!==Ct.length&&(C=++S<2),E(ut[ot+1])||(S=0)),C;var Ct})},J=function(){return Y},f=function(_,E){var C=ht(_,E);return function(S){var U=C.regexp.exec(S);if(U){var ot=new Date,ut=new Date(ot.getFullYear(),0,1),Ct=function(_){return _.map(function(E){return"'"===E[0]?"":"H"===E[0]?"h":E[0]})}(C.patterns),Et=function(_){var E=_.map(function(C){return rt.indexOf(C)});return Math.max.apply(Math,E)}(Ct),At=function(_){var E=_.filter(function(C){return rt.indexOf(C)<0});return rt.concat(E)}(Ct),xt={};return At.forEach(function(B,M){if(B&&!(M<rt.length&&M>Et)){var st=Ct.indexOf(B);st>=0?function(_,E,C,S,U){var ot=E[0],ut=Y[ot],Ct=L[ot];if(ut&&Ct){var Et=Ct(C,E.length,S);U[E]=Et,_[ut]?_[ut](Et):ut(_,Et,U)}}(ut,C.patterns[st],U[st+1],E,xt):function(_,E,C){var S=Y[E],ot=C["g"+S.substr(1)]();_[S](ot)}(ut,B,ot)}}),ut}return null}}},261:(zt,Tt,l)=>{l.d(Tt,{I:()=>O});var H=l(7118);class O{constructor(at){this.DIRECTION_HORIZONTAL="horizontal",this.DIRECTION_VERTICAL="vertical",this.DIRECTION_BOTH="both",this.direction=null!=at?at:H.Et}get isHorizontal(){return this.direction===H.Xv||this.direction===H.b$}get isVertical(){return this.direction===H.Et||this.direction===H.b$}get isBoth(){return this.direction===H.b$}}},5333:(zt,Tt,l)=>{l.d(Tt,{Z:()=>k});var H=l(3520),O=l(4705),X=l(7771),at=l(3684),V=l(6836),$=l(4500),P=l(8262),T=l(4596),L=l(7455),rt=l(1553),Y=l(1374),yt=l(9388),mt=l(364),z=".dx-box",J="dxBoxItemData",Z={row:"minWidth",col:"minHeight"},it={row:"maxWidth",col:"maxHeight"},j={start:"flex-start",end:"flex-end",center:"center","space-between":"space-between","space-around":"space-around"},F={start:"flex-start",end:"flex-end",center:"center",stretch:"stretch"},f={row:"row",col:"column"},_=(nt,c,b)=>{if(b=(0,L.bh)(c,b),nt.style[(0,L.Hj)(c)]=b,!(0,$.Ym)()){if(""===b||!(0,T.$K)(b))return;var tt=(0,P.H0)(c)+": "+b+";";nt.attributes.style?nt.attributes.style.value.indexOf(tt)<0&&(nt.attributes.style.value+=" "+tt):nt.setAttribute("style",tt)}},C="dxupdate.dxBox",S="dx-box-fallback-item",U={row:"nowrap",col:"normal"},ot={row:{name:"width",getter:Y.dz,setter:Y.cl},col:{name:"height",getter:Y.Cr,setter:Y.QQ}},ut={row:ot.col,col:ot.row},Ct={row:"marginLeft",col:"marginTop"},Et={row:"marginRight",col:"marginBottom"},At={row:"marginTop",col:"marginLeft"},xt={row:"marginBottom",col:"marginRight"},B={marginLeft:"marginRight",marginRight:"marginLeft"};class M extends yt.Z{_renderVisible(c,b){super._renderVisible(c),(0,T.$K)(b)&&this._options.fireItemStateChangedAction({name:"visible",state:c,oldState:b})}}class st{constructor(c,b){this._$element=c,this._option=b,this.initSize=V.ZT,this.update=V.ZT}renderBox(){this._$element.css({display:(0,L.gC)("flexDirection")+"flex"}),_(this._$element.get(0),"flexDirection",f[this._option("direction")])}renderAlign(){this._$element.css({justifyContent:this._normalizedAlign()})}_normalizedAlign(){var c=this._option("align");return c in j?j[c]:c}renderCrossAlign(){this._$element.css({alignItems:this._normalizedCrossAlign()})}_normalizedCrossAlign(){var c=this._option("crossAlign");return c in F?F[c]:c}renderItems(c){var b=(0,L.gC)("flexDirection"),N=this._option("direction");(0,rt.S6)(c,function(){var tt=(0,H.Z)(this),Dt=tt.data(J);tt.css({display:b+"flex"}).css(it[N],Dt.maxSize||"none").css(Z[N],Dt.minSize||"0"),_(tt.get(0),"flexBasis",Dt.baseSize||0),_(tt.get(0),"flexGrow",Dt.ratio),_(tt.get(0),"flexShrink",(0,T.$K)(Dt.shrink)?Dt.shrink:1),tt.children().each((It,Mt)=>{(0,H.Z)(Mt).css({width:"auto",height:"auto",display:(0,L.gC)("flexDirection")+"flex",flexBasis:0}),_(Mt,"flexGrow",1),_(Mt,"flexDirection",(0,H.Z)(Mt)[0].style.flexDirection||"column")})})}}class d{constructor(c,b){this._$element=c,this._option=b}renderBox(){this._$element.css({fontSize:0,whiteSpace:U[this._option("direction")],verticalAlign:"top"}),O.Z.off(this._$element,C),O.Z.on(this._$element,C,this.update.bind(this))}renderAlign(){var c=this._$items;if(c){var b=this._option("align"),N=this.totalItemSize,tt=this._option("direction"),It=ot[tt].getter(this._$element)-N,Mt=0;switch(this._setItemsMargins(c,tt,0),b){case"start":break;case"end":Mt=It,c.first().css(this._chooseMarginSide(Ct[tt]),Mt);break;case"center":Mt=.5*It,c.first().css(this._chooseMarginSide(Ct[tt]),Mt),c.last().css(this._chooseMarginSide(Et[tt]),Mt);break;case"space-between":this._setItemsMargins(c,tt,Mt=.5*It/(c.length-1)),c.first().css(this._chooseMarginSide(Ct[tt]),0),c.last().css(this._chooseMarginSide(Et[tt]),0);break;case"space-around":this._setItemsMargins(c,tt,Mt=.5*It/c.length)}}}_setItemsMargins(c,b,N){c.css(this._chooseMarginSide(Ct[b]),N).css(this._chooseMarginSide(Et[b]),N)}renderCrossAlign(){var c=this._$items;if(c){var b=this._option("crossAlign"),N=this._option("direction"),tt=ut[N].getter(this._$element),Dt=this;switch(b){case"start":break;case"end":(0,rt.S6)(c,function(){var It=(0,H.Z)(this),Mt=ut[N].getter(It),Nt=tt-Mt;It.css(Dt._chooseMarginSide(At[N]),Nt)});break;case"center":(0,rt.S6)(c,function(){var It=(0,H.Z)(this),Mt=ut[N].getter(It),Nt=.5*(tt-Mt);It.css(Dt._chooseMarginSide(At[N]),Nt).css(Dt._chooseMarginSide(xt[N]),Nt)});break;case"stretch":c.css(Dt._chooseMarginSide(At[N]),0).css(Dt._chooseMarginSide(xt[N]),0).css(ut[N].name,"100%")}}}_chooseMarginSide(c){return this._option("rtlEnabled")&&B[c]||c}renderItems(c){this._$items=c;var b=this._option("direction"),N=0,tt=0,Dt=0;(0,rt.S6)(c,(qt,kt)=>{var Lt=(0,H.Z)(kt);Lt.css({display:"inline-block",verticalAlign:"top"}),ot[b].setter(Lt,"auto"),Lt.removeClass(S);var Pt=Lt.data(J),Ut=Pt.ratio||0,te=this._baseSize(Lt),Ot=(0,T.$K)(Pt.shrink)?Pt.shrink:1;N+=Ut,tt+=Ot*te,Dt+=te});var It=this._boxSize()-Dt,Mt=qt=>{var kt=qt.data(J),Lt=this._baseSize(qt),Pt=It>=0?kt.ratio||0:((0,T.$K)(kt.shrink)?kt.shrink:1)*Lt,Ut=It>=0?N:tt;return Lt+(Ut?Math.round(It*Pt/Ut):0)},Nt=0;(0,rt.S6)(c,(qt,kt)=>{var Lt=(0,H.Z)(kt),Pt=(0,H.Z)(kt).data(J),Ut=Mt(Lt);Nt+=Ut,Lt.css(it[b],Pt.maxSize||"none").css(Z[b],Pt.minSize||"0").css(ot[b].name,Ut),Lt.addClass(S)}),this.totalItemSize=Nt}_baseSize(c){var b=(0,H.Z)(c).data(J);return null==b.baseSize?0:"auto"===b.baseSize?this._contentSize(c):this._parseSize(b.baseSize)}_contentSize(c){return ot[this._option("direction")].getter((0,H.Z)(c))}_parseSize(c){return String(c).match(/.+%$/)?.01*parseFloat(c)*this._boxSizeValue:c}_boxSize(c){if(!arguments.length)return this._boxSizeValue=this._boxSizeValue||this._totalBaseSize(),this._boxSizeValue;this._boxSizeValue=c}_totalBaseSize(){var c=0;return(0,rt.S6)(this._$items,(b,N)=>{c+=this._baseSize(N)}),c}initSize(){this._boxSize(ot[this._option("direction")].getter(this._$element))}update(){if(this._$items&&!this._$element.is(":hidden")){this._$items.detach(),this.initSize(),this._$element.append(this._$items),this.renderItems(this._$items),this.renderAlign(),this.renderCrossAlign();var c=this._$element.get(0);this._$items.find(z).each(function(){c===(0,H.Z)(this).parent().closest(z).get(0)&&O.Z.triggerHandler(this,C)})}}}let I=(()=>{class nt extends mt.Z{_getDefaultOptions(){return(0,at.l)(super._getDefaultOptions(),{direction:"row",align:"start",crossAlign:"stretch",activeStateEnabled:!1,focusStateEnabled:!1,onItemStateChanged:void 0,_layoutStrategy:"flex",_queue:void 0})}_itemClass(){return"dx-box-item"}_itemDataKey(){return J}_itemElements(){return this._itemContainer().children(this._itemSelector())}_init(){super._init(),this.$element().addClass("".concat("dx-box","-").concat(this.option("_layoutStrategy"))),this._initLayout(),this._initBoxQueue()}_initLayout(){this._layout="fallback"===this.option("_layoutStrategy")?new d(this.$element(),this.option.bind(this)):new st(this.$element(),this.option.bind(this))}_initBoxQueue(){this._queue=this.option("_queue")||[]}_queueIsNotEmpty(){return!this.option("_queue")&&!!this._queue.length}_pushItemToQueue(b,N){this._queue.push({$item:b,config:N})}_shiftItemFromQueue(){return this._queue.shift()}_initMarkup(){this.$element().addClass("dx-box"),this._layout.renderBox(),super._initMarkup(),this._renderAlign(),this._renderActions()}_renderActions(){this._onItemStateChanged=this._createActionByOption("onItemStateChanged")}_renderAlign(){this._layout.renderAlign(),this._layout.renderCrossAlign()}_renderItems(b){for(this._layout.initSize(),super._renderItems(b);this._queueIsNotEmpty();){var N=this._shiftItemFromQueue();this._createComponent(N.$item,nt,(0,at.l)({_layoutStrategy:this.option("_layoutStrategy"),itemTemplate:this.option("itemTemplate"),itemHoldTimeout:this.option("itemHoldTimeout"),onItemHold:this.option("onItemHold"),onItemClick:this.option("onItemClick"),onItemContextMenu:this.option("onItemContextMenu"),onItemRendered:this.option("onItemRendered"),_queue:this._queue},N.config))}this._layout.renderItems(this._itemElements()),clearTimeout(this._updateTimer),this._updateTimer=setTimeout(()=>{this._isUpdated||this._layout.update(),this._isUpdated=!1,this._updateTimer=null})}_renderItemContent(b){var N=b.itemData&&b.itemData.node;return N?this._renderItemContentByNode(b,N):super._renderItemContent(b)}_postprocessRenderItem(b){var N=b.itemData.box;!N||this._pushItemToQueue(b.itemContent,N)}_createItemByTemplate(b,N){return N.itemData.box?b.source?b.source():(0,H.Z)():super._createItemByTemplate(b,N)}_visibilityChanged(b){b&&this._dimensionChanged()}_dimensionChanged(){this._updateTimer||(this._isUpdated=!0,this._layout.update())}_dispose(){clearTimeout(this._updateTimer),super._dispose.apply(this,arguments)}_itemOptionChanged(b,N,tt,Dt){"visible"===N&&this._onItemStateChanged({name:N,state:tt,oldState:!1!==Dt}),super._itemOptionChanged(b,N,tt)}_optionChanged(b){switch(b.name){case"_layoutStrategy":case"_queue":case"direction":this._invalidate();break;case"align":this._layout.renderAlign();break;case"crossAlign":this._layout.renderCrossAlign();break;default:super._optionChanged(b)}}_itemOptions(){var b=super._itemOptions();return b.fireItemStateChangedAction=N=>{this._onItemStateChanged(N)},b}repaint(){this._dimensionChanged()}}return nt.ItemClass=M,nt})();(0,X.Z)("dxBox",I);const k=I},8980:(zt,Tt,l)=>{l.d(Tt,{Z:()=>ua});var t,H=l(7771),O=l(6129),X=l(4596),at=l(3615),V=l(3684),$=l(2657),P=l(4705),T=l(4594),L=l(6836),rt=t=>t.getMonth()+1,Y=(t,i)=>{var r=t.getDate(),u=et("M",t),m=(0,$.n$)(parseInt(i),u.min,u.max);t.setMonth(m-1,1);var{min:w,max:dt}=et("dM",t),St=(0,$.n$)(r,w,dt);t.setDate(St)},yt={a:t=>t.getHours()<12?0:1,E:"getDay",y:"getFullYear",M:rt,L:rt,d:"getDate",H:"getHours",h:"getHours",m:"getMinutes",s:"getSeconds",S:"getMilliseconds"},mt=(0,V.l)({},(0,T.xe)(),{a:(t,i)=>{var r=t.getHours();r>=12!=!!parseInt(i)&&t.setHours((r+12)%24)},d:(t,i)=>{i>et("dM",t).max&&t.setMonth(t.getMonth()+1),t.setDate(i)},h:(t,i)=>{var r=t.getHours()>=12;t.setHours(+i%12+(r?12:0))},M:Y,L:Y,E:(t,i)=>{i<0||t.setDate(t.getDate()-t.getDay()+parseInt(i))},y:(t,i)=>{var r=t.getFullYear(),u=String(i).length,m=String(et("y",t).max).length,w=parseInt(String(r).substr(0,m-u)+i);t.setFullYear(w)}}),et=(t,i,r)=>{var u={y:{min:0,max:9999},M:{min:1,max:12},L:{min:1,max:12},d:{min:1,max:31},dM:{min:1,max:new Date(i.getFullYear(),i.getMonth()+1,0).getDate()},E:{min:0,max:6},H:{min:0,max:23},h:{min:0,max:23},m:{min:0,max:59},s:{min:0,max:59},S:{min:0,max:999},a:{min:0,max:1}};return u[r||t]||u.getAmPm},Z=l(6821),it=l(4904),R=l(4500),j=l(1553),F=l(1764),f=l(5303),_=l(7923),E=l(2429),C=l(1072),S=l(3520),U=l(7331),ot=["year","day","month","day"],ut=["hours","minutes","seconds","milliseconds"],B={SUPPORTED_FORMATS:["date","time","datetime"],ONE_MINUTE:6e4,ONE_DAY:864e5,ONE_YEAR:31536e6,MIN_DATEVIEW_DEFAULT_DATE:new Date(1900,0,1),MAX_DATEVIEW_DEFAULT_DATE:(t=new Date,new Date(t.getFullYear()+50,t.getMonth(),t.getDate(),23,59,59)),FORMATS_INFO:{date:{getStandardPattern:function(){return"yyyy-MM-dd"},components:ot},time:{getStandardPattern:function(){return"HH:mm"},components:ut},datetime:{getStandardPattern:function(){var t,i;return(i=(0,S.Z)("<input>").attr("type","datetime")).val("2000-01-01T01:01Z"),i.val()&&(t="yyyy-MM-ddTHH:mmZ"),t||(t="yyyy-MM-ddTHH:mm:ssZ"),B.FORMATS_INFO.datetime.getStandardPattern=function(){return t},t},components:[...ot,...ut]},"datetime-local":{getStandardPattern:function(){return"yyyy-MM-ddTHH:mm:ss"},components:[...ot,"hours","minutes","seconds"]}},FORMATS_MAP:{date:"shortdate",time:"shorttime",datetime:"shortdateshorttime"},SUBMIT_FORMATS_MAP:{date:"date",time:"time",datetime:"datetime-local"},toStandardDateFormat:function(t,i){var r=B.FORMATS_INFO[i].getStandardPattern();return U.Z.serializeDate(t,r)},fromStandardDateFormat:function(t){var i=U.Z.dateParser(t);return(0,X.J_)(i)?i:void 0},getMaxMonthDay:function(t,i){return new Date(t,i+1,0).getDate()},mergeDates:function(t,i,r){if(!i)return i||null;if(!t||isNaN(t.getTime())){var u=new Date(null);t=new Date(u.getFullYear(),u.getMonth(),u.getDate())}var m=new Date(t.valueOf());return(0,j.S6)(B.FORMATS_INFO[r].components,function(){var dt=B.DATE_COMPONENTS_INFO[this];m[dt.setter](i[dt.getter]())}),m},getLongestCaptionIndex:function(t){var u,i=0,r=0;for(u=0;u<t.length;++u)t[u].length>r&&(i=u,r=t[u].length);return i},formatUsesMonthName:function(t){return Z.Z.formatUsesMonthName(t)},formatUsesDayName:function(t){return Z.Z.formatUsesDayName(t)},getLongestDate:function(t,i,r){var u=function(t){var i=typeof t;return"string"===i?"format":"object"===i&&void 0!==t.type?t.type:null}(t),m=9;(!u||B.formatUsesMonthName(u))&&(m=B.getLongestCaptionIndex(i));var w=new Date(1888,m,21,23,59,59,999);if(!u||B.formatUsesDayName(u)){var dt=w.getDate()-w.getDay()+B.getLongestCaptionIndex(r);w.setDate(dt)}return w},normalizeTime:function(t){t.setSeconds(0),t.setMilliseconds(0)}};B.DATE_COMPONENTS_INFO={year:{getter:"getFullYear",setter:"setFullYear",formatter:function(t,i){var r=new Date(i.getTime());return r.setFullYear(t),Z.Z.format(r,"yyyy")},startValue:void 0,endValue:void 0},day:{getter:"getDate",setter:"setDate",formatter:function(t,i){var r=new Date(i.getTime());return r.setDate(t),Z.Z.format(r,"d")},startValue:1,endValue:void 0},month:{getter:"getMonth",setter:"setMonth",formatter:function(t){return Z.Z.getMonthNames()[t]},startValue:0,endValue:11},hours:{getter:"getHours",setter:"setHours",formatter:function(t){return Z.Z.format(new Date(0,0,0,t),"hour")},startValue:0,endValue:23},minutes:{getter:"getMinutes",setter:"setMinutes",formatter:function(t){return Z.Z.format(new Date(0,0,0,0,t),"minute")},startValue:0,endValue:59},seconds:{getter:"getSeconds",setter:"setSeconds",formatter:function(t){return Z.Z.format(new Date(0,0,0,0,0,t),"second")},startValue:0,endValue:59},milliseconds:{getter:"getMilliseconds",setter:"setMilliseconds",formatter:function(t){return Z.Z.format(new Date(0,0,0,0,0,0,t),"millisecond")},startValue:0,endValue:999}};const M=B;var st=l(139),d=l(911),I=l(1374),k=l(1760),nt=l(3946),c=l(2598),b=l(3813),N=l(6068),Lt=N.Z.inherit({_getDefaultOptions:function(){return(0,V.l)(this.callBase(),{onClick:null,onCaptionClick:null,text:""})},_init:function(){this.callBase(),this._initActions()},_initActions:function(){this._clickAction=this._createActionByOption("onClick"),this._captionClickAction=this._createActionByOption("onCaptionClick")},_initMarkup:function(){this.callBase(),this.$element().addClass("dx-calendar-navigator"),this._renderButtons(),this._renderCaption()},_renderButtons:function(){var t=this,i=this.option("rtlEnabled")?-1:1;this._prevButton=this._createComponent((0,S.Z)("<a>"),nt.Z,{focusStateEnabled:!1,icon:"chevronleft",onClick:function(w){t._clickAction({direction:-i,event:w})},integrationOptions:{}});var r=this._prevButton.$element().addClass("dx-calendar-navigator-previous-view").addClass("dx-calendar-navigator-previous-month");this._nextButton=this._createComponent((0,S.Z)("<a>"),nt.Z,{focusStateEnabled:!1,icon:"chevronright",onClick:function(w){t._clickAction({direction:i,event:w})},integrationOptions:{}});var u=this._nextButton.$element().addClass("dx-calendar-navigator-next-view").addClass("dx-calendar-navigator-next-month");this._caption=this._createComponent((0,S.Z)("<a>").addClass("dx-calendar-caption-button"),nt.Z,{focusStateEnabled:!1,onClick:function(w){t._captionClickAction({event:w})},integrationOptions:{}});var m=this._caption.$element();this.$element().append(r,m,u)},_renderCaption:function(){this._caption.option("text",this.option("text"))},toggleButton:function(t,i){var u=this["_"+t+"Button"];u&&(u.option("disabled",i),u.$element().toggleClass("dx-calendar-disabled-navigator-link",i))},_optionChanged:function(t){"text"===t.name?this._renderCaption():this.callBase(t)}});const Pt=Lt;var Ut=l(8082),te=l(9694),Ot=l(7075),$t=l(1037),{abstract:Ht}=N.Z,W="dx-calendar-empty-cell",ct="dx-calendar-selected-date",Gt="dx-calendar-contoured-date",pe=(0,O.V4)($t.u,"dxCalendar"),ne="dxDateValueKey",o=N.Z.inherit({_getViewName:function(){return"base"},_getDefaultOptions:function(){return(0,V.l)(this.callBase(),{date:new Date,focusStateEnabled:!1,cellTemplate:null,disabledDates:null,onCellClick:null,rowCount:3,colCount:4,allowValueSelection:!0,_todayDate:()=>new Date})},_initMarkup:function(){this.callBase(),this._renderImpl()},_renderImpl:function(){this.$element().append(this._createTable()),this._createDisabledDatesHandler(),this._renderBody(),this._renderContouredDate(),this._renderValue(),this._renderEvents()},_createTable:function(){return this._$table=(0,S.Z)("<table>"),this.setAria({label:d.Z.format("dxCalendar-ariaWidgetName"),role:"grid"},this._$table),this._$table},_renderBody:function(){this.$body=(0,S.Z)("<tbody>").appendTo(this._$table);for(var t={cellDate:this._getFirstCellData(),prevCellDate:null},i=0,r=this.option("rowCount");i<r;i++){t.row=this._createRow();for(var u=0,m=this.option("colCount");u<m;u++)this._renderCell(t,u)}},_createRow:function(){var t=Ut.Z.createElement("tr");return this.setAria("role","row",(0,S.Z)(t)),this.$body.get(0).appendChild(t),t},_appendCell:function(t,i){this._appendMethodName||this._cacheAppendMethodName(),(0,S.Z)(t)[this._appendMethodName](i)},_cacheAppendMethodName:function(t){this._appendMethodName=(null!=t?t:this.option("rtlEnabled"))?"prepend":"append"},_createCell:function(t){var i=Ut.Z.createElement("td"),r=(0,S.Z)(i);return i.className=this._getClassNameByDate(t),i.setAttribute("data-value",U.Z.serializeDate(t,C.Z.getShortDateFormat())),(0,te.aT)(i,ne,t),this.setAria({role:"gridcell",label:this.getCellAriaLabel(t)},r),{cell:i,$cell:r}},_renderCell:function(t,i){var{cellDate:r,prevCellDate:u,row:m}=t;u&&C.Z.fixTimezoneGap(u,r),t.prevCellDate=r;var{cell:w,$cell:dt}=this._createCell(r),St=this.option("cellTemplate");this._appendCell(m,w),St?St.render(this._prepareCellTemplateData(r,i,dt)):w.innerHTML=this._getCellText(r),t.cellDate=this._getNextCellData(r)},_getClassNameByDate:function(t){var i="dx-calendar-cell";return this._isTodayCell(t)&&(i+=" ".concat("dx-calendar-today")),(this._isDateOutOfRange(t)||this.isDateDisabled(t))&&(i+=" ".concat(W)),this._isOtherView(t)&&(i+=" ".concat("dx-calendar-other-view")),i},_prepareCellTemplateData:function(t,i,r){return{model:{text:this._getCellText(t),date:t,view:this._getViewName()},container:(0,Ot.u)(r),index:i}},_renderEvents:function(){this._createCellClickAction(),P.Z.off(this._$table,pe),P.Z.on(this._$table,pe,"td",t=>{(0,S.Z)(t.currentTarget).hasClass(W)||this._cellClickAction({event:t,value:(0,S.Z)(t.currentTarget).data(ne)})})},_createCellClickAction:function(){this._cellClickAction=this._createActionByOption("onCellClick")},_createDisabledDatesHandler:function(){var t=this.option("disabledDates");this._disabledDatesHandler=Array.isArray(t)?this._getDefaultDisabledDatesHandler(t):t||L.ZT},_getDefaultDisabledDatesHandler:function(t){return L.ZT},_isTodayCell:Ht,_isDateOutOfRange:Ht,isDateDisabled:function(t){var i={date:t,view:this._getViewName()};return this._disabledDatesHandler(i)},_isOtherView:Ht,_getCellText:Ht,_getFirstCellData:Ht,_getNextCellData:Ht,_renderContouredDate:function(t){if(this.option("focusStateEnabled")){t=t||this.option("contouredDate");var i=this._getContouredCell(),r=this._getCellByDate(t);i.removeClass(Gt),r.addClass(Gt)}},_getContouredCell:function(){return this._$table.find(".".concat(Gt))},_changeValue:function(t){if(t){var i=this.option("value"),r=i?new Date(i):new Date;r.setDate(t.getDate()),r.setMonth(t.getMonth()),r.setFullYear(t.getFullYear()),r.setDate(t.getDate()),this.option("value",r)}else this.option("value",null)},_renderValue:function(){if(this.option("allowValueSelection")){var t=this.option("value"),i=this._getCellByDate(t);this._selectedCell&&this._selectedCell.removeClass(ct),i.addClass(ct),this._selectedCell=i}},getCellAriaLabel:function(t){return this._getCellText(t)},_getFirstAvailableDate:function(){var t=this.option("date"),i=this.option("min");return t=C.Z.getFirstDateView(this._getViewName(),t),new Date(i&&t<i?i:t)},_getCellByDate:Ht,isBoundary:Ht,_optionChanged:function(t){var{name:i,value:r}=t;switch(i){case"value":this._renderValue();break;case"contouredDate":this._renderContouredDate(r);break;case"onCellClick":this._createCellClickAction();break;case"disabledDates":case"cellTemplate":this._invalidate();break;case"rtlEnabled":this._cacheAppendMethodName(r),this.callBase(t);break;case"_todayDate":this._renderBody();break;default:this.callBase(t)}}});const p=o;var Q={month:p.inherit({_getViewName:function(){return"month"},_getDefaultOptions:function(){return(0,V.l)(this.callBase(),{firstDayOfWeek:void 0,rowCount:6,colCount:7})},_renderImpl:function(){this.callBase(),this._renderHeader()},_renderBody:function(){this.callBase(),this._$table.find(".".concat("dx-calendar-other-view")).addClass("dx-calendar-other-month")},_renderFocusTarget:L.ZT,getCellAriaLabel:function(t){return Z.Z.format(t,"longdate")},_renderHeader:function(){var t=(0,S.Z)("<tr>"),i=(0,S.Z)("<thead>").append(t);this._$table.prepend(i);for(var r=0,u=this.option("colCount");r<u;r++)this._renderHeaderCell(r,t)},_renderHeaderCell:function(t,i){var{full:r,abbreviated:u}=this._getDayCaption(this._getFirstDayOfWeek()+t),m=(0,S.Z)("<th>").attr({scope:"col",abbr:r}).text(u);this._appendCell(i,m)},getNavigatorCaption:function(){return Z.Z.format(this.option("date"),"monthandyear")},_isTodayCell:function(t){var i=this.option("_todayDate")();return C.Z.sameDate(t,i)},_isDateOutOfRange:function(t){var i=this.option("min"),r=this.option("max");return!C.Z.dateInRange(t,i,r,"date")},_isOtherView:function(t){return t.getMonth()!==this.option("date").getMonth()},_getCellText:function(t){return Z.Z.format(t,"d")},_getDayCaption:function(t){var r=t%this.option("colCount");return{full:Z.Z.getDayNames()[r],abbreviated:Z.Z.getDayNames("abbreviated")[r]}},_getFirstCellData:function(){var t=C.Z.getFirstMonthDate(this.option("date")),i=this._getFirstDayOfWeek()-t.getDay(),r=this.option("colCount");return i>=0&&(i-=r),t.setDate(t.getDate()+i),t},_getNextCellData:function(t){return(t=new Date(t)).setDate(t.getDate()+1),t},_getFirstDayOfWeek:function(){return(0,X.$K)(this.option("firstDayOfWeek"))?this.option("firstDayOfWeek"):Z.Z.firstDayOfWeekIndex()},_getCellByDate:function(t){return this._$table.find("td[data-value='".concat(U.Z.serializeDate(t,C.Z.getShortDateFormat()),"']"))},isBoundary:function(t){return C.Z.sameMonthAndYear(t,this.option("min"))||C.Z.sameMonthAndYear(t,this.option("max"))},_getDefaultDisabledDatesHandler:function(t){return function(i){if(t.some(function(u){return C.Z.sameDate(u,i.date)}))return!0}}}),year:p.inherit({_getViewName:function(){return"year"},_isTodayCell:function(t){var i=this.option("_todayDate")();return C.Z.sameMonthAndYear(t,i)},_isDateOutOfRange:function(t){return!C.Z.dateInRange(t,C.Z.getFirstMonthDate(this.option("min")),C.Z.getLastMonthDate(this.option("max")))},_isOtherView:function(){return!1},_getCellText:function(t){return Z.Z.getMonthNames("abbreviated")[t.getMonth()]},_getFirstCellData:function(){var t=this.option("date"),i=new Date(t);return i.setDate(1),i.setMonth(0),i},_getNextCellData:function(t){return(t=new Date(t)).setMonth(t.getMonth()+1),t},_getCellByDate:function(t){var i=new Date(t);return i.setDate(1),this._$table.find("td[data-value='".concat(U.Z.serializeDate(i,C.Z.getShortDateFormat()),"']"))},getCellAriaLabel:function(t){return Z.Z.format(t,"monthandyear")},getNavigatorCaption:function(){return Z.Z.format(this.option("date"),"yyyy")},isBoundary:function(t){return C.Z.sameYear(t,this.option("min"))||C.Z.sameYear(t,this.option("max"))}}),decade:p.inherit({_getViewName:function(){return"decade"},_isTodayCell:function(t){var i=this.option("_todayDate")();return C.Z.sameYear(t,i)},_isDateOutOfRange:function(t){var i=this.option("min"),r=this.option("max");return!C.Z.dateInRange(t.getFullYear(),i&&i.getFullYear(),r&&r.getFullYear())},_isOtherView:function(t){var i=new Date(t);return i.setMonth(1),!C.Z.sameDecade(i,this.option("date"))},_getCellText:function(t){return Z.Z.format(t,"yyyy")},_getFirstCellData:function(){var t=C.Z.getFirstYearInDecade(this.option("date"))-1;return C.Z.createDateWithFullYear(t,0,1)},_getNextCellData:function(t){return(t=new Date(t)).setFullYear(t.getFullYear()+1),t},getNavigatorCaption:function(){var t=this.option("date"),i=C.Z.getFirstYearInDecade(t),r=new Date(t),u=new Date(t);return r.setFullYear(i),u.setFullYear(i+9),Z.Z.format(r,"yyyy")+"-"+Z.Z.format(u,"yyyy")},_isValueOnCurrentView:function(t,i){return C.Z.sameDecade(t,i)},_getCellByDate:function(t){var i=new Date(t);return i.setDate(1),i.setMonth(0),this._$table.find("td[data-value='".concat(U.Z.serializeDate(i,C.Z.getShortDateFormat()),"']"))},isBoundary:function(t){return C.Z.sameDecade(t,this.option("min"))||C.Z.sameDecade(t,this.option("max"))}}),century:p.inherit({_getViewName:function(){return"century"},_isTodayCell:function(t){var i=this.option("_todayDate")();return C.Z.sameDecade(t,i)},_isDateOutOfRange:function(t){var i=C.Z.getFirstYearInDecade(t),r=C.Z.getFirstYearInDecade(this.option("min")),u=C.Z.getFirstYearInDecade(this.option("max"));return!C.Z.dateInRange(i,r,u)},_isOtherView:function(t){var i=new Date(t);return i.setMonth(1),!C.Z.sameCentury(i,this.option("date"))},_getCellText:function(t){var i=Z.Z.format(t,"yyyy"),r=new Date(t);return r.setFullYear(r.getFullYear()+9),i+" - "+Z.Z.format(r,"yyyy")},_getFirstCellData:function(){var t=C.Z.getFirstDecadeInCentury(this.option("date"))-10;return C.Z.createDateWithFullYear(t,0,1)},_getNextCellData:function(t){return(t=new Date(t)).setFullYear(t.getFullYear()+10),t},_getCellByDate:function(t){var i=new Date(t);return i.setDate(1),i.setMonth(0),i.setFullYear(C.Z.getFirstYearInDecade(i)),this._$table.find("td[data-value='".concat(U.Z.serializeDate(i,C.Z.getShortDateFormat()),"']"))},getNavigatorCaption:function(){var t=this.option("date"),i=C.Z.getFirstDecadeInCentury(t),r=new Date(t),u=new Date(t);return r.setFullYear(i),u.setFullYear(i+99),Z.Z.format(r,"yyyy")+"-"+Z.Z.format(u,"yyyy")},isBoundary:function(t){return C.Z.sameCentury(t,this.option("min"))||C.Z.sameCentury(t,this.option("max"))}})};const pt=Q;var ft=l(6885),vt=l(5922),wt=l(4609),Ce="dx-calendar-view",_e={month:3,year:2,decade:1,century:0},Ue=c.Z.inherit({_activeStateUnit:".dx-calendar-cell",_getDefaultOptions:function(){return(0,V.l)(this.callBase(),{hoverStateEnabled:!0,activeStateEnabled:!0,currentDate:new Date,value:null,dateSerializationFormat:void 0,min:new Date(1e3,0),max:new Date(3e3,0),firstDayOfWeek:void 0,zoomLevel:"month",maxZoomLevel:"month",minZoomLevel:"century",showTodayButton:!1,cellTemplate:"cell",disabledDates:null,onCellClick:null,onContouredChanged:null,skipFocusCheck:!1,_todayDate:()=>new Date})},_defaultOptionsRules:function(){return this.callBase().concat([{device:function(){return"desktop"===_.Z.real().deviceType&&!_.Z.isSimulator()},options:{focusStateEnabled:!0}}])},_supportedKeys:function(){return(0,V.l)(this.callBase(),{rightArrow:function(t){t.preventDefault(),(0,O.j1)(t)?this._waitRenderView(1):this._moveCurrentDateByOffset(1*this._getRtlCorrection())},leftArrow:function(t){t.preventDefault(),(0,O.j1)(t)?this._waitRenderView(-1):this._moveCurrentDateByOffset(-1*this._getRtlCorrection())},upArrow:function(t){if(t.preventDefault(),(0,O.j1)(t))this._navigateUp();else{if(vt.Z.isAnimating(this._view.$element()))return;this._moveCurrentDateByOffset(-1*this._view.option("colCount"))}},downArrow:function(t){if(t.preventDefault(),(0,O.j1)(t))this._navigateDown();else{if(vt.Z.isAnimating(this._view.$element()))return;this._moveCurrentDateByOffset(1*this._view.option("colCount"))}},home:function(t){t.preventDefault();var i=this.option("zoomLevel"),r=this.option("currentDate"),u=this._dateOption("min");if(!this._view.isDateDisabled(r)){var m=C.Z.sameView(i,r,u)?u:C.Z.getViewFirstCellDate(i,r);this._moveToClosestAvailableDate(m)}},end:function(t){t.preventDefault();var i=this.option("zoomLevel"),r=this.option("currentDate"),u=this._dateOption("max");if(!this._view.isDateDisabled(r)){var m=C.Z.sameView(i,r,u)?u:C.Z.getViewLastCellDate(i,r);this._moveToClosestAvailableDate(m)}},pageUp:function(t){t.preventDefault(),this._waitRenderView(-1*this._getRtlCorrection())},pageDown:function(t){t.preventDefault(),this._waitRenderView(1*this._getRtlCorrection())},tab:L.ZT,enter:function(t){if(this._isMaxZoomLevel()){if(!this._view.isDateDisabled(this.option("currentDate"))){var i=this._updateTimeComponent(this.option("currentDate"));this._dateValue(i,t)}}else this._navigateDown()}})},_getSerializationFormat:function(t){var i=this.option(t||"value");return this.option("dateSerializationFormat")?this.option("dateSerializationFormat"):(0,X.kE)(i)?"number":(0,X.HD)(i)?U.Z.getDateSerializationFormat(i):void 0},_convertToDate:function(t,i){return U.Z.deserializeDate(t)},_dateValue:function(t,i){if(i){if("keydown"===i.type){var r=this._view._getContouredCell().get(0);i.target=r}this._saveValueChangeEvent(i)}this._dateOption("value",t)},_dateOption:function(t,i){if(1===arguments.length)return this._convertToDate(this.option(t),t);var r=this._getSerializationFormat(t);this.option(t,U.Z.serializeDate(i,r))},_shiftDate:function(t,i,r,u){switch(t){case"month":i.setDate(i.getDate()+r*u);break;case"year":i.setMonth(i.getMonth()+r*u);break;case"decade":i.setFullYear(i.getFullYear()+r*u);break;case"century":i.setFullYear(i.getFullYear()+10*r*u)}},_moveCurrentDateByOffset:function(t){var i=this.option("currentDate"),r=new Date(i),u=this.option("zoomLevel");this._shiftDate(u,r,t,1);for(var m=this._getMaxDate(),w=this._getMinDate(),dt=this._areDatesInNeighborView(u,r,i),St=(0,$.Z2)(r,w,m)&&dt,Bt=new Date(r);St;){if(!this._view.isDateDisabled(Bt)){r=Bt;break}this._shiftDate(u,Bt,t,1),dt=this._areDatesInNeighborView(u,Bt,i),St=(0,$.Z2)(Bt,w,m)&&dt}this._view.isDateDisabled(i)||this._view.isDateDisabled(r)?this._waitRenderView(t>0?1:-1):this.option("currentDate",r)},_areDatesInSameView(t,i,r){switch(t){case"month":return i.getMonth()===r.getMonth();case"year":return i.getYear()===r.getYear();case"decade":return parseInt(i.getYear()/10)===parseInt(r.getYear()/10);case"century":return parseInt(i.getYear()/100)===parseInt(r.getYear()/100)}},_areDatesInNeighborView(t,i,r){switch(t){case"month":return u=i.getMonth(),m=r.getMonth(),w=Math.abs(u-m),Math.min(w,12-w)<=1;case"year":return Math.abs(i.getYear()-r.getYear())<=1;case"decade":return Math.abs(i.getYear()-r.getYear())<=10;case"century":return Math.abs(i.getYear()-r.getYear())<=100}var u,m,w},_moveToClosestAvailableDate:function(){var dt,St,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.option("currentDate"),i=new Date(t),r=this.option("zoomLevel"),u=!this._isDateNotAvailable(i),m=u,w=u,Bt=new Date(i),Rt=new Date(i);do{if(m){i=Bt;break}if(w){i=Rt;break}this._shiftDate(r,Bt,1,1),this._shiftDate(r,Rt,1,-1),dt=this._areDatesInSameView(r,Bt,t),St=this._areDatesInSameView(r,Rt,t),m=dt&&!this._isDateNotAvailable(Bt),w=St&&!this._isDateNotAvailable(Rt)}while(dt||St);this.option("currentDate",i)},_isDateNotAvailable:function(t){var i=this._getMaxDate(),r=this._getMinDate();return!(0,$.Z2)(t,r,i)||this._view.isDateDisabled(t)},_init:function(){this.callBase(),this._correctZoomLevel(),this._initCurrentDate(),this._initActions()},_correctZoomLevel:function(){var t=this.option("minZoomLevel"),i=this.option("maxZoomLevel"),r=this.option("zoomLevel");_e[i]<_e[t]||(_e[r]>_e[i]?this.option("zoomLevel",i):_e[r]<_e[t]&&this.option("zoomLevel",t))},_initCurrentDate:function(){var t=this._getNormalizedDate(this._dateOption("value"))||this._getNormalizedDate(this.option("currentDate"));this.option("currentDate",t)},_getNormalizedDate:function(t){return t=C.Z.normalizeDate(t,this._getMinDate(),this._getMaxDate()),(0,X.$K)(t)?this._getDate(t):t},_initActions:function(){this._cellClickAction=this._createActionByOption("onCellClick"),this._onContouredChanged=this._createActionByOption("onContouredChanged")},_initTemplates:function(){this._templateManager.addDefaultTemplates({cell:new wt.k(function(t){var i=t.model;(0,S.Z)(t.container).append((0,S.Z)("<span>").text(i&&i.text||String(i)))})}),this.callBase()},_updateCurrentDate:function(t){if(vt.Z.isAnimating(this._$viewsWrapper)&&vt.Z.stop(this._$viewsWrapper,!0),this._getMinDate()>this._getMaxDate())this.option("currentDate",new Date);else{var u=this._getNormalizedDate(t);if(t.getTime()===u.getTime()){var m=this._getViewsOffset(this._view.option("date"),u);0!==m&&!this._isMaxZoomLevel()&&this._isOtherViewCellClicked&&(m=0),this._view&&0!==m&&!this._suppressNavigation?this._navigate(m,u):(this._renderNavigator(),this._setViewContoured(u),this._updateAriaId(u))}else this.option("currentDate",new Date(u))}},_setViewContoured:function(t){(this.option("skipFocusCheck")||function Oi(t){return t.hasClass("dx-state-focused")}(this._focusTarget()))&&this._view.option("contouredDate",t)},_getMinDate:function(){return this.min||(this.min=this._dateOption("min")||new Date(1e3,0)),this.min},_getMaxDate:function(){return this.max||(this.max=this._dateOption("max")||new Date(3e3,0)),this.max},_getViewsOffset:function(t,i){var u,r=this.option("zoomLevel");if("month"===r)return this._getMonthsOffset(t,i);switch(r){case"century":u=100;break;case"decade":u=10;break;default:u=1}return parseInt(i.getFullYear()/u)-parseInt(t.getFullYear()/u)},_getMonthsOffset:function(t,i){return 12*(i.getFullYear()-t.getFullYear())+(i.getMonth()-t.getMonth())},_waitRenderView:function(t){if(!this._alreadyViewRender){this._alreadyViewRender=!0;var i=this._getDateByOffset(t*this._getRtlCorrection());this._moveToClosestAvailableDate(i),this._waitRenderViewTimeout=setTimeout(()=>{this._alreadyViewRender=!1})}},_getRtlCorrection:function(){return this.option("rtlEnabled")?-1:1},_getDateByOffset:function(t,i){var r,u=(i=this._getDate(null!==(r=i)&&void 0!==r?r:this.option("currentDate"))).getDate(),m=C.Z.getDifferenceInMonth(this.option("zoomLevel"))*t;i.setDate(1),i.setMonth(i.getMonth()+m);var w=C.Z.getLastMonthDate(i).getDate();return i.setDate(u>w?w:u),i},_focusTarget:function(){return this.$element()},_initMarkup:function(){this._renderSubmitElement(),this.callBase();var t=this.$element();t.addClass("dx-calendar"),this._renderBody(),t.append(this.$body),this._renderViews(),this._renderNavigator(),t.append(this._navigator.$element()),this._renderSwipeable(),this._renderFooter(),this._updateAriaSelected(),this._updateAriaId(),this._moveToClosestAvailableDate()},_render:function(){this.callBase(),this._setViewContoured(this.option("currentDate"))},_renderBody:function(){this._$viewsWrapper||(this.$body=(0,S.Z)("<div>").addClass("dx-calendar-body"),this._$viewsWrapper=(0,S.Z)("<div>").addClass("dx-calendar-views-wrapper"),this.$body.append(this._$viewsWrapper))},_getKeyboardListeners(){return this.callBase().concat([this._view])},_renderViews:function(){this.$element().addClass(Ce+"-"+this.option("zoomLevel"));var t=this.option("currentDate");if(this._view=this._renderSpecificView(t),(0,R.Ym)()){var i=this._getDateByOffset(-1,t);this._beforeView=this._isViewAvailable(i)?this._renderSpecificView(i):null;var r=this._getDateByOffset(1,t);r.setDate(1),this._afterView=this._isViewAvailable(r)?this._renderSpecificView(r):null}this._translateViews()},_renderSpecificView:function(t){var i=pt[this.option("zoomLevel")],r=(0,S.Z)("<div>").appendTo(this._$viewsWrapper),u=this._viewConfig(t);return this._createComponent(r,i,u)},_viewConfig:function(t){var i=this.option("disabledDates");return i=(0,X.mf)(i)?this._injectComponent(i.bind(this)):i,{date:t,min:this._getMinDate(),max:this._getMaxDate(),firstDayOfWeek:this.option("firstDayOfWeek"),value:this._dateOption("value"),tabIndex:void 0,focusStateEnabled:this.option("focusStateEnabled"),hoverStateEnabled:this.option("hoverStateEnabled"),disabledDates:i,onCellClick:this._cellClickHandler.bind(this),cellTemplate:this._getTemplateByOption("cellTemplate"),allowValueSelection:this._isMaxZoomLevel(),_todayDate:this.option("_todayDate")}},_injectComponent:function(t){var i=this;return function(r){return(0,V.l)(r,{component:i}),t(r)}},_isViewAvailable:function(t){var i=this.option("zoomLevel"),r=C.Z.getViewMinBoundaryDate(i,this._getMinDate()),u=C.Z.getViewMaxBoundaryDate(i,this._getMaxDate());return C.Z.dateInRange(t,r,u)},_translateViews:function(){(0,ft.pB)(this._view.$element(),{left:0,top:0}),this._beforeView&&(0,ft.pB)(this._beforeView.$element(),{left:this._getViewPosition(-1),top:0}),this._afterView&&(0,ft.pB)(this._afterView.$element(),{left:this._getViewPosition(1),top:0})},_getViewPosition:function(t){return 100*t*(this.option("rtlEnabled")?-1:1)+"%"},_cellClickHandler:function(t){var i=this.option("zoomLevel"),r=C.Z.getViewDown(i),u=this._isMaxZoomLevel();if(r&&!u)this._navigateDown(t.event.currentTarget);else{var m=this._updateTimeComponent(t.value);this._dateValue(m,t.event),this._cellClickAction(t)}},_updateTimeComponent:function(t){var i=new Date(t),r=this._dateOption("value");return r&&(i.setHours(r.getHours()),i.setMinutes(r.getMinutes()),i.setSeconds(r.getSeconds()),i.setMilliseconds(r.getMilliseconds())),i},_isMaxZoomLevel:function(){return this.option("zoomLevel")===this.option("maxZoomLevel")},_navigateDown:function(t){var i=this.option("zoomLevel");if(!this._isMaxZoomLevel()){var r=C.Z.getViewDown(i);if(r){var u=this._view.option("contouredDate")||this._view.option("date");t&&(u=(0,S.Z)(t).data("dxDateValueKey")),this._isOtherViewCellClicked=!0,this.option("currentDate",u),this.option("zoomLevel",r),this._isOtherViewCellClicked=!1,this._renderNavigator(),this._animateShowView(),this._moveToClosestAvailableDate(),this._setViewContoured(this._getNormalizedDate(this.option("currentDate")))}}},_renderNavigator:function(){this._navigator||(this._navigator=new Pt((0,S.Z)("<div>"),this._navigatorConfig())),this._navigator.option("text",this._view.getNavigatorCaption()),this._updateButtonsVisibility()},_navigatorConfig:function(){return{text:this._view.getNavigatorCaption(),onClick:this._navigatorClickHandler.bind(this),onCaptionClick:this._navigateUp.bind(this),rtlEnabled:this.option("rtlEnabled")}},_navigatorClickHandler:function(t){var i=this._getDateByOffset(t.direction,this.option("currentDate"));this._moveToClosestAvailableDate(i)},_navigateUp:function(){var t=this.option("zoomLevel"),i=C.Z.getViewUp(t);!i||this._isMinZoomLevel(t)||(this.option("zoomLevel",i),this._renderNavigator(),this._animateShowView(),this._moveToClosestAvailableDate(),this._setViewContoured(this._getNormalizedDate(this.option("currentDate"))))},_isMinZoomLevel:function(t){var i=this._getMinDate(),r=this._getMaxDate();return C.Z.sameView(t,i,r)||this.option("minZoomLevel")===t},_updateButtonsVisibility:function(){this._navigator.toggleButton("next",!(0,X.$K)(this._getRequiredView("next"))),this._navigator.toggleButton("prev",!(0,X.$K)(this._getRequiredView("prev")))},_renderSwipeable:function(){this._swipeable||(this._swipeable=this._createComponent(this.$element(),b.Z,{onStart:this._swipeStartHandler.bind(this),onUpdated:this._swipeUpdateHandler.bind(this),onEnd:this._swipeEndHandler.bind(this),itemSizeFunc:this._viewWidth.bind(this)}))},_swipeStartHandler:function(t){vt.Z.stop(this._$viewsWrapper,!0),t.event.maxLeftOffset=this._getRequiredView("next")?1:0,t.event.maxRightOffset=this._getRequiredView("prev")?1:0},_getRequiredView:function(t){var i,r=this.option("rtlEnabled");return"next"===t?i=r?this._beforeView:this._afterView:"prev"===t&&(i=r?this._afterView:this._beforeView),i},_swipeUpdateHandler:function(t){var i=t.event.offset;(0,ft.pB)(this._$viewsWrapper,{left:i*this._viewWidth(),top:0}),this._updateNavigatorCaption(i)},_swipeEndHandler:function(t){var i=t.event.targetOffset,r=i?i/Math.abs(i):0;if(0!==r){var u=this._getDateByOffset(-r*this._getRtlCorrection());this._isDateInInvalidRange(u)&&(u=r>=0?new Date(this._getMinDate()):new Date(this._getMaxDate())),this.option("currentDate",u)}else this._animateWrapper(0,250)},_viewWidth:function(){return this._viewWidthValue||(this._viewWidthValue=(0,I.dz)(this.$element())),this._viewWidthValue},_updateNavigatorCaption:function(t){t*=this._getRtlCorrection();var i=this._view;t>.5&&this._beforeView?i=this._beforeView:t<-.5&&this._afterView&&(i=this._afterView),this._navigator.option("text",i.getNavigatorCaption())},_isDateInInvalidRange:function(t){if(!this._view.isBoundary(t)){var i=this._getMinDate(),r=this._getMaxDate(),u=C.Z.normalizeDate(t,i,r);return u===i||u===r}},_renderFooter:function(){var t=this.option("showTodayButton");if(t){var i=this._createComponent((0,S.Z)("<a>"),nt.Z,{focusStateEnabled:!1,text:d.Z.format("dxCalendar-todayButtonText"),onClick:function(r){this._toTodayView(r)}.bind(this),integrationOptions:{}}).$element().addClass("dx-calendar-today-button");this._$footer=(0,S.Z)("<div>").addClass("dx-calendar-footer").append(i),this.$element().append(this._$footer)}this.$element().toggleClass("dx-calendar-with-footer",t)},_renderSubmitElement:function(){this._$submitElement=(0,S.Z)("<input>").attr("type","hidden").appendTo(this.$element()),this._setSubmitValue(this.option("value"))},_setSubmitValue:function(t){var i=this._convertToDate(t);this._getSubmitElement().val(U.Z.serializeDate(i,"yyyy-MM-dd"))},_getSubmitElement:function(){return this._$submitElement},_animateShowView:function(){return vt.Z.stop(this._view.$element(),!0),this._popAnimationView(this._view,.6,1,250).promise()},_popAnimationView:function(t,i,r,u){return vt.Z.animate(t.$element(),{type:"pop",from:{scale:i,opacity:i},to:{scale:r,opacity:r},duration:u})},_navigate:function(t,i){if(0!==t&&1!==Math.abs(t)&&this._isViewAvailable(i)){var r=this._renderSpecificView(i);t>0?(this._afterView&&this._afterView.$element().remove(),this._afterView=r):(this._beforeView&&this._beforeView.$element().remove(),this._beforeView=r),this._translateViews()}var w=-this._getRtlCorrection()*(t>0?1:t<0?-1:0)*this._viewWidth();this._$viewsWrapper.position().left!==w&&(this._preventViewChangeAnimation?this._wrapperAnimationEndHandler(t,i):this._animateWrapper(w,250).done(this._wrapperAnimationEndHandler.bind(this,t,i)))},_animateWrapper:function(t,i){return vt.Z.animate(this._$viewsWrapper,{type:"slide",from:{left:this._$viewsWrapper.position().left},to:{left:t},duration:i})},_getDate:t=>new Date(t),_toTodayView:function(t){this._saveValueChangeEvent(t.event);var i=new Date;this._isMaxZoomLevel()?this._dateOption("value",i):(this._preventViewChangeAnimation=!0,this.option("zoomLevel",this.option("maxZoomLevel")),this._dateOption("value",i),this._animateShowView(),this._preventViewChangeAnimation=!1)},_wrapperAnimationEndHandler:function(t,i){this._rearrangeViews(t),this._translateViews(),this._resetLocation(),this._renderNavigator(),this._setViewContoured(i),this._updateAriaId(i)},_rearrangeViews:function(t){var i,r,u;if(0!==t&&(t<0?(i=1,r="_beforeView",u="_afterView"):(i=-1,r="_afterView",u="_beforeView"),this[r])){var m=this[r].option("date");this[u]&&this[u].$element().remove(),t===i?this[u]=this._view:(this[u]=this._renderSpecificView(this._getDateByOffset(i,m)),this._view.$element().remove()),this._view=this[r];var w=this._getDateByOffset(-i,m);this[r]=this._isViewAvailable(w)?this._renderSpecificView(w):null}},_resetLocation:function(){(0,ft.pB)(this._$viewsWrapper,{left:0,top:0})},_clean:function(){this.callBase(),this._clearViewWidthCache(),delete this._$viewsWrapper,delete this._navigator,delete this._$footer},_clearViewWidthCache:function(){delete this._viewWidthValue},_disposeViews:function(){this._view.$element().remove(),this._beforeView&&this._beforeView.$element().remove(),this._afterView&&this._afterView.$element().remove(),delete this._view,delete this._beforeView,delete this._afterView},_dispose:function(){clearTimeout(this._waitRenderViewTimeout),this.callBase()},_refreshViews:function(){this._disposeViews(),this._renderViews()},_visibilityChanged:function(){this._translateViews()},_focusInHandler:function(){this.callBase.apply(this,arguments),this._view.option("contouredDate",this.option("currentDate"))},_focusOutHandler:function(){this.callBase.apply(this,arguments),this._view.option("contouredDate",null)},_updateViewsValue:function(t){var i=t?new Date(t):null;this._view.option("value",i),this._beforeView&&this._beforeView.option("value",i),this._afterView&&this._afterView.option("value",i)},_updateAriaSelected:function(t,i){var r;t=null!==(r=t)&&void 0!==r?r:this._dateOption("value");var u=this._view._getCellByDate(i),m=this._view._getCellByDate(t);this.setAria("selected",void 0,u),this.setAria("selected",!0,m),t&&this.option("currentDate").getTime()===t.getTime()&&this._updateAriaId(t)},_updateAriaId:function(t){var i;t=null!==(i=t)&&void 0!==i?i:this.option("currentDate");var r="dx-"+new k.Z,u=this._view._getCellByDate(t);this.setAria("id",r,u),this.setAria("activedescendant",r),this._onContouredChanged(r)},_suppressingNavigation:function(t,i){this._suppressNavigation=!0,t.apply(this,i),delete this._suppressNavigation},_optionChanged:function(t){var i=t.value,r=t.previousValue;switch(t.name){case"width":this.callBase(t),this._clearViewWidthCache();break;case"min":case"max":this.min=void 0,this.max=void 0,this._suppressingNavigation(this._updateCurrentDate,[this.option("currentDate")]),this._refreshViews(),this._renderNavigator();break;case"firstDayOfWeek":this._refreshViews(),this._updateButtonsVisibility();break;case"currentDate":this.setAria("id",void 0,this._view._getCellByDate(r)),this._updateCurrentDate(i);break;case"zoomLevel":this.$element().removeClass(Ce+"-"+r),this._correctZoomLevel(),this._refreshViews(),this._renderNavigator(),this._updateAriaId();break;case"minZoomLevel":case"maxZoomLevel":this._correctZoomLevel(),this._updateButtonsVisibility();break;case"value":i=this._convertToDate(i),r=this._convertToDate(r),this._updateAriaSelected(i,r),this.option("currentDate",(0,X.$K)(i)?new Date(i):new Date),this._updateViewsValue(i),this._setSubmitValue(i),this.callBase(t);break;case"onCellClick":this._view.option("onCellClick",i);break;case"onContouredChanged":this._onContouredChanged=this._createActionByOption("onContouredChanged");break;case"disabledDates":case"dateSerializationFormat":case"cellTemplate":case"showTodayButton":this._invalidate();break;case"skipFocusCheck":break;case"_todayDate":this._refreshViews();break;default:this.callBase(t)}},getContouredDate:function(){return this._view.option("contouredDate")}});(0,H.Z)("dxCalendar",Ue);const wi=Ue;var Oe=l(4245),Ie=Oe.Z.abstract,Ze=Oe.Z.inherit({ctor:function(t){this.dateBox=t},widgetOption:function(){return this._widget&&this._widget.option.apply(this._widget,arguments)},_renderWidget:function(t){t=t||(0,S.Z)("<div>"),this._widget=this._createWidget(t),this._widget.$element().appendTo(this._getWidgetContainer())},_createWidget:function(t){var i=this._getWidgetName(),r=this._getWidgetOptions();return this.dateBox._createComponent(t,i,r)},_getWidgetOptions:Ie,_getWidgetName:Ie,getDefaultOptions:function(){return{mode:"text"}},getDisplayFormat:Ie,supportedKeys:L.ZT,getKeyboardListener:L.ZT,customizeButtons:L.ZT,getParsedText:function(t,i){return Z.Z.parse(t,i)||Z.Z.parse(t)},renderInputMinMax:L.ZT,renderOpenedState:function(){this._updateValue()},popupConfig:Ie,_dimensionChanged:function(){var t;null===(t=this._getPopup())||void 0===t||t.repaint()},renderPopupContent:function(){var t=this._getPopup();this._renderWidget();var i=t.$content().parent();P.Z.off(i,"mousedown"),P.Z.on(i,"mousedown",this._preventFocusOnPopup.bind(this))},getFirstPopupElement:L.ZT,getLastPopupElement:L.ZT,_preventFocusOnPopup:function(t){t.preventDefault()},_getWidgetContainer:function(){return this._getPopup().$content()},_getPopup:function(){return this.dateBox._popup},popupShowingHandler:L.ZT,popupHiddenHandler:L.ZT,_updateValue:function(){this._widget&&this._widget.option("value",this.dateBoxValue())},useCurrentDateByDefault:L.ZT,getDefaultDate:function(){return new Date},textChangedHandler:L.ZT,renderValue:function(){this.dateBox.option("opened")&&this._updateValue()},getValue:function(){return this._widget.option("value")},isAdaptivityChanged:function(){return!1},dispose:function(){var t=this._getPopup();t&&t.$content().empty()},dateBoxValue:function(){return arguments.length?this.dateBox.dateValue.apply(this.dateBox,arguments):this.dateBox.dateOption.apply(this.dateBox,["value"])}});const we=Ze;var Te=we.inherit({NAME:"Calendar",supportedKeys:function(){var t=function(i){return!!this.option("opened")&&(i.preventDefault(),!0)};return{rightArrow:function(){if(this.option("opened"))return!0},leftArrow:function(){if(this.option("opened"))return!0},enter:function(i){if(this.dateBox.option("opened")){if(i.preventDefault(),this._widget.option("zoomLevel")===this._widget.option("maxZoomLevel")){var r=this._getContouredValue(),u=this._lastActionElement,m=this._closeDropDownByEnter();return m&&r&&"calendar"===u&&this.dateBoxValue(r,i),m&&this.dateBox.close(),this.dateBox._valueChangeEventHandler(i),!m}return!0}this.dateBox._valueChangeEventHandler(i)}.bind(this),home:t,end:t}},getDisplayFormat:function(t){return t||"shortdate"},_closeDropDownByEnter:()=>!0,_getWidgetName:function(){return wi},_getContouredValue:function(){return this._widget._view.option("contouredDate")},getKeyboardListener(){return this._widget},_getWidgetOptions:function(){var t=this.dateBox.option("disabledDates");return(0,V.l)(this.dateBox.option("calendarOptions"),{value:this.dateBoxValue()||null,dateSerializationFormat:null,min:this.dateBox.dateOption("min"),max:this.dateBox.dateOption("max"),onValueChanged:this._valueChangedHandler.bind(this),onCellClick:this._cellClickHandler.bind(this),tabIndex:null,disabledDates:(0,X.mf)(t)?this._injectComponent(t.bind(this.dateBox)):t,onContouredChanged:this._refreshActiveDescendant.bind(this),skipFocusCheck:!0})},_injectComponent:function(t){var i=this;return function(r){return(0,V.l)(r,{component:i.dateBox}),t(r)}},_refreshActiveDescendant:function(t){this._lastActionElement="calendar",this.dateBox.setAria("activedescendant",t.actionValue)},popupConfig:function(t){var u,i=t.toolbarItems,r=this.dateBox.option("buttonsLocation");return u="default"!==r?(0,L.Um)(r):["bottom","center"],"useButtons"===this.dateBox.option("applyValueMode")&&this._isCalendarVisible()&&i.unshift({widget:"dxButton",toolbar:u[0],location:"after"===u[1]?"before":u[1],options:{onInitialized:function(m){m.component.registerKeyHandler("escape",this._escapeHandler.bind(this))}.bind(this),onClick:m=>{this._widget._toTodayView(m)},text:d.Z.format("dxCalendar-todayButtonText"),type:"today"}}),(0,V.l)(!0,t,{toolbarItems:i,position:{collision:"flipfit flip"},width:"auto"})},_isCalendarVisible:function(){return(0,X.Qr)(this.dateBox.option("calendarOptions"))||!1!==this.dateBox.option("calendarOptions.visible")},_escapeHandler:function(){this.dateBox.close(),this.dateBox.focus()},_valueChangedHandler:function(t){var i=this.dateBox;C.Z.sameDate(t.value,t.previousValue)||"instantly"===i.option("applyValueMode")&&this.dateBoxValue(this.getValue(),t.event)},_updateValue:function(){!this._widget||this._widget.option("value",this.dateBoxValue())},textChangedHandler:function(){this._lastActionElement="input",this.dateBox.option("opened")&&this._widget&&this._updateValue(!0)},_cellClickHandler:function(t){var i=this.dateBox;"instantly"===i.option("applyValueMode")&&(i.option("opened",!1),this.dateBoxValue(this.getValue(),t.event))}});const Ne=Te;var Vi=l(2848),Ge=l(261),Xe="dx-dateview-item";class Qe extends Vi.Z{_getDefaultOptions(){return(0,V.l)(super._getDefaultOptions(),{showScrollbar:"never",useNative:!1,selectedIndex:0,bounceEnabled:!1,items:[],showOnClick:!1,onClick:null,onSelectedIndexChanged:null,scrollByContent:!0})}_init(){super._init(),this.option("onVisibilityChange",this._visibilityChangedHandler.bind(this)),this.option("onEnd",this._endActionHandler.bind(this))}_render(){super._render(),this._renderSelectedItemFrame(),this.$element().addClass("dx-dateviewroller"),this._renderContainerClick(),this._renderItems(),this._renderSelectedValue(),this._renderItemsClick(),this._renderWheelEvent(),this._renderSelectedIndexChanged()}_renderSelectedIndexChanged(){this._selectedIndexChanged=this._createActionByOption("onSelectedIndexChanged")}_renderWheelEvent(){P.Z.on((0,S.Z)(this.container()),"dxmousewheel",i=>{this._isWheelScrolled=!0})}_renderContainerClick(){if(this.option("showOnClick")){var i=(0,O.V4)($t.u,this.NAME),r=this._createActionByOption("onClick");P.Z.off((0,S.Z)(this.container()),i),P.Z.on((0,S.Z)(this.container()),i,function(u){r({event:u})})}}_renderItems(){var i=this.option("items")||[],r=(0,S.Z)();(0,S.Z)(this.content()).empty(),i.forEach(function(u){r=r.add((0,S.Z)("<div>").addClass(Xe).append(u))}),(0,S.Z)(this.content()).append(r),this._$items=r,this.update()}_renderSelectedItemFrame(){(0,S.Z)("<div>").addClass("dx-dateview-item-selected-frame").append((0,S.Z)("<div>").addClass("dx-dateview-item-selected-border")).appendTo((0,S.Z)(this.container()))}_renderSelectedValue(i){var r=this._fitIndex(null!=i?i:this.option("selectedIndex"));this._moveTo({top:this._getItemPosition(r)}),this._renderActiveStateItem()}_fitIndex(i){var u=(this.option("items")||[]).length;return i>=u?u-1:i<0?0:i}_getItemPosition(i){return Math.round(this._itemHeight()*i)}_renderItemsClick(){var i=this._getItemSelector(),r=(0,O.V4)($t.u,this.NAME);P.Z.off(this.$element(),r,i),P.Z.on(this.$element(),r,i,this._itemClickHandler.bind(this))}_getItemSelector(){return"."+Xe}_itemClickHandler(i){this.option("selectedIndex",this._itemElementIndex(i.currentTarget))}_itemElementIndex(i){return this._itemElements().index(i)}_itemElements(){return this.$element().find(this._getItemSelector())}_renderActiveStateItem(){var i=this.option("selectedIndex");(0,j.S6)(this._$items,function(r){(0,S.Z)(this).toggleClass("dx-dateview-item-selected",i===r)})}_shouldScrollToNeighborItem(){return"desktop"===_.Z.real().deviceType&&this._isWheelScrolled}_moveTo(i){var{top:r,left:u}=function Ye(t,i){if((0,X.PO)(t)){var r=(0,L.IS)(t.left,t.x),u=(0,L.IS)(t.top,t.y);return{left:(0,X.$K)(r)?r:void 0,top:(0,X.$K)(u)?u:void 0}}var{isHorizontal:m,isVertical:w}=new Ge.I(i);return{left:m&&(0,X.$K)(t)?t:void 0,top:w&&(0,X.$K)(t)?t:void 0}}(i),m=this.scrollOffset(),w={x:m.left-u,y:m.top-r};if(this._isVisible()&&(w.x||w.y))if(this._prepareDirections(!0),this._animation&&!this._shouldScrollToNeighborItem()){var dt=this;vt.Z.stop((0,S.Z)(this.content())),vt.Z.animate((0,S.Z)(this.content()),{duration:200,type:"slide",to:{top:Math.floor(w.y)},complete(){(0,ft.Kx)((0,S.Z)(dt.content())),dt.handleMove({delta:w})}}),delete this._animation}else this.handleMove({delta:w})}_validate(i){return this._moveIsAllowed(i)}_fitSelectedIndexInRange(i){var r=this.option("items").length;return Math.max(Math.min(i,r-1),0)}_isInNullNeighborhood(i){return-.1<=i&&i<=.1}_getSelectedIndexAfterScroll(i){var m=this.scrollOffset().top-i*this._itemHeight();return this._isInNullNeighborhood(m)?i:this._fitSelectedIndexInRange(i+(m>0?1:-1))}_getNewSelectedIndex(i){if(this._shouldScrollToNeighborItem())return this._getSelectedIndexAfterScroll(i);this._animation=!0;var r=this.scrollOffset().top/this._itemHeight();return Math.round(r)}_endActionHandler(){var i=this.option("selectedIndex"),r=this._getNewSelectedIndex(i);r===i?this._renderSelectedValue(r):this.option("selectedIndex",r),this._isWheelScrolled=!1}_itemHeight(){var i=this._$items.first();return(0,I.Cr)(i)}_toggleActive(i){this.$element().toggleClass("dx-state-active",i)}_isVisible(){return(0,S.Z)(this.container()).is(":visible")}_fireSelectedIndexChanged(i,r){this._selectedIndexChanged({value:i,previousValue:r,event:void 0})}_visibilityChanged(i){super._visibilityChanged(i),this._visibilityChangedHandler(i)}_visibilityChangedHandler(i){i&&(this._visibilityTimer=setTimeout(()=>{this._renderSelectedValue(this.option("selectedIndex"))})),this.toggleActiveState(!1)}toggleActiveState(i){this.$element().toggleClass("dx-dateviewroller-current",i)}_refreshSelectedIndex(){var i=this.option("selectedIndex"),r=this._fitIndex(i);r===i?this._renderActiveStateItem():this.option("selectedIndex",r)}_optionChanged(i){switch(i.name){case"selectedIndex":this._fireSelectedIndexChanged(i.value,i.previousValue),this._renderSelectedValue(i.value);break;case"items":this._renderItems(),this._refreshSelectedIndex();break;case"onClick":case"showOnClick":this._renderContainerClick();break;case"onSelectedIndexChanged":this._renderSelectedIndexChanged();break;default:super._optionChanged(i)}}_dispose(){clearTimeout(this._visibilityTimer),super._dispose()}}(0,H.Z)("dxDateViewRoller",Qe);const Ni=Qe;var he="dx-dateview",ti=c.Z.inherit({_valueOption:function(){var t=this.option("value"),i=new Date(t);return!t||isNaN(i)?this._getDefaultDate():i},_getDefaultDate:function(){var t=new Date;return"date"===this.option("type")?new Date(t.getFullYear(),t.getMonth(),t.getDate()):t},_getDefaultOptions:function(){return(0,V.l)(this.callBase(),{minDate:M.MIN_DATEVIEW_DEFAULT_DATE,maxDate:M.MAX_DATEVIEW_DEFAULT_DATE,type:"date",value:new Date,applyCompactClass:!1})},_defaultOptionsRules:function(){return this.callBase().concat([{device:function(t){return"desktop"!==t.deviceType},options:{applyCompactClass:!0}}])},_render:function(){this.callBase(),this.$element().addClass(he),this._toggleFormatClasses(this.option("type")),this._toggleCompactClass()},_toggleFormatClasses:function(t,i){this.$element().addClass(he+"-"+t),i&&this.$element().removeClass(he+"-"+i)},_toggleCompactClass:function(){this.$element().toggleClass("dx-dateview-compact",this.option("applyCompactClass"))},_wrapper:function(){return this._$wrapper},_renderContentImpl:function(){this._$wrapper=(0,S.Z)("<div>").addClass("dx-dateview-wrapper"),this._renderRollers(),this._$wrapper.appendTo(this.$element())},_renderRollers:function(){this._$rollersContainer||(this._$rollersContainer=(0,S.Z)("<div>").addClass("dx-dateview-rollers")),this._$rollersContainer.empty(),this._createRollerConfigs(),this._rollers={};var t=this;(0,j.S6)(t._rollerConfigs,function(i){var r=(0,S.Z)("<div>").appendTo(t._$rollersContainer).addClass("dx-dateviewroller-"+t._rollerConfigs[i].type);t._rollers[t._rollerConfigs[i].type]=t._createComponent(r,Ni,{items:t._rollerConfigs[i].displayItems,selectedIndex:t._rollerConfigs[i].selectedIndex,showScrollbar:"never",scrollByContent:!0,onStart:function(u){var m=u.component;m._toggleActive(!0),t._setActiveRoller(t._rollerConfigs[i],m.option("selectedIndex"))},onEnd:function(u){u.component._toggleActive(!1)},onClick:function(u){var m=u.component;m._toggleActive(!0),t._setActiveRoller(t._rollerConfigs[i],m.option("selectedIndex")),t._setRollerState(t._rollerConfigs[i],m.option("selectedIndex")),m._toggleActive(!1)},onSelectedIndexChanged:function(u){t._setRollerState(t._rollerConfigs[i],u.component.option("selectedIndex"))}})}),t._$rollersContainer.appendTo(t._wrapper())},_createRollerConfigs:function(t){var i=this;t=t||i.option("type"),i._rollerConfigs={},Z.Z.getFormatParts(M.FORMATS_MAP[t]).forEach(function(r){i._createRollerConfig(r)})},_createRollerConfig:function(t){for(var i=M.DATE_COMPONENTS_INFO[t],r=this._calculateRollerConfigValueRange(t),u=r.startValue,m=r.endValue,w=i.formatter,dt=this._getCurrentDate(),St={type:t,setValue:i.setter,valueItems:[],displayItems:[],getIndex:function(Rt){return Rt[i.getter]()-u}},Bt=u;Bt<=m;Bt++)St.valueItems.push(Bt),St.displayItems.push(w(Bt,dt));St.selectedIndex=St.getIndex(dt),this._rollerConfigs[t]=St},_setActiveRoller:function(t){var i=t&&this._rollers[t.type];(0,j.S6)(this._rollers,function(){this.toggleActiveState(this===i)})},_updateRollersPosition:function(){var t=this;(0,j.S6)(this._rollers,function(i){var r=t._rollerConfigs[i].getIndex(t._getCurrentDate());this.option("selectedIndex",r)})},_setRollerState:function(t,i){if(i!==t.selectedIndex){var r=t.valueItems[i],u=t.setValue,m=new Date(this._getCurrentDate()),w=m.getDate(),dt=this.option("minDate"),St=this.option("maxDate");"month"===t.type?w=Math.min(w,M.getMaxMonthDay(m.getFullYear(),r)):"year"===t.type&&(w=Math.min(w,M.getMaxMonthDay(r,m.getMonth()))),m.setDate(w),m[u](r);var Bt=C.Z.normalizeDate(m,dt,St);m=M.mergeDates(Bt,m,"time"),m=C.Z.normalizeDate(m,dt,St),this.option("value",m),t.selectedIndex=i}"year"===t.type&&this._refreshRollers(),"month"===t.type&&(this._refreshRoller("day"),this._refreshRoller("hours"))},_refreshRoller:function(t){var i=this._rollers[t];if(i){this._createRollerConfig(t);var r=this._rollerConfigs[t];("day"===t||r.displayItems.toString()!==i.option("items").toString())&&i.option({items:r.displayItems,selectedIndex:r.selectedIndex})}},_getCurrentDate:function(){var t=this._valueOption(),i=this.option("minDate"),r=this.option("maxDate");return C.Z.normalizeDate(t,i,r)},_calculateRollerConfigValueRange:function(t){var i=this._getCurrentDate(),r=this.option("minDate"),u=this.option("maxDate"),m=C.Z.sameYear(i,r),w=m&&i.getMonth()===r.getMonth(),dt=C.Z.sameYear(i,u),St=dt&&i.getMonth()===u.getMonth(),Bt=w&&i.getDate()===r.getDate(),Rt=St&&i.getDate()===u.getDate(),me=M.DATE_COMPONENTS_INFO[t],se=me.startValue,ie=me.endValue;return"year"===t&&(se=r.getFullYear(),ie=u.getFullYear()),"month"===t&&(m&&(se=r.getMonth()),dt&&(ie=u.getMonth())),"day"===t&&(ie=M.getMaxMonthDay(i.getFullYear(),i.getMonth()),m&&w&&(se=r.getDate()),dt&&St&&(ie=u.getDate())),"hours"===t&&(se=Bt?r.getHours():se,ie=Rt?u.getHours():ie),{startValue:se,endValue:ie}},_refreshRollers:function(){this._refreshRoller("month"),this._refreshRoller("day"),this._refreshRoller("hours")},_optionChanged:function(t){switch(t.name){case"minDate":case"maxDate":case"type":this._renderRollers(),this._toggleFormatClasses(t.value,t.previousValue);break;case"visible":this.callBase(t),t.value&&this._renderRollers();break;case"value":this.option("value",this._valueOption()),this._refreshRollers(),this._updateRollersPosition();break;default:this.callBase(t)}},_clean:function(){this.callBase(),delete this._$rollersContainer}});(0,H.Z)("dxDateView",ti);const ei=ti;var ii=(0,R.Jj)(),Wi=we.inherit({NAME:"DateView",getDefaultOptions:function(){return(0,V.l)(this.callBase(),{openOnFieldClick:!0,applyButtonText:d.Z.format("OK"),"dropDownOptions.showTitle":!0})},getDisplayFormat:function(t){return t||M.FORMATS_MAP[this.dateBox.option("type")]},popupConfig:function(t){return{toolbarItems:this.dateBox._popupToolbarItemsConfig(),onInitialized:t.onInitialized,defaultOptionsRules:[{device:{platform:"android"},options:{width:333,height:331}},{device:function(i){var r=i.platform;return"generic"===r||"ios"===r},options:{width:"auto",height:"auto"}},{device:function(i){return"generic"===i.platform&&i.phone},options:{width:333,maxWidth:"100%",maxHeight:"100%",height:"auto",position:{collision:"flipfit flip"}}},{device:{platform:"ios",phone:!0},options:{width:"100%",position:{my:"bottom",at:"bottom",of:ii}}}]}},_renderWidget:function(){if((0,f.inputType)(this.dateBox.option("mode"))&&this.dateBox._isNativeType()||this.dateBox.option("readOnly"))this._widget&&(this._widget.$element().remove(),this._widget=null);else{var t=this._getPopup();if(this._widget)this._widget.option(this._getWidgetOptions());else{var i=(0,S.Z)("<div>").appendTo(t.$content());this._widget=this._createWidget(i)}this._widget.$element().appendTo(this._getWidgetContainer())}},_getWidgetName:function(){return ei},renderOpenedState:function(){this.callBase(),this._widget&&this._widget.option("value",this._widget._getCurrentDate())},_getWidgetOptions:function(){return{value:this.dateBoxValue()||new Date,type:this.dateBox.option("type"),minDate:this.dateBox.dateOption("min")||new Date(1900,0,1),maxDate:this.dateBox.dateOption("max")||new Date(Date.now()+50*M.ONE_YEAR),onDisposing:function(){this._widget=null}.bind(this)}}});const ai=Wi;var Ki=l(6769),ni=we.inherit({NAME:"Native",popupConfig:function(t){return(0,V.l)({},t,{width:"auto"})},getParsedText:function(t){return t?"datetime"===this.dateBox.option("type")?new Date(t.replace(/-/g,"/").replace("T"," ").split(".")[0]):M.fromStandardDateFormat(t):null},renderPopupContent:L.ZT,_getWidgetName:L.ZT,_getWidgetOptions:L.ZT,_getDateBoxType:function(){var t=this.dateBox.option("type");return-1===(0,Ki.d3)(t,M.SUPPORTED_FORMATS)?t="date":"datetime"===t&&!(0,f.inputType)(t)&&(t="datetime-local"),t},customizeButtons:function(){var t=this.dateBox.getButton("dropDown");_.Z.real().android&&t&&t.on("click",function(){this.dateBox._input().get(0).click()}.bind(this))},getDefaultOptions:function(){return{mode:this._getDateBoxType()}},getDisplayFormat:function(t){var i=this._getDateBoxType();return t||M.FORMATS_MAP[i]},renderInputMinMax:function(t){t.attr({min:U.Z.serializeDate(this.dateBox.dateOption("min"),"yyyy-MM-dd"),max:U.Z.serializeDate(this.dateBox.dateOption("max"),"yyyy-MM-dd")})}});const zi=ni;var ri=l(4666),Ui=l(9809),Ee=l(5333),$e=function(t,i,r){Xi(t,i,r)},Xi=function(t,i,r){t.css("transform","rotate("+i+"deg) translate(0,"+r+"px)")},hi=c.Z.inherit({_getDefaultOptions:function(){return(0,V.l)(this.callBase(),{value:new Date(Date.now()),use24HourFormat:!0,_showClock:!0,_arrowOffset:5,stylingMode:void 0})},_getValue:function(){return this.option("value")||new Date},_init:function(){this.callBase(),this.$element().addClass("dx-timeview")},_render:function(){this.callBase(),this._renderBox(),this._updateTime()},_renderBox:function(){var t=(0,S.Z)("<div>").appendTo(this.$element()),i=[];this.option("_showClock")&&i.push({ratio:1,shrink:0,baseSize:"auto",template:this._renderClock.bind(this)}),i.push({ratio:0,shrink:0,baseSize:"auto",template:this._renderField.bind(this)}),this._createComponent(t,Ee.Z,{height:"100%",width:"100%",direction:"col",items:i})},_renderClock:function(t,i,r){this._$hourArrow=(0,S.Z)("<div>").addClass("dx-timeview-hourarrow"),this._$minuteArrow=(0,S.Z)("<div>").addClass("dx-timeview-minutearrow");var u=(0,S.Z)(r);u.addClass("dx-timeview-clock").append(this._$hourArrow).append(this._$minuteArrow),this.setAria("role","presentation",u)},_updateClock:function(){var t=this._getValue(),i=t.getHours()/12*360+t.getMinutes()/60*30,r=t.getMinutes()/60*360;$e(this._$hourArrow,i,this.option("_arrowOffset")),$e(this._$minuteArrow,r,this.option("_arrowOffset"))},_getBoxItems:function(t){var i=[{ratio:0,shrink:0,baseSize:"auto",template:()=>this._hourBox.$element()},{ratio:0,shrink:0,baseSize:"auto",template:(0,S.Z)("<div>").addClass("dx-timeview-time-separator").text(Z.Z.getTimeSeparator())},{ratio:0,shrink:0,baseSize:"auto",template:()=>this._minuteBox.$element()}];return t&&i.push({ratio:0,shrink:0,baseSize:"auto",template:()=>this._format12.$element()}),i},_renderField:function(){var t=!this.option("use24HourFormat");return this._createHourBox(t),this._createMinuteBox(),t&&this._createFormat12Box(),this._createComponent((0,S.Z)("<div>").addClass("dx-timeview-field"),Ee.Z,{direction:"row",align:"center",crossAlign:"center",items:this._getBoxItems(t)}).$element()},_createHourBox:function(t){(this._hourBox=this._createComponent((0,S.Z)("<div>"),ri.Z,(0,V.l)({min:-1,max:t?13:24,value:this._getValue().getHours(),onValueChanged:this._onHourBoxValueChanged.bind(this),onKeyboardHandled:r=>this._keyboardHandler(r)},this._getNumberBoxConfig()))).setAria("label","hours")},_isPM:function(){return!this.option("use24HourFormat")&&1===this._format12.option("value")},_onHourBoxValueChanged:function(t){var{value:i,component:r}=t,u=this._getValue(),m=new Date(u),w=this._convertMaxHourToMin(i);r.option("value",w),this._isPM()&&(w+=12),m.setHours(w),M.normalizeTime(m),this.option("value",m)},_convertMaxHourToMin:function(t){var i=this.option("use24HourFormat")?24:12;return(i+t)%i},_createMinuteBox:function(){(this._minuteBox=this._createComponent((0,S.Z)("<div>"),ri.Z,(0,V.l)({min:-1,max:60,value:this._getValue().getMinutes(),onKeyboardHandled:i=>this._keyboardHandler(i),onValueChanged:i=>{var{value:r,component:u}=i,m=(60+r)%60;u.option("value",m);var w=new Date(this._getValue());w.setMinutes(m),M.normalizeTime(w),this.option("value",w)}},this._getNumberBoxConfig()))).setAria("label","minutes")},_createFormat12Box:function(){var t=Z.Z.getPeriodNames();(this._format12=this._createComponent((0,S.Z)("<div>").addClass("dx-timeview-format12"),Ui.Z,{items:[{value:-1,text:t[0]},{value:1,text:t[1]}],valueExpr:"value",displayExpr:"text",onKeyboardHandled:r=>this._keyboardHandler(r),onValueChanged:r=>{var{value:u}=r,m=this._getValue().getHours(),w=new Date(this._getValue());w.setHours((m+12*u)%24),this.option("value",w)},value:this._getValue().getHours()>=12?1:-1,stylingMode:this.option("stylingMode")})).setAria("label","type")},_refreshFormat12:function(){if(!this.option("use24HourFormat")){var i=this._getValue().getHours();this._silentEditorValueUpdate(this._format12,i>=12?1:-1)}},_silentEditorValueUpdate:function(t,i){t&&(t._suppressValueChangeAction(),t.option("value",i),t._resumeValueChangeAction())},_getNumberBoxConfig:function(){return{showSpinButtons:!0,displayValueFormatter:function(t){return(t<10?"0":"")+t},stylingMode:this.option("stylingMode")}},_normalizeHours:function(t){return this.option("use24HourFormat")?t:t%12||12},_updateField:function(){var t=this._normalizeHours(this._getValue().getHours());this._silentEditorValueUpdate(this._hourBox,t),this._silentEditorValueUpdate(this._minuteBox,this._getValue().getMinutes()),this._refreshFormat12()},_updateTime:function(){this.option("_showClock")&&this._updateClock(),this._updateField()},_visibilityChanged:function(t){t&&this._updateTime()},_optionChanged:function(t){switch(t.name){case"value":this._updateTime(),this.callBase(t);break;case"_arrowOffset":break;case"use24HourFormat":case"_showClock":case"stylingMode":this._invalidate();break;default:this.callBase(t)}}});(0,H.Z)("dxTimeView",hi);const Qi=hi;var Ji=(0,R.Jj)(),ke="dx-datebox-datetime-time-side",qi=Ne.inherit({NAME:"CalendarWithTime",getDefaultOptions:function(){return(0,V.l)(this.callBase(),{applyValueMode:"useButtons",buttonsLocation:"bottom after","dropDownOptions.showTitle":!1})},_closeDropDownByEnter:function(){return C.Z.sameDate(this._getContouredValue(),this.widgetOption("value"))},getDisplayFormat:function(t){return t||"shortdateshorttime"},_is24HourFormat:function(){return Z.Z.is24HourFormat(this.getDisplayFormat(this.dateBox.option("displayFormat")))},_getContouredValue:function(){var t=this.callBase();return this._updateDateTime(t)},_renderWidget:function(){this.callBase(),this._timeView=this.dateBox._createComponent((0,S.Z)("<div>"),Qi,{value:this.dateBoxValue(),_showClock:!this._isShrinkView(),use24HourFormat:this._is24HourFormat(),onValueChanged:this._valueChangedHandler.bind(this),stylingMode:this.dateBox.option("stylingMode")}),this._timeView.registerKeyHandler("escape",this._escapeHandler.bind(this))},renderOpenedState:function(){this.callBase();var t=this._getPopup();t&&t.$wrapper().toggleClass("dx-datebox-adaptivity-mode",this._isSmallScreen()),clearTimeout(this._repaintTimer),this._repaintTimer=setTimeout(function(){this._getPopup()&&this._getPopup().repaint()}.bind(this),0)},isAdaptivityChanged:function(){var t=this._isShrinkView(),i=this._currentAdaptiveMode;return t!==i?(this._currentAdaptiveMode=t,void 0!==i):this.callBase()},_updateValue:function(t){var i=this.dateBoxValue();!i&&!t&&(i=new Date,M.normalizeTime(i)),this.callBase(),this._timeView&&(i&&this._timeView.option("value",i),this._timeView.option("use24HourFormat",this._is24HourFormat()))},_isSmallScreen:function(){return(0,I.dz)(Ji)<=573},_isShrinkView:function(){return!this.dateBox.option("showAnalogClock")||this.dateBox.option("adaptivityEnabled")&&this._isSmallScreen()},_getBoxItems:function(){var t=[{ratio:0,shrink:0,baseSize:"auto",name:"calendar"}];return this._isShrinkView()||t.push({ratio:0,shrink:0,baseSize:"auto",name:"time"}),t},renderPopupContent:function(){this.callBase(),this._currentAdaptiveMode=this._isShrinkView();var t=this._getPopup().$content();this._box=this.dateBox._createComponent((0,S.Z)("<div>").appendTo(t),Ee.Z,{direction:"row",crossAlign:"stretch",items:this._getBoxItems(),itemTemplate:function(i,r,u){var m=(0,S.Z)("<div>");switch(i.name){case"calendar":m.append(this._widget.$element()),this._isShrinkView()&&(this._timeView.$element().addClass(ke),m.append(this._timeView.$element()));break;case"time":m.append(this._timeView.$element()),(0,S.Z)(u).addClass(ke)}return m}.bind(this)}),this._attachTabHandler()},popupConfig:function(t){var i=this.callBase(t);return(0,V.l)(i,{width:"auto",onShowing:function(){if("fallback"===this._box.option("_layoutStrategy")){var u=this._getPopup().$content().find(".dx-timeview-clock").css("minWidth");this._timeView.$element().css("maxWidth",u)}}.bind(this)})},getFirstPopupElement:function(){return this._timeView._hourBox.$element().find("input")},_attachTabHandler:function(){var t=this.dateBox;this._timeView._hourBox.registerKeyHandler("tab",function(i){i.shiftKey&&(i.preventDefault(),t.focus())})},_preventFocusOnPopup:function(t){(0,S.Z)(t.target).hasClass("dx-texteditor-input")||(this.callBase.apply(this,arguments),this.dateBox._hasFocusClass()||this.dateBox.focus())},_updateDateTime:function(t){var i=this._timeView.option("value");return t.setHours(i.getHours(),i.getMinutes(),i.getSeconds(),i.getMilliseconds()),t},getValue:function(){var t,i=null!==(t=this._widget.option("value"))&&void 0!==t?t:this._widget.getContouredDate();return i=i?new Date(i):new Date,this._updateDateTime(i)},dispose:function(){clearTimeout(this._removeMinWidthTimer),clearTimeout(this._repaintTimer),this.callBase()}});const ta=qi;var He=l(6505),pa=(l(3331),l(8588)),_a=(0,R.Jj)(),pi={min:new Date(0,0,0,0,0),max:new Date(0,0,0,23,59)},_i=we.inherit({NAME:"List",supportedKeys:function(){return{tab:function(){var{opened:t,applyValueMode:i}=this.option();t&&"instantly"===i&&this.close()},space:L.ZT,home:L.ZT,end:L.ZT}},getDefaultOptions:function(){return(0,V.l)(this.callBase(),{applyValueMode:"instantly"})},getDisplayFormat:function(t){return t||"shorttime"},popupConfig:function(t){return t},getValue:function(){var t=this._widget.option("selectedIndex");return-1===t?this.dateBox.option("value"):this._getDateByItemData(this._widgetItems[t])},useCurrentDateByDefault:function(){return!0},getDefaultDate:function(){return new Date(null)},popupShowingHandler:function(){this.dateBox._dimensionChanged()},_renderWidget:function(){this.callBase(),this._refreshItems()},_getWidgetName:function(){return He.Z},_getWidgetOptions:function(){return{itemTemplate:this._timeListItemTemplate.bind(this),onItemClick:this._listItemClickHandler.bind(this),tabIndex:-1,onFocusedItemChanged:this._refreshActiveDescendant.bind(this),selectionMode:"single"}},_refreshActiveDescendant:function(t){this.dateBox.setAria("activedescendant",""),this.dateBox.setAria("activedescendant",t.actionValue)},_refreshItems:function(){this._widgetItems=this._getTimeListItems(),this._widget.option("items",this._widgetItems)},renderOpenedState:function(){!this._widget||(this._widget.option("focusedElement",null),this._setSelectedItemsByValue(),this._widget.option("templatesRenderAsynchronously")?this._asyncScrollTimeout=setTimeout(this._scrollToSelectedItem.bind(this)):this._scrollToSelectedItem())},dispose:function(){this.callBase(),clearTimeout(this._asyncScrollTimeout)},_updateValue:function(){!this._widget||(this._refreshItems(),this._setSelectedItemsByValue(),this._scrollToSelectedItem())},_setSelectedItemsByValue:function(){var t=this.dateBoxValue(),i=this._getDateIndex(t);-1===i?this._widget.option("selectedItems",[]):this._widget.option("selectedIndex",i)},_scrollToSelectedItem:function(){this._widget.scrollToItem(this._widget.option("selectedIndex"))},_getDateIndex:function(t){for(var i=-1,r=0,u=this._widgetItems.length;r<u;r++)if(this._areDatesEqual(t,this._widgetItems[r])){i=r;break}return i},_areDatesEqual:function(t,i){return(0,X.J_)(t)&&(0,X.J_)(i)&&t.getHours()===i.getHours()&&t.getMinutes()===i.getMinutes()},_getTimeListItems:function(){var t=this.dateBox.dateOption("min")||this._getBoundaryDate("min"),i=this.dateBox.dateOption("max")||this._getBoundaryDate("max"),r=this.dateBox.dateOption("value")||null,u=i-t,m=t.getMinutes()%this.dateBox.option("interval");return u<0?[]:(u>M.ONE_DAY&&(u=M.ONE_DAY),r-t<M.ONE_DAY||((t=this._getBoundaryDate("min")).setMinutes(m),r&&Math.abs(r-i)<M.ONE_DAY&&(u=(60*i.getHours()+Math.abs(i.getMinutes()-m))*M.ONE_MINUTE)),this._getRangeItems(t,new Date(t),u))},_getRangeItems:function(t,i,r){for(var u=[],m=this.dateBox.option("interval");i-t<=r;)u.push(new Date(i)),i.setMinutes(i.getMinutes()+m);return u},_getBoundaryDate:function(t){var i=pi[t],r=new Date((0,L.IS)(this.dateBox.dateOption("value"),0));return new Date(r.getFullYear(),r.getMonth(),r.getDate(),i.getHours(),i.getMinutes())},_timeListItemTemplate:function(t){var i=this.dateBox.option("displayFormat");return Z.Z.format(t,this.getDisplayFormat(i))},_listItemClickHandler:function(t){if("useButtons"!==this.dateBox.option("applyValueMode")){var i=this._getDateByItemData(t.itemData);this.dateBox.option("opened",!1),this.dateBoxValue(i,t.event)}},_getDateByItemData:function(t){var i=this.dateBox.option("value"),r=t.getHours(),u=t.getMinutes(),m=t.getSeconds(),w=t.getFullYear(),dt=t.getMonth(),St=t.getDate();return i?((i=this.dateBox.option("dateSerializationFormat")?U.Z.deserializeDate(i):new Date(i)).setHours(r),i.setMinutes(u),i.setSeconds(m),i.setFullYear(w),i.setMonth(dt),i.setDate(St)):i=new Date(w,dt,St,r,u,0,0),i},getKeyboardListener:function(){return this._widget},_updatePopupHeight:function(){var t=(0,pa.T)(this.dateBox.option("dropDownOptions.height"));if(void 0===t||"auto"===t){this.dateBox._setPopupOption("height","auto");var i=(0,I.zp)(this._widget.$element()),r=.45*(0,I.Cr)(_a);this.dateBox._setPopupOption("height",Math.min(i,r))}this.dateBox._timeList&&this.dateBox._timeList.updateDimensions()},getParsedText:function(t,i){var r=this.callBase(t,i);return r&&(r=M.mergeDates(r,new Date(null),"date")),r}});const vi=_i;var ve=(0,R.Jj)(),xe="dx-datebox",Le="dx-datebox-wrapper",Yt={calendar:"calendar",rollers:"rollers",list:"list",native:"native"},Xt={date:"date",datetime:"datetime",time:"time"},na={Calendar:Ne,DateView:ai,Native:zi,CalendarWithTime:ta,List:vi},ra=st.Z.inherit({_supportedKeys:function(){return(0,V.l)(this.callBase(),this._strategy.supportedKeys())},_renderButtonContainers:function(){this.callBase.apply(this,arguments),this._strategy.customizeButtons()},_getDefaultOptions:function(){return(0,V.l)(this.callBase(),{type:"date",showAnalogClock:!0,value:null,dateSerializationFormat:void 0,min:void 0,max:void 0,displayFormat:null,interval:30,disabledDates:null,pickerType:Yt.calendar,invalidDateMessage:d.Z.format("dxDateBox-validation-datetime"),dateOutOfRangeMessage:d.Z.format("validation-range"),applyButtonText:d.Z.format("OK"),adaptivityEnabled:!1,calendarOptions:{},useHiddenSubmitElement:!0})},_defaultOptionsRules:function(){return this.callBase().concat([{device:{platform:"ios"},options:{"dropDownOptions.showTitle":!0}},{device:{platform:"android"},options:{buttonsLocation:"bottom after"}},{device:function(){var i=_.Z.real().platform;return"ios"===i||"android"===i},options:{pickerType:Yt.native}},{device:function(t){var i=_.Z.real(),r=i.platform;return"generic"===r&&"desktop"!==t.deviceType||"android"===r&&(0,F.q)(i.version,[4,4])<0},options:{pickerType:Yt.rollers}},{device:{platform:"generic",deviceType:"desktop"},options:{buttonsLocation:"bottom after"}}])},_initOptions:function(t){this._userOptions=(0,V.l)({},t),this.callBase(t),this._updatePickerOptions()},_updatePickerOptions:function(){var t=this.option("pickerType"),i=this.option("type");t===Yt.list&&(i===Xt.datetime||i===Xt.date)&&(t=Yt.calendar),i===Xt.time&&t===Yt.calendar&&(t=Yt.list),this.option("showDropDownButton","generic"!==_.Z.real().platform||t!==Yt.native),this._pickerType=t},_init:function(){this._initStrategy(),this.option((0,V.l)({},this._strategy.getDefaultOptions(),this._userOptions)),delete this._userOptions,this.callBase()},_toLowerCaseFirstLetter:function(t){return t.charAt(0).toLowerCase()+t.substr(1)},_initStrategy:function(){var t=this._getStrategyName(this._getFormatType());this._strategy&&this._strategy.NAME===t||(this._strategy=new(0,na[t])(this))},_getFormatType:function(){var t=this.option("type"),i=/h|m|s/g.test(t),u="";return/d|M|Y/g.test(t)&&(u+=Xt.date),i&&(u+=Xt.time),u},_getStrategyName:function(t){var i=this._pickerType;return i===Yt.rollers?"DateView":i===Yt.native?"Native":t===Xt.date?"Calendar":t===Xt.datetime?"CalendarWithTime":"List"},_initMarkup:function(){this.$element().addClass(xe),this.callBase(),this._refreshFormatClass(),this._refreshPickerTypeClass(),this._strategy.renderInputMinMax(this._input())},_render:function(){this.callBase(),this._formatValidationIcon()},_renderDimensions:function(){this.callBase(),this.$element().toggleClass("dx-auto-width",!this.option("width")),this._dimensionChanged()},_dimensionChanged:function(){var t,i;this.callBase(arguments),this._popup&&(null===(t=(i=this._strategy)._updatePopupHeight)||void 0===t||t.call(i))},_refreshFormatClass:function(){var t=this.$element();(0,j.S6)(Xt,function(i,r){t.removeClass(xe+"-"+r)}),t.addClass(xe+"-"+this.option("type"))},_refreshPickerTypeClass:function(){var t=this.$element();(0,j.S6)(Yt,function(i,r){t.removeClass(xe+"-"+r)}),t.addClass(xe+"-"+this._pickerType)},_formatValidationIcon:function(){if((0,R.Ym)()){var t=this._input().get(0),i=this.option("rtlEnabled"),r=this._getClearButtonWidth(),u=this._getLongestElementDimensions(),m=parseFloat(ve.getComputedStyle(t).width)-r,w=u.width>m,dt=t.style;this.$element().toggleClass("dx-show-invalid-badge",!w),w?(void 0===this._storedPadding&&(this._storedPadding=i?u.leftPadding:u.rightPadding),i?dt.paddingLeft=0:dt.paddingRight=0):i?dt.paddingLeft=this._storedPadding+"px":dt.paddingRight=this._storedPadding+"px"}},_getClearButtonWidth:function(){var t=0;if(this._isClearButtonVisible()&&""===this._input().val()){var i=this.$element().find(".dx-clear-button-area").get(0);t=parseFloat(ve.getComputedStyle(i).width)}return t},_getLongestElementDimensions:function(){var t=this._strategy.getDisplayFormat(this.option("displayFormat")),i=Z.Z.format(M.getLongestDate(t,Z.Z.getMonthNames(),Z.Z.getDayNames()),t),r=this._input(),u=r.get(0),m=(0,at.l5)(r,i),dt=void 0!==this._storedPadding?this._storedPadding:0;m.appendTo(this.$element());var St=parseFloat(ve.getComputedStyle(m.get(0)).width),Bt=parseFloat(ve.getComputedStyle(u).paddingRight),Rt=parseFloat(ve.getComputedStyle(u).paddingLeft),me=St+Rt+Bt+dt;return m.remove(),{width:me,leftPadding:Rt,rightPadding:Bt}},_getKeyboardListeners(){return this.callBase().concat([this._strategy&&this._strategy.getKeyboardListener()])},_renderPopup:function(){this.callBase(),this._popup.$wrapper().addClass(Le),this._renderPopupWrapper()},_popupConfig:function(){var t=this.callBase();return(0,V.l)(this._strategy.popupConfig(t),{title:this._getPopupTitle(),dragEnabled:!1})},_renderPopupWrapper:function(){if(this._popup){var t=this.$element(),i=(0,V.l)({},Xt,Yt);(0,j.S6)(i,function(r,u){t.removeClass(Le+"-"+u)}.bind(this)),this._popup.$wrapper().addClass(Le+"-"+this.option("type")).addClass(Le+"-"+this._pickerType).addClass("dx-dropdowneditor-overlay")}},_renderPopupContent:function(){this.callBase(),this._strategy.renderPopupContent()},_getFirstPopupElement:function(){return this._strategy.getFirstPopupElement()||this.callBase()},_getLastPopupElement:function(){return this._strategy.getLastPopupElement()||this.callBase()},_popupShowingHandler:function(){this.callBase(),this._strategy.popupShowingHandler()},_popupShownHandler:function(){this.callBase(),this._strategy.renderOpenedState()},_popupHiddenHandler:function(){this.callBase(),this._strategy.renderOpenedState(),this._strategy.popupHiddenHandler()},_visibilityChanged:function(t){t&&this._formatValidationIcon()},_clearValueHandler:function(t){this.option("text",""),this.callBase(t)},_readOnlyPropValue:function(){if(this._pickerType===Yt.rollers)return!0;var t=_.Z.real().platform;return!this._isNativeType()||"ios"!==t&&"android"!==t?this.callBase():this.option("readOnly")},_isClearButtonVisible:function(){return this.callBase()&&!this._isNativeType()},_renderValue:function(){var t=this.dateOption("value");return this.option("text",this._getDisplayedText(t)),this._strategy.renderValue(),this.callBase()},_setSubmitValue:function(){var t=this.dateOption("value"),i=this.option("dateSerializationFormat"),r=M.SUBMIT_FORMATS_MAP[this.option("type")],u=i?U.Z.serializeDate(t,i):M.toStandardDateFormat(t,r);this._getSubmitElement().val(u)},_getDisplayedText:function(t){var r,i=this.option("mode");if("text"===i){var u=this._strategy.getDisplayFormat(this.option("displayFormat"));r=Z.Z.format(t,u)}else{var m=this._getFormatByMode(i);r=m?Z.Z.format(t,m):M.toStandardDateFormat(t,i)}return r},_getFormatByMode:function(t){return(0,f.inputType)(t)?null:M.FORMATS_MAP[t]},_valueChangeEventHandler:function(t){var{text:i,type:r,validationError:u}=this.option(),m=this.dateOption("value");if(i!==this._getDisplayedText(m)){var w=this._getParsedDate(i),dt=null!=m?m:this._getDateByDefault(),St=M.mergeDates(dt,w,r);if(this._applyInternalValidation(w&&"time"===r?St:w).isValid){var Rt=this._getDisplayedText(St);dt&&St&&dt.getTime()===St.getTime()&&Rt!==i?this._renderValue():this.dateValue(St,t)}}else(!u||u.editorSpecific)&&(this._applyInternalValidation(m),this._applyCustomValidation(m))},_getDateByDefault:function(){return this._strategy.useCurrentDateByDefault()&&this._strategy.getDefaultDate()},_getParsedDate:function(t){var i=this._strategy.getDisplayFormat(this.option("displayFormat")),r=this._strategy.getParsedText(t,i);return null!=r?r:void 0},_applyInternalValidation(t){var r=!!this.option("text")&&null!==t,u=!!t&&(0,X.J_)(t)&&!isNaN(t.getTime()),m=u&&C.Z.dateInRange(t,this.dateOption("min"),this.dateOption("max"),this.option("type")),w=!r&&!t||m,dt="";return u?m||(dt=this.option("dateOutOfRangeMessage")):dt=this.option("invalidDateMessage"),this.option({isValid:w,validationError:w?null:{editorSpecific:!0,message:dt}}),{isValid:w,isDate:u}},_applyCustomValidation:function(t){this.validationRequest.fire({editor:this,value:this._serializeDate(t)})},_isValueChanged:function(t){var i=this.dateOption("value");return(i&&i.getTime())!==(t&&t.getTime())},_isTextChanged:function(t){return this.option("text")!==(t&&this._getDisplayedText(t)||"")},_renderProps:function(){this.callBase(),this._input().attr("autocomplete","off")},_renderOpenedState:function(){this._isNativeType()||this.callBase(),this._strategy.isAdaptivityChanged()&&this._refreshStrategy()},_getPopupTitle:function(){var t=this.option("placeholder");if(t)return t;var i=this.option("type");return i===Xt.time?d.Z.format("dxDateBox-simulatedDataPickerTitleTime"):i===Xt.date||i===Xt.datetime?d.Z.format("dxDateBox-simulatedDataPickerTitleDate"):""},_refreshStrategy:function(){this._strategy.dispose(),this._initStrategy(),this.option(this._strategy.getDefaultOptions()),this._refresh()},_applyButtonHandler:function(t){var i=this._strategy.getValue(),{isValid:r,isDate:u}=this._applyInternalValidation(i);if(r)this.dateValue(i,t.event);else if(u){var m=this._getDisplayedText(i);this.option("text",m),this._renderDisplayText(m)}this.callBase()},_dispose:function(){var t;this.callBase(),null===(t=this._strategy)||void 0===t||t.dispose()},_isNativeType:function(){return this._pickerType===Yt.native},_updatePopupTitle:function(){var t;null===(t=this._popup)||void 0===t||t.option("title",this._getPopupTitle())},_optionChanged:function(t){switch(t.name){case"showClearButton":case"buttons":case"isValid":case"readOnly":this.callBase.apply(this,arguments),this._formatValidationIcon();break;case"pickerType":this._updatePickerOptions({pickerType:t.value}),this._refreshStrategy(),this._refreshPickerTypeClass(),this._invalidate();break;case"type":this._updatePickerOptions({format:t.value}),this._refreshStrategy(),this._refreshFormatClass(),this._renderPopupWrapper(),this._formatValidationIcon(),this._updateValue();break;case"placeholder":this.callBase.apply(this,arguments),this._updatePopupTitle();break;case"min":case"max":var i=this.option("isValid");this._applyInternalValidation(this.dateOption("value")),i||this._applyCustomValidation(this.dateOption("value")),this._invalidate();break;case"dateSerializationFormat":case"interval":case"disabledDates":case"calendarOptions":this._invalidate();break;case"displayFormat":this.option("text",this._getDisplayedText(this.dateOption("value"))),this._renderInputValue();break;case"text":this._strategy.textChangedHandler(t.value),this.callBase.apply(this,arguments);break;case"showDropDownButton":this._formatValidationIcon(),this.callBase.apply(this,arguments);break;case"invalidDateMessage":case"dateOutOfRangeMessage":case"adaptivityEnabled":case"showAnalogClock":break;default:this.callBase.apply(this,arguments)}},_getSerializationFormat:function(){var t=this.option("value");return this.option("dateSerializationFormat")&&(0,E.Z)().forceIsoDateParsing?this.option("dateSerializationFormat"):(0,X.kE)(t)?"number":(0,X.HD)(t)?U.Z.getDateSerializationFormat(t):void 0},_updateValue:function(t){this.callBase(),this._applyInternalValidation(null!=t?t:this.dateOption("value"))},dateValue:function(t,i){var r=this._isValueChanged(t);return r&&i&&this._saveValueChangeEvent(i),r||(this._isTextChanged(t)?this._updateValue(t):""===this.option("text")&&this._applyCustomValidation(t)),this.dateOption("value",t)},dateOption:function(t,i){if(1===arguments.length)return U.Z.deserializeDate(this.option(t));this.option(t,this._serializeDate(i))},_serializeDate:function(t){var i=this._getSerializationFormat();return U.Z.serializeDate(t,i)},_clearValue:function(){var t=this.option("value");this.callBase(),null===t&&this._applyCustomValidation(null)},reset:function(){var t=this.option("value");this.callBase(),null===t&&this._applyInternalValidation(null)}});const sa=ra;var mi=l(2384),oa=l(805),de="dateBoxMask",la=sa.inherit({_supportedKeys(t){var i=this.callBase(t),r=m=>{var w=i[(0,O.EV)(m)];return w&&w.apply(this,[m])},u=(m,w)=>this._shouldUseOriginalHandler(m)?r.apply(this,[m]):w.apply(this,[m]);return(0,V.l)({},i,{del:m=>u(m,w=>{this._revertPart(1),this._isAllSelected()||w.preventDefault()}),backspace:m=>u(m,w=>{this._revertPart(-1),this._isAllSelected()||w.preventDefault()}),home:m=>u(m,w=>{this._selectFirstPart(),w.preventDefault()}),end:m=>u(m,w=>{this._selectLastPart(),w.preventDefault()}),escape:m=>u(m,w=>{this._revertChanges(w)}),enter:m=>u(m,w=>{this._enterHandler(w)}),leftArrow:m=>u(m,w=>{this._selectNextPart(-1),w.preventDefault()}),rightArrow:m=>u(m,w=>{this._selectNextPart(1),w.preventDefault()}),upArrow:m=>u(m,w=>{this._upDownArrowHandler(1),w.preventDefault()}),downArrow:m=>u(m,w=>{this._upDownArrowHandler(-1),w.preventDefault()})})},_shouldUseOriginalHandler(t){var i=this.option("opened")&&t&&-1===["backspace","del"].indexOf((0,O.EV)(t));return!this._useMaskBehavior()||i||t&&t.altKey},_upDownArrowHandler(t){this._setNewDateIfEmpty();var i=this._getActivePartValue(this._initialMaskValue),u=this._getActivePartValue()-i;this._loadMaskValue(this._initialMaskValue),this._partIncrease(u+t,!0)},_getDefaultOptions(){return(0,V.l)(this.callBase(),{useMaskBehavior:!1,emptyDateValue:new Date(2e3,0,1,0,0,0)})},_isSingleCharKey(t){var{originalEvent:i,alt:r}=t,u=i.data||i.key;return"string"==typeof u&&1===u.length&&!r&&!(0,O.j1)(i)},_isSingleDigitKey(t){var i,r=null===(i=t.originalEvent)||void 0===i?void 0:i.data;return 1===(null==r?void 0:r.length)&&parseInt(r,10)},_useBeforeInputEvent:function(){var t=_.Z.real();return t.android&&t.version[0]>4},_keyInputHandler(t,i){var r=this._input().val();this._processInputKey(i),t.preventDefault(),r!==this._input().val()&&P.Z.trigger(this._input(),"input")},_keyboardHandler(t){var i=t.originalEvent.key,r=this.callBase(t);return!this._useMaskBehavior()||this._useBeforeInputEvent()||(oa.Z.chrome&&"Process"===t.key&&0===t.code.indexOf("Digit")?(i=t.code.replace("Digit",""),this._processInputKey(i),this._maskInputHandler=()=>{this._renderSelectedPart()}):this._isSingleCharKey(t)&&this._keyInputHandler(t.originalEvent,i)),r},_maskBeforeInputHandler(t){this._maskInputHandler=null;var{inputType:i}=t.originalEvent;"insertCompositionText"===i&&(this._maskInputHandler=()=>{this._renderSelectedPart()});var r="deleteContentBackward"===i;if(r||"deleteContentForward"===i){var m=r?-1:1;this._maskInputHandler=()=>{this._revertPart(),this._selectNextPart(m)}}if(this._useMaskBehavior()&&this._isSingleCharKey(t))return this._keyInputHandler(t,t.originalEvent.data),!0},_keyPressHandler(t){var{originalEvent:i}=t;"insertCompositionText"===(null==i?void 0:i.inputType)&&this._isSingleDigitKey(t)&&(this._processInputKey(i.data),this._renderDisplayText(this._getDisplayedText(this._maskValue)),this._selectNextPart()),this.callBase(t),this._maskInputHandler&&(this._maskInputHandler(),this._maskInputHandler=null)},_processInputKey(t){this._isAllSelected()&&(this._activePartIndex=0),this._setNewDateIfEmpty(),isNaN(parseInt(t))?this._searchString(t):this._searchNumber(t)},_isAllSelected(){var t=this._caret();return t.end-t.start===this.option("text").length},_getFormatPattern(){if(this._formatPattern)return this._formatPattern;var t=this._strategy.getDisplayFormat(this.option("displayFormat")),i=(0,X.HD)(t)&&!Z.Z._getPatternByFormat(t);return this._formatPattern=i?t:(0,it.y)(function(r){return Z.Z.format(r,t)}),this._formatPattern},_setNewDateIfEmpty(){if(!this._maskValue){var t="time"===this.option("type")?new Date(null):new Date;this._maskValue=t,this._initialMaskValue=t,this._renderDateParts()}},_partLimitsReached(t){var i=String(t).length,r=this._getActivePartProp("pattern").length,m=1===r?i:Math.min(r,i),w=this._searchValue.length===m,dt=parseInt(this._searchValue+"0")>t;return w||dt},_searchNumber(t){var{max:i}=this._getActivePartLimits(),r=String(i).length;this._searchValue=(this._searchValue+t).substr(-r),isNaN(this._searchValue)&&(this._searchValue=t),this._setActivePartValue(this._searchValue),this._partLimitsReached(i)&&this._selectNextPart(1)},_searchString(t){if(isNaN(parseInt(this._getActivePartProp("text")))){for(var i=this._getActivePartProp("limits")(this._maskValue),r=this._searchValue+t.toLowerCase(),u=i.max-i.min,m=0;m<=u;m++)if(this._loadMaskValue(this._initialMaskValue),this._partIncrease(m+1),0===this._getActivePartProp("text").toLowerCase().indexOf(r))return void(this._searchValue=r);this._setNewDateIfEmpty(),this._searchValue&&(this._clearSearchValue(),this._searchString(t))}},_clearSearchValue(){this._searchValue=""},_revertPart:function(t){if(!this._isAllSelected()){var i=this._getActivePartValue(this.option("emptyDateValue"));this._setActivePartValue(i),this._selectNextPart(t)}this._clearSearchValue()},_useMaskBehavior(){return this.option("useMaskBehavior")&&"text"===this.option("mode")},_prepareRegExpInfo(){this._regExpInfo=(0,T.oo)(this._getFormatPattern(),Z.Z);var t=this._regExpInfo.regexp,i=t.source,r=t.flags,u=new RegExp(/(\{[0-9]+,?[0-9]*\})/),m=i.split(u).map(w=>u.test(w)?w:mi.Z.convertDigits(w,!1)).join("");this._regExpInfo.regexp=new RegExp(m,r)},_initMaskState(){this._activePartIndex=0,this._formatPattern=null,this._prepareRegExpInfo(),this._loadMaskValue()},_renderMask(){this.callBase(),this._detachMaskEvents(),this._clearMaskState(),this._useMaskBehavior()&&(this._attachMaskEvents(),this._initMaskState(),this._renderDateParts())},_renderDateParts(){if(this._useMaskBehavior()){var t=this.option("text")||this._getDisplayedText(this._maskValue);t&&(this._dateParts=((t,i)=>{for(var r=i.regexp.exec(t),u=0,m=0,w=[],dt=function(Bt){m=(u=m)+r[Bt].length;var Rt=i.patterns[Bt-1].replace(/^'|'$/g,""),me=(t=>yt[t]||(()=>t))(Rt[0]);w.push({index:Bt-1,isStub:Rt===r[Bt],caret:{start:u,end:m},pattern:Rt,text:r[Bt],limits:function(){for(var se=arguments.length,ie=new Array(se),Re=0;Re<se;Re++)ie[Re]=arguments[Re];return et(Rt[0],...ie)},setter:mt[Rt[0]]||L.ZT,getter:me})},St=1;St<r.length;St++)dt(St);return w})(t,this._regExpInfo),this._input().is(":hidden")||this._selectNextPart())}},_detachMaskEvents(){P.Z.off(this._input(),"."+de)},_attachMaskEvents(){P.Z.on(this._input(),(0,O.V4)("dxclick",de),this._maskClickHandler.bind(this)),P.Z.on(this._input(),(0,O.V4)("paste",de),this._maskPasteHandler.bind(this)),P.Z.on(this._input(),(0,O.V4)("drop",de),()=>{this._renderSelectedPart()}),P.Z.on(this._input(),(0,O.V4)("compositionend",de),this._maskCompositionEndHandler.bind(this)),this._useBeforeInputEvent()&&P.Z.on(this._input(),(0,O.V4)("beforeinput",de),this._maskBeforeInputHandler.bind(this))},_renderSelectedPart(){this._renderDisplayText(this._getDisplayedText(this._maskValue)),this._selectNextPart()},_selectLastPart(){this.option("text")&&(this._activePartIndex=this._dateParts.length,this._selectNextPart(-1))},_selectFirstPart(){this.option("text")&&(this._activePartIndex=-1,this._selectNextPart(1))},_onMouseWheel(t){this._useMaskBehavior()&&this._partIncrease(t.delta>0?1:-1,t)},_selectNextPart(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;if(this.option("text")&&!this._disposed){t&&(this._initialMaskValue=new Date(this._maskValue));var i=(0,$.n$)(this._activePartIndex+t,0,this._dateParts.length-1);if(this._dateParts[i].isStub){if(!(0===i&&t<0||i===this._dateParts.length-1&&t>0))return void this._selectNextPart(t>=0?t+1:t-1);i=this._activePartIndex}this._activePartIndex!==i&&this._clearSearchValue(),this._activePartIndex=i,this._caret(this._getActivePartProp("caret"))}},_getRealLimitsPattern(){if("d"===this._getActivePartProp("pattern")[0])return"dM"},_getActivePartLimits(t){return this._getActivePartProp("limits")(this._maskValue,t&&this._getRealLimitsPattern())},_getActivePartValue(t){t=t||this._maskValue;var i=this._getActivePartProp("getter");return(0,X.mf)(i)?i(t):t[i]()},_addLeadingZeroes(t){var i=this._searchValue.match(/^0+/),r=this._getActivePartLimits(),u=String(r.max).length;return((i&&i[0]||"")+String(t)).substr(-u)},_setActivePartValue(t,i){i=i||this._maskValue;var r=this._getActivePartProp("setter"),u=this._getActivePartLimits();t=(0,$.Z2)(t,u.min,u.max)?t:t%10,t=this._addLeadingZeroes((0,$.n$)(t,u.min,u.max)),(0,X.mf)(r)?r(i,t):i[r](t),this._renderDisplayText(this._getDisplayedText(i)),this._renderDateParts()},_getActivePartProp(t){if(this._dateParts&&this._dateParts[this._activePartIndex])return this._dateParts[this._activePartIndex][t]},_loadMaskValue(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.dateOption("value");this._maskValue=t&&new Date(t),this._initialMaskValue=t&&new Date(t)},_saveMaskValue(){var t=this._maskValue&&new Date(this._maskValue);t&&"date"===this.option("type")&&t.setHours(0,0,0,0),this._initialMaskValue=new Date(t),this.dateOption("value",t)},_revertChanges(){this._loadMaskValue(),this._renderDisplayText(this._getDisplayedText(this._maskValue)),this._renderDateParts()},_renderDisplayText(t){this.callBase(t),this._useMaskBehavior()&&this.option("text",t)},_partIncrease(t,i){this._setNewDateIfEmpty();var{max:r,min:u}=this._getActivePartLimits(i),m=r-u;1===m&&m++;var w=t+this._getActivePartValue();w>r?w=this._applyLimits(w,{limitBase:u,limitClosest:r,limitDelta:m}):w<u&&(w=this._applyLimits(w,{limitBase:r,limitClosest:u,limitDelta:m})),this._setActivePartValue(w)},_applyLimits(t,i){var{limitBase:r,limitClosest:u,limitDelta:m}=i,w=(t-u)%m;return w?r+w-1*(0,$.Xx)(w):u},_maskClickHandler(){this.option("text")&&(this._activePartIndex=((t,i)=>{for(var r=0;r<t.length;r++)if(!t[r].isStub&&t[r].caret.end>=i)return r;return null})(this._dateParts,this._caret().start),this._isAllSelected()||((0,X.$K)(this._activePartIndex)?this._caret(this._getActivePartProp("caret")):this._selectLastPart()))},_maskCompositionEndHandler(t){this._input().val(this._getDisplayedText(this._maskValue)),this._selectNextPart(),this._maskInputHandler=()=>{this._renderSelectedPart()}},_maskPasteHandler(t){var i=this._replaceSelectedText(this.option("text"),this._caret(),(0,at.Zx)(t)),r=Z.Z.parse(i,this._getFormatPattern());r&&this._isDateValid(r)&&(this._maskValue=r,this._renderDisplayText(this._getDisplayedText(this._maskValue)),this._renderDateParts(),this._selectNextPart()),t.preventDefault()},_isDateValid:t=>(0,X.J_)(t)&&!isNaN(t),_isValueDirty(){var t=this.dateOption("value");return(this._maskValue&&this._maskValue.getTime())!==(t&&t.getTime())},_fireChangeEvent(){this._clearSearchValue(),this._isValueDirty()&&P.Z.trigger(this._input(),"change")},_enterHandler(t){this._fireChangeEvent(),this._selectNextPart(1),t.preventDefault()},_focusOutHandler(t){this._useMaskBehavior()&&!t.isDefaultPrevented()?(this._fireChangeEvent(),this.callBase(t),this._selectFirstPart(t)):this.callBase(t)},_valueChangeEventHandler(t){var i=this.option("text");this._useMaskBehavior()?(this._saveValueChangeEvent(t),i?null===this._maskValue&&this._loadMaskValue(i):this._maskValue=null,this._saveMaskValue()):this.callBase(t)},_optionChanged(t){switch(t.name){case"useMaskBehavior":this._renderMask();break;case"displayFormat":case"mode":this.callBase(t),this._renderMask();break;case"value":this._loadMaskValue(),this.callBase(t),this._renderDateParts();break;case"emptyDateValue":break;default:this.callBase(t)}},_clearMaskState(){this._clearSearchValue(),delete this._dateParts,delete this._activePartIndex,delete this._maskValue},reset(){this.callBase(),this._clearMaskState(),this._activePartIndex=0},_clean(){this.callBase(),this._detachMaskEvents(),this._clearMaskState()}});const gi=la;(0,H.Z)("dxDateBox",gi);const ua=gi},139:(zt,Tt,l)=>{l.d(Tt,{Z:()=>nt});var H=l(3520),O=l(4705),X=l(1760),at=l(7771),V=l(6836),$=l(8360),P=l(1553),T=l(4596),L=l(3684),rt=l(7075),Y=l(6795),yt=l(1924),mt=l(7839),ht=l(911),z=l(1799),et=l(3946);class R extends z.Z{constructor(b,N,tt){super(b,N,tt),this.currentTemplate=null}_attachEvents(b){var{editor:N}=this;b.option("onClick",tt=>{!N.option("openOnFieldClick")&&N._openHandler(tt)}),O.Z.on(b.$element(),"mousedown",tt=>{N.$element().is(".dx-state-focused")&&tt.preventDefault()})}_create(){var{editor:b}=this,N=(0,H.Z)("<div>"),tt=this._getOptions();this._addToContainer(N);var Dt=b._createComponent(N,et.Z,(0,L.l)({},tt,{elementAttr:{"aria-label":ht.Z.format("dxDropDownEditor-selectLabel")}}));return this._legacyRender(b.$element(),N,tt.visible),{$element:N,instance:Dt}}_getOptions(){var{editor:b}=this,N=this._isVisible(),Dt={focusStateEnabled:!1,hoverStateEnabled:!1,activeStateEnabled:!1,useInkRipple:!1,disabled:b.option("readOnly"),visible:N};return this._addTemplate(Dt),Dt}_isVisible(){var{editor:b}=this;return super._isVisible()&&b.option("showDropDownButton")}_legacyRender(b,N,tt){b.toggleClass("dx-dropdowneditor-button-visible",tt),N&&N.removeClass("dx-button").addClass("dx-dropdowneditor-button")}_isSameTemplate(){return this.editor.option("dropDownButtonTemplate")===this.currentTemplate}_addTemplate(b){this._isSameTemplate()||(b.template=this.editor._getTemplateByOption("dropDownButtonTemplate"),this.currentTemplate=this.editor.option("dropDownButtonTemplate"))}update(){if(super.update()){var{editor:N,instance:tt}=this,Dt=N.$element(),It=this._getOptions();null==tt||tt.option(It),this._legacyRender(Dt,null==tt?void 0:tt.$element(),It.visible)}}}var j=l(6068),F=l(6129),f=l(6536),_=l(1037),E=l(7923),C=l(4609),S=l(8811),U=l(4500),ot=l(8588),ut=l(6885),Et="dx-dropdowneditor-input-wrapper",xt="dx-dropdowneditor-overlay",B="dx-dropdowneditor-overlay-flipped",I="ios"===E.Z.current().platform,k=f.Z.inherit({_supportedKeys:function(){return(0,L.l)({},this.callBase(),{tab:function(c){if(this.option("opened")){if("instantly"===this.option("applyValueMode"))return void this.close();var b=c.shiftKey?this._getLastPopupElement():this._getFirstPopupElement();b&&O.Z.trigger(b,"focus"),c.preventDefault()}},escape:function(c){return this.option("opened")&&c.preventDefault(),this.close(),!0},upArrow:function(c){return!(!(0,F.j1)(c)&&(c.preventDefault(),c.stopPropagation(),c.altKey)&&(this.close(),1))},downArrow:function(c){return!(!(0,F.j1)(c)&&(c.preventDefault(),c.stopPropagation(),c.altKey)&&(this._validatedOpening(),1))},enter:function(c){return this.option("opened")&&(c.preventDefault(),this._valueChangeEventHandler(c)),!0}})},_getDefaultButtons:function(){return this.callBase().concat([{name:"dropDown",Ctor:R}])},_getDefaultOptions:function(){return(0,L.l)(this.callBase(),{value:null,onOpened:null,onClosed:null,opened:!1,acceptCustomValue:!0,applyValueMode:"instantly",deferRendering:!0,activeStateEnabled:!0,dropDownButtonTemplate:"dropDownButton",fieldTemplate:null,openOnFieldClick:!1,showDropDownButton:!0,buttons:void 0,dropDownOptions:{showTitle:!1},popupPosition:this._getDefaultPopupPosition(),onPopupInitialized:null,applyButtonText:ht.Z.format("OK"),cancelButtonText:ht.Z.format("Cancel"),buttonsLocation:"default",useHiddenSubmitElement:!1})},_useTemplates:function(){return!0},_getDefaultPopupPosition:function(c){var b=(0,mt.q)(c);return{offset:{h:0,v:-1},my:b+" top",at:b+" bottom",collision:"flip flip"}},_defaultOptionsRules:function(){return this.callBase().concat([{device:function(c){return"generic"===c.platform},options:{popupPosition:{offset:{v:0}}}}])},_inputWrapper:function(){return this.$element().find("."+Et).first()},_init:function(){this.callBase(),this._initVisibilityActions(),this._initPopupInitializedAction(),this._updatePopupPosition(this.option("rtlEnabled")),this._options.cache("dropDownOptions",this.option("dropDownOptions"))},_updatePopupPosition:function(c){var{my:b,at:N}=this._getDefaultPopupPosition(c),tt=this.option("popupPosition");this.option("popupPosition",(0,L.l)({},tt,{my:b,at:N}))},_initVisibilityActions:function(){this._openAction=this._createActionByOption("onOpened",{excludeValidators:["disabled","readOnly"]}),this._closeAction=this._createActionByOption("onClosed",{excludeValidators:["disabled","readOnly"]})},_initPopupInitializedAction:function(){this._popupInitializedAction=this._createActionByOption("onPopupInitialized",{excludeValidators:["disabled","readOnly"]})},_initMarkup:function(){this._renderSubmitElement(),this.callBase(),this.$element().addClass("dx-dropdowneditor"),this.setAria("role","combobox")},_render:function(){this.callBase(),this._renderOpenHandler(),this._attachFocusOutHandler(),this._renderOpenedState()},_renderContentImpl:function(){this.option("deferRendering")||this._createPopup()},_renderInput:function(){this.callBase(),this._wrapInput(),this._setDefaultAria()},_wrapInput:function(){this._$container=this.$element().wrapInner((0,H.Z)("<div>").addClass(Et)).children().eq(0)},_setDefaultAria:function(){this.setAria({haspopup:"true",autocomplete:"list"})},_readOnlyPropValue:function(){return!this._isEditable()||this.callBase()},_cleanFocusState:function(){this.callBase(),this.option("fieldTemplate")&&this._detachFocusEvents()},_getFieldTemplate:function(){return this.option("fieldTemplate")&&this._getTemplateByOption("fieldTemplate")},_renderMask:function(){this.option("fieldTemplate")||this.callBase()},_renderField:function(){var c=this._getFieldTemplate();c&&this._renderTemplatedField(c,this._fieldRenderData())},_renderPlaceholder:function(){this._getFieldTemplate()||this.callBase()},_renderValue:function(){this.option("useHiddenSubmitElement")&&this._setSubmitValue(),this.callBase().always(this._renderField.bind(this))},_renderTemplatedField:function(c,b){var N=(0,$.si)(this._input()),tt=this._$container;this._detachKeyboardEvents(),this._refreshButtonsContainer(),this._detachWrapperContent(),this._detachFocusEvents(),tt.empty();var Dt=(0,H.Z)("<div>").addClass("dx-dropdowneditor-field-template-wrapper").appendTo(tt);c.render({model:b,container:(0,rt.u)(Dt),onRendered:()=>{var It=this._input();if(!It.length)throw Y.Z.Error("E1010");this._integrateInput(),N&&O.Z.trigger(It,"focus")}}),this._attachWrapperContent(tt)},_detachWrapperContent(){var c,b,N;this.option("useHiddenSubmitElement")&&(null===(c=this._$submitElement)||void 0===c||c.detach());var Dt=null===(b=this._$beforeButtonsContainer)||void 0===b?void 0:b[0].parentNode,It=null===(N=this._$afterButtonsContainer)||void 0===N?void 0:N[0].parentNode;null==Dt||Dt.removeChild(this._$beforeButtonsContainer[0]),null==It||It.removeChild(this._$afterButtonsContainer[0])},_attachWrapperContent(c){var b,N=this.option("useHiddenSubmitElement");c.prepend(this._$beforeButtonsContainer),N&&(null===(b=this._$submitElement)||void 0===b||b.appendTo(c)),c.append(this._$afterButtonsContainer)},_refreshButtonsContainer(){this._$buttonsContainer=this.$element().children().eq(0)},_integrateInput:function(){this._renderFocusState(),this._refreshValueChangeEvent(),this._refreshEvents(),this._refreshEmptinessEvent()},_refreshEmptinessEvent:function(){O.Z.off(this._input(),"input blur",this._toggleEmptinessEventHandler),this._renderEmptinessEvent()},_fieldRenderData:function(){return this.option("value")},_initTemplates:function(){this._templateManager.addDefaultTemplates({dropDownButton:new C.k(function(c){var b=(0,H.Z)("<div>").addClass("dx-dropdowneditor-icon");(0,H.Z)(c.container).append(b)})}),this.callBase()},_renderOpenHandler:function(){var c=this._inputWrapper(),b=(0,F.V4)(_.u,this.NAME),N=this.option("openOnFieldClick");O.Z.off(c,b),O.Z.on(c,b,this._getInputClickHandler(N)),this.$element().toggleClass("dx-dropdowneditor-field-clickable",N),N&&(this._openOnFieldClickAction=this._createAction(this._openHandler.bind(this)))},_attachFocusOutHandler:function(){I&&(this._detachFocusOutEvents(),O.Z.on(this._inputWrapper(),(0,F.V4)("focusout",this.NAME),c=>{var b=c.relatedTarget,N=this.content?(0,H.Z)(this.content()).closest("."+xt):this._$popup;b&&this.option("opened")&&0===(0,H.Z)(b).closest("."+xt,N).length&&this.close()}))},_detachFocusOutEvents:function(){I&&O.Z.off(this._inputWrapper(),(0,F.V4)("focusout",this.NAME))},_getInputClickHandler:function(c){return c?b=>{this._executeOpenAction(b)}:b=>{this._focusInput()}},_openHandler:function(){this._toggleOpenState()},_executeOpenAction:function(c){this._openOnFieldClickAction({event:c})},_keyboardEventBindingTarget:function(){return this._input()},_focusInput:function(){return!this.option("disabled")&&(this.option("focusStateEnabled")&&!(0,$.si)(this._input())&&(this._resetCaretPosition(),O.Z.trigger(this._input(),"focus")),!0)},_resetCaretPosition:function(){var c=arguments.length>0&&void 0!==arguments[0]&&arguments[0],b=this._input().get(0);if(b){var{value:N}=b,tt=(0,T.$K)(N)&&(c||this._isEditable())?N.length:0;this._caret({start:tt,end:tt},!0)}},_isEditable:function(){return this.option("acceptCustomValue")},_toggleOpenState:function(c){!this._focusInput()||this.option("readOnly")||(c=arguments.length?c:!this.option("opened"),this.option("opened",c))},_renderOpenedState:function(){var c=this.option("opened");c&&this._createPopup(),this.$element().toggleClass("dx-dropdowneditor-active",c),this._setPopupOption("visible",c),this.setAria({expanded:c}),this.setAria("owns",c?this._popupContentId:void 0,this.$element())},_createPopup:function(){this._$popup||(this._$popup=(0,H.Z)("<div>").addClass(xt).appendTo(this.$element()),this._renderPopup(),this._renderPopupContent())},_renderPopupContent:V.ZT,_renderPopup:function(){var c=(0,L.l)(this._popupConfig(),this._options.cache("dropDownOptions"));this._popup=this._createComponent(this._$popup,S.Z,c),this._popup.on({showing:this._popupShowingHandler.bind(this),shown:this._popupShownHandler.bind(this),hiding:this._popupHidingHandler.bind(this),hidden:this._popupHiddenHandler.bind(this),contentReady:this._contentReadyHandler.bind(this)}),this._contentReadyHandler(),this._setPopupContentId(this._popup.$content()),this._bindInnerWidgetOptions(this._popup,"dropDownOptions")},_setPopupContentId(c){this._popupContentId="dx-"+new X.Z,this.setAria("id",this._popupContentId,c)},_contentReadyHandler:V.ZT,_popupConfig:function(){return{onInitialized:this._popupInitializedHandler(),position:(0,L.l)(this.option("popupPosition"),{of:this.$element()}),showTitle:this.option("dropDownOptions.showTitle"),_ignoreFunctionValueDeprecation:!0,width:()=>(0,ot.m)(this.$element()),height:"auto",shading:!1,wrapperAttr:{class:xt},hideOnParentScroll:!0,closeOnOutsideClick:this._closeOutsideDropDownHandler.bind(this),animation:{show:{type:"fade",duration:0,from:0,to:1},hide:{type:"fade",duration:400,from:1,to:0}},deferRendering:!1,focusStateEnabled:!1,showCloseButton:!1,dragEnabled:!1,toolbarItems:this._getPopupToolbarItems(),onPositioned:this._popupPositionedHandler.bind(this),fullScreen:!1,contentTemplate:null}},_popupInitializedHandler:function(){return this.option("onPopupInitialized")?c=>{this._popupInitializedAction({popup:c.component})}:null},_dimensionChanged:function(){void 0===(0,ot.T)(this.option("dropDownOptions.width"))&&this._setPopupOption("width",()=>(0,ot.m)(this.$element()))},_popupPositionedHandler:function(c){c.position&&this._popup.$overlayContent().toggleClass(B,c.position.v.flip)},_popupShowingHandler:V.ZT,_popupHidingHandler:function(){this.option("opened",!1)},_popupShownHandler:function(){var c;this._openAction();var b=this._popup.$overlayContent(),N=(0,ut.jt)(b);if(this._label.isVisible()&&b.hasClass(B)){var tt=this._label.$element();(0,ut.pB)(b,{top:N.top-parseInt(tt.css("fontSize"))})}null===(c=this._validationMessage)||void 0===c||c.option("positionRequest",this._getValidationMessagePositionRequest())},_popupHiddenHandler:function(){var c;this._closeAction(),null===(c=this._validationMessage)||void 0===c||c.option("positionRequest",this._getValidationMessagePositionRequest())},_getValidationMessagePositionRequest:function(){var c="below";if(this._popup&&this._popup.option("visible")){var{top:b}=yt.Z.setup(this.$element()),{top:N}=yt.Z.setup(this._popup.$content());c=b+this.option("popupPosition").offset.v>N?"below":"above"}return c},_closeOutsideDropDownHandler:function(c){var{target:b}=c,N=(0,H.Z)(b),tt=this.getButton("dropDown"),Dt=tt&&tt.$element(),It=!!N.closest(this.$element()).length,Mt=!!N.closest(Dt).length;return!It&&!Mt},_clean:function(){delete this._openOnFieldClickAction,this._$popup&&(this._$popup.remove(),delete this._$popup,delete this._popup),this.callBase()},_setPopupOption:function(c,b){this._setWidgetOption("_popup",arguments)},_validatedOpening:function(){this.option("readOnly")||this._toggleOpenState(!0)},_getPopupToolbarItems:function(){return"useButtons"===this.option("applyValueMode")?this._popupToolbarItemsConfig():[]},_getFirstPopupElement:function(){return this._popup.$wrapper().find(".dx-popup-done.dx-button")},_getLastPopupElement:function(){return this._popup.$wrapper().find(".dx-popup-cancel.dx-button")},_popupElementTabHandler:function(c){var b=(0,H.Z)(c.currentTarget);(c.shiftKey&&b.is(this._getFirstPopupElement())||!c.shiftKey&&b.is(this._getLastPopupElement()))&&(O.Z.trigger(this._input(),"focus"),c.preventDefault())},_popupElementEscHandler:function(){O.Z.trigger(this._input(),"focus"),this.close()},_popupButtonInitializedHandler:function(c){c.component.registerKeyHandler("tab",this._popupElementTabHandler.bind(this)),c.component.registerKeyHandler("escape",this._popupElementEscHandler.bind(this))},_popupToolbarItemsConfig:function(){var c=[{shortcut:"done",options:{onClick:this._applyButtonHandler.bind(this),text:this.option("applyButtonText"),onInitialized:this._popupButtonInitializedHandler.bind(this)}},{shortcut:"cancel",options:{onClick:this._cancelButtonHandler.bind(this),text:this.option("cancelButtonText"),onInitialized:this._popupButtonInitializedHandler.bind(this)}}];return this._applyButtonsLocation(c)},_applyButtonsLocation:function(c){var b=this.option("buttonsLocation"),N=c;if("default"!==b){var tt=(0,V.Um)(b);(0,P.S6)(N,function(Dt,It){(0,L.l)(It,{toolbar:tt[0],location:tt[1]})})}return N},_applyButtonHandler:function(){this.close(),this.option("focusStateEnabled")&&this.focus()},_cancelButtonHandler:function(){this.close(),this.option("focusStateEnabled")&&this.focus()},_popupOptionChanged:function(c){var b=j.Z.getOptionsFromContainer(c);this._setPopupOption(b);var N=Object.keys(b);(-1!==N.indexOf("width")||-1!==N.indexOf("height"))&&this._dimensionChanged()},_renderSubmitElement:function(){this.option("useHiddenSubmitElement")&&(this._$submitElement=(0,H.Z)("<input>").attr("type","hidden").appendTo(this.$element()))},_setSubmitValue:function(){this._getSubmitElement().val(this.option("value"))},_getSubmitElement:function(){return this.option("useHiddenSubmitElement")?this._$submitElement:this.callBase()},_dispose:function(){this._detachFocusOutEvents(),this.callBase()},_optionChanged:function(c){var b;switch(c.name){case"width":case"height":this.callBase(c),null===(b=this._popup)||void 0===b||b.repaint();break;case"opened":this._renderOpenedState();break;case"onOpened":case"onClosed":this._initVisibilityActions();break;case"onPopupInitialized":this._initPopupInitializedAction();break;case"fieldTemplate":(0,T.$K)(c.value)?this._renderField():this._invalidate();break;case"acceptCustomValue":case"openOnFieldClick":this._invalidate();break;case"dropDownButtonTemplate":case"showDropDownButton":this._updateButtons(["dropDown"]);break;case"dropDownOptions":this._popupOptionChanged(c),this._options.cache("dropDownOptions",this.option("dropDownOptions"));break;case"popupPosition":break;case"deferRendering":(0,U.Ym)()&&this._createPopup();break;case"applyValueMode":case"applyButtonText":case"cancelButtonText":case"buttonsLocation":this._setPopupOption("toolbarItems",this._getPopupToolbarItems());break;case"useHiddenSubmitElement":this._$submitElement&&(this._$submitElement.remove(),this._$submitElement=void 0),this._renderSubmitElement();break;case"rtlEnabled":this._updatePopupPosition(c.value),this.callBase(c);break;default:this.callBase(c)}},open:function(){this.option("opened",!0)},close:function(){this.option("opened",!1)},field:function(){return(0,rt.u)(this._input())},content:function(){return this._popup?this._popup.content():null}});(0,at.Z)("dxDropDownEditor",k);const nt=k},8380:(zt,Tt,l)=>{l.d(Tt,{Z:()=>st});var H=l(1374),O=l(3520),X=l(4500),at=l(4705),V=l(1760),$=l(7771),P=l(6836),T=l(4596),L=l(3684),rt=l(6769),Y=l(139),yt=l(6505),mt=l(6795),ht=l(6129),z=l(7923),et=l(2510),J=l(1553),Z=l(6619),it=l(1996),R=l(2353),j=l(4422),F=l(6714),f=l(316);const E=(0,L.l)({},R.Z,{_dataExpressionDefaultOptions:function(){return{items:[],dataSource:null,itemTemplate:"item",value:null,valueExpr:"this",displayExpr:void 0}},_initDataExpressions:function(){this._compileValueGetter(),this._compileDisplayGetter(),this._initDynamicTemplates(),this._initDataSource(),this._itemsToDataSource()},_itemsToDataSource:function(){this.option("dataSource")||(this._dataSource=new j.o({store:new F.Z(this.option("items")),pageSize:0}))},_compileDisplayGetter:function(){this._displayGetter=(0,it.vb)(this._displayGetterExpr())},_displayGetterExpr:function(){return this.option("displayExpr")},_compileValueGetter:function(){this._valueGetter=(0,it.vb)(this._valueGetterExpr())},_valueGetterExpr:function(){return this.option("valueExpr")||"this"},_loadValue:function(d){var I=new f.BH;return d=this._unwrappedValue(d),(0,T.$K)(d)?(this._loadSingle(this._valueGetterExpr(),d).done(function(k){this._isValueEquals(this._valueGetter(k),d)?I.resolve(k):I.reject()}.bind(this)).fail(function(){I.reject()}),this._loadValueDeferred=I,I.promise()):I.reject().promise()},_rejectValueLoading:function(){var d;null===(d=this._loadValueDeferred)||void 0===d||d.reject({shouldSkipCallback:!0})},_getCurrentValue:function(){return this.option("value")},_unwrappedValue:function(d){var I;return(d=null!==(I=d)&&void 0!==I?I:this._getCurrentValue())&&this._dataSource&&"this"===this._valueGetterExpr()&&(d=this._getItemKey(d)),Z.Z.unwrap(d)},_getItemKey:function(d){var I=this._dataSource.key();if(Array.isArray(I)){for(var k={},nt=0,c=I.length;nt<c;nt++)k[I[nt]]=d[I[nt]];return k}return I&&"object"==typeof d&&(d=d[I]),d},_isValueEquals:function(d,I){var k=this._dataSource&&this._dataSource.key(),nt=this._compareValues(d,I);return!nt&&k&&(0,T.$K)(d)&&(0,T.$K)(I)&&(nt=Array.isArray(k)?this._compareByCompositeKey(d,I,k):this._compareByKey(d,I,k)),nt},_compareByCompositeKey:function(d,I,k){var nt=T.Kn;if(!nt(d)||!nt(I))return!1;for(var c=0,b=k.length;c<b;c++)if(d[k[c]]!==I[k[c]])return!1;return!0},_compareByKey:function(d,I,k){var nt=Z.Z.unwrap,c=(0,P.IS)(nt(d[k]),d),b=(0,P.IS)(nt(I[k]),I);return this._compareValues(c,b)},_compareValues:function(d,I){return(0,it.Ex)(d,!0)===(0,it.Ex)(I,!0)},_initDynamicTemplates:P.ZT,_setCollectionWidgetItemTemplate:function(){this._initDynamicTemplates(),this._setCollectionWidgetOption("itemTemplate",this.option("itemTemplate"))},_getCollectionKeyExpr:function(){var d=this.option("valueExpr");return(0,T.HD)(d)&&"this"!==d||(0,T.mf)(d)?d:null},_dataExpressionOptionChanged:function(d){switch(d.name){case"items":this._itemsToDataSource(),this._setCollectionWidgetOption("items");break;case"dataSource":this._initDataSource();break;case"itemTemplate":this._setCollectionWidgetItemTemplate();break;case"valueExpr":this._compileValueGetter();break;case"displayExpr":this._compileDisplayGetter(),this._initDynamicTemplates(),this._setCollectionWidgetOption("displayExpr")}}});var C=l(911),S=l(8437),U=l(8166),ot=(0,X.Jj)(),At="dx-skip-gesture-event",B=["startswith","contains","endwith","notcontains"],M=Y.Z.inherit({_supportedKeys:function(){var d=this.callBase();return(0,L.l)({},d,{tab:function(I){if(this._allowSelectItemByTab()){this._saveValueChangeEvent(I);var k=(0,O.Z)(this._list.option("focusedElement"));k.length&&this._setSelectedElement(k)}d.tab.apply(this,arguments)},space:P.ZT,home:P.ZT,end:P.ZT})},_allowSelectItemByTab:function(){return this.option("opened")&&"instantly"===this.option("applyValueMode")},_setSelectedElement:function(d){var I=this._valueGetter(this._list._getItemData(d));this._setValue(I)},_setValue:function(d){this.option("value",d)},_getDefaultOptions:function(){return(0,L.l)(this.callBase(),(0,L.l)(E._dataExpressionDefaultOptions(),{displayValue:void 0,searchEnabled:!1,searchMode:"contains",searchTimeout:500,minSearchLength:0,searchExpr:null,valueChangeEvent:"input change keyup",selectedItem:null,noDataText:C.Z.format("dxCollectionWidget-noDataText"),onSelectionChanged:null,onItemClick:P.ZT,showDataBeforeSearch:!1,grouped:!1,groupTemplate:"group",popupPosition:{my:"left top",at:"left bottom",offset:{h:0,v:0},collision:"flip"},wrapItemText:!1,useItemTextAsTitle:!1}))},_defaultOptionsRules:function(){return this.callBase().concat([{device:{platform:"ios"},options:{popupPosition:{offset:{v:-1}}}},{device:{platform:"generic"},options:{buttonsLocation:"bottom center"}}])},_setOptionsByReference:function(){this.callBase(),(0,L.l)(this._optionsByReference,{value:!0,selectedItem:!0,displayValue:!0})},_init:function(){this.callBase(),this._initDataExpressions(),this._initActions(),this._setListDataSource(),this._validateSearchMode(),this._clearSelectedItem(),this._initItems()},_setListFocusedElementOptionChange:function(){this._list._updateParentActiveDescendant=this._updateActiveDescendant.bind(this)},_initItems:function(){var d=this.option().items;d&&!d.length&&this._dataSource&&(this.option().items=this._dataSource.items())},_initActions:function(){this._initContentReadyAction(),this._initSelectionChangedAction(),this._initItemClickAction()},_initContentReadyAction:function(){this._contentReadyAction=this._createActionByOption("onContentReady",{excludeValidators:["disabled","readOnly"]})},_initSelectionChangedAction:function(){this._selectionChangedAction=this._createActionByOption("onSelectionChanged",{excludeValidators:["disabled","readOnly"]})},_initItemClickAction:function(){this._itemClickAction=this._createActionByOption("onItemClick")},_initTemplates:function(){this.callBase(),this._templateManager.addDefaultTemplates({item:new S.s("item")})},_isEditable:function(){return this.callBase()||this.option("searchEnabled")},_saveFocusOnWidget:function(d){this._list&&this._list.initialOption("focusStateEnabled")&&this._focusInput()},_fitIntoRange:function(d,I,k){return d>k?I:d<I?k:d},_items:function(){var d=this._getPlainItems(!this._list&&this._dataSource.items());return new et.Z(d).filter("disabled","<>",!0).toArray()},_calcNextItem:function(d){var I=this._items();return I[this._fitIntoRange(this._getSelectedIndex()+d,0,I.length-1)]},_getSelectedIndex:function(){var d=this._items(),I=this.option("selectedItem"),k=-1;return(0,J.S6)(d,function(nt,c){if(this._isValueEquals(c,I))return k=nt,!1}.bind(this)),k},_createPopup:function(){this.callBase(),this._updateCustomBoundaryContainer(),this._popup.$wrapper().addClass(this._popupWrapperClass());var d=this._popup.$content();at.Z.off(d,"mouseup"),at.Z.on(d,"mouseup",this._saveFocusOnWidget.bind(this));var I=this;this._popup.on({shown:function(){I.$element().addClass(At)},hidden:function(){I.$element().removeClass(At)}})},_updateCustomBoundaryContainer:function(){var d=this.option("dropDownOptions.container"),I=d&&(0,O.Z)(d);if(I&&I.length&&!(0,T.FJ)(I.get(0))){var k=[].slice.call(I.parents());k.unshift(I.get(0)),(0,J.S6)(k,function(nt,c){return c!==(0,O.Z)("body").get(0)&&("hidden"===ot.getComputedStyle(c).overflowY?(this._$customBoundaryContainer=(0,O.Z)(c),!1):void 0)}.bind(this))}},_popupWrapperClass:function(){return"dx-dropdownlist-popup-wrapper"},_renderInputValue:function(){var d=this._getCurrentValue();return this._rejectValueLoading(),this._loadInputValue(d,this._setSelectedItem.bind(this)).always(this.callBase.bind(this,d))},_loadInputValue:function(d,I){return this._loadItem(d).always(I)},_getItemFromPlain:function(d,I){var k,nt;return I&&"object"!=typeof d&&(I.itemByValue||(I.itemByValue={},(k=this._getPlainItems()).forEach(function(c){I.itemByValue[this._valueGetter(c)]=c},this)),nt=I.itemByValue[d]),nt||(k=this._getPlainItems(),nt=(0,P.h3)(k,function(c){return this._isValueEquals(this._valueGetter(c),d)}.bind(this))[0]),nt},_loadItem:function(d,I){var k=this._getItemFromPlain(d,I);return void 0!==k?(new f.BH).resolve(k).promise():this._loadValue(d)},_getPlainItems:function(d){var I=[];d=d||this.option("items")||this._dataSource.items()||[];for(var k=0;k<d.length;k++)d[k]&&d[k].items?I=I.concat(d[k].items):I.push(d[k]);return I},_updateActiveDescendant(){var d,I=this.option("opened"),k=null===(d=this._list)||void 0===d?void 0:d.getFocusedItemId(),nt=(0,O.Z)("#".concat(k)).length>0;this.setAria({activedescendant:I&&nt&&k||null})},_setSelectedItem:function(d){var I=this._displayValue(d);this.option("selectedItem",(0,P.IS)(d,null)),this.option("displayValue",I)},_displayValue:function(d){return this._displayGetter(d)},_refreshSelected:function(){var d={};this._listItemElements().each(function(I,k){var nt=(0,O.Z)(k),c=this._valueGetter(nt.data("dxListItemData"));this._isSelectedValue(c,d)?this._list.selectItem(nt):this._list.unselectItem(nt)}.bind(this))},_popupShownHandler:function(){this.callBase(),this._setFocusPolicy()},_setFocusPolicy:function(){!this.option("focusStateEnabled")||!this._list||this._list.option("focusedElement",null)},_isSelectedValue:function(d){return this._isValueEquals(d,this.option("value"))},_validateSearchMode:function(){var d=this.option("searchMode"),I=d.toLowerCase();if((0,rt.d3)(I,B)<0)throw mt.Z.Error("E1019",d)},_clearSelectedItem:function(){this.option("selectedItem",null)},_processDataSourceChanging:function(){this._setListDataSource(),this._renderInputValue().fail(function(){this._isCustomValueAllowed()||this._clearSelectedItem()}.bind(this))},_isCustomValueAllowed:function(){return this.option("displayCustomValue")},reset:function(){this.callBase(),this._clearFilter(),this._clearSelectedItem()},_listItemElements:function(){return this._$list?this._$list.find(".dx-list-item"):(0,O.Z)()},_popupConfig:function(){return(0,L.l)(this.callBase(),{templatesRenderAsynchronously:!1,autoResizeEnabled:!1,maxHeight:this._getMaxHeight.bind(this)})},_renderPopupContent:function(){this.callBase(),this._renderList()},_getKeyboardListeners(){var d=this._canListHaveFocus();return this.callBase().concat([!d&&this._list])},_setAriaTargetForList:function(){this._list._getAriaTarget=this._getAriaTarget.bind(this)},_renderList:function(){this._listId="dx-"+(new V.Z)._value;var d=this._$list=(0,O.Z)("<div>").attr("id",this._listId).appendTo(this._popup.$content());this._list=this._createComponent(d,yt.Z,this._listConfig()),this._refreshList(),this._setAriaTargetForList(),this._list.option("_listAttributes",{role:"combobox"}),this._renderPreventBlur(this._$list),this._setListFocusedElementOptionChange()},_renderPreventBlur:function(d){var I=(0,ht.V4)("mousedown","dxDropDownList");at.Z.off(d,I),at.Z.on(d,I,function(k){k.preventDefault()}.bind(this))},_renderOpenedState:function(){this.callBase(),this._list&&this._updateActiveDescendant(),this.setAria({controls:this._list&&this._listId,owns:this._popup&&this._popupContentId})},_setDefaultAria:function(){this.setAria({haspopup:"listbox",autocomplete:"list"})},_refreshList:function(){this._list&&this._shouldRefreshDataSource()&&this._setListDataSource()},_shouldRefreshDataSource:function(){return!!this._list.option("dataSource")!==this._needPassDataSourceToList()},_isDesktopDevice:function(){return"desktop"===z.Z.real().deviceType},_listConfig:function(){var d={selectionMode:"single",_templates:this.option("_templates"),templateProvider:this.option("templateProvider"),noDataText:this.option("noDataText"),grouped:this.option("grouped"),wrapItemText:this.option("wrapItemText"),useItemTextAsTitle:this.option("useItemTextAsTitle"),onContentReady:this._listContentReadyHandler.bind(this),itemTemplate:this.option("itemTemplate"),indicateLoading:!1,keyExpr:this._getCollectionKeyExpr(),displayExpr:this._displayGetterExpr(),groupTemplate:this.option("groupTemplate"),onItemClick:this._listItemClickAction.bind(this),dataSource:this._getDataSource(),_revertPageOnEmptyLoad:!0,hoverStateEnabled:!!this._isDesktopDevice()&&this.option("hoverStateEnabled"),focusStateEnabled:!!this._isDesktopDevice()&&this.option("focusStateEnabled")};return this._canListHaveFocus()||(d.tabIndex=null),d},_canListHaveFocus:()=>!1,_getDataSource:function(){return this._needPassDataSourceToList()?this._dataSource:null},_dataSourceOptions:function(){return{paginate:!1}},_getGroupedOption:function(){return this.option("grouped")},_dataSourceFromUrlLoadMode:function(){return"raw"},_listContentReadyHandler:function(){this._list=this._list||this._$list.dxList("instance"),this.option("deferRendering")||this._refreshSelected(),this._dimensionChanged(),this._contentReadyAction()},_setListOption:function(d,I){this._setWidgetOption("_list",arguments)},_listItemClickAction:function(d){this._listItemClickHandler(d),this._itemClickAction(d)},_listItemClickHandler:P.ZT,_setListDataSource:function(){!this._list||(this._setListOption("dataSource",this._getDataSource()),this._needPassDataSourceToList()||this._setListOption("items",[]))},_needPassDataSourceToList:function(){return this.option("showDataBeforeSearch")||this._isMinSearchLengthExceeded()},_isMinSearchLengthExceeded:function(){return this._searchValue().toString().length>=this.option("minSearchLength")},_needClearFilter:function(){return!this._canKeepDataSource()&&this._needPassDataSourceToList()},_canKeepDataSource:function(){var d,I=this._isMinSearchLengthExceeded();return(null===(d=this._dataSource)||void 0===d?void 0:d.isLoaded())&&this.option("showDataBeforeSearch")&&this.option("minSearchLength")&&!I&&!this._isLastMinSearchLengthExceeded},_searchValue:function(){return this._input().val()||""},_getSearchEvent:function(){return(0,ht.V4)("input",this.NAME+"Search")},_getCompositionStartEvent:function(){return(0,ht.V4)("compositionstart",this.NAME+"CompositionStart")},_getCompositionEndEvent:function(){return(0,ht.V4)("compositionend",this.NAME+"CompositionEnd")},_getSetFocusPolicyEvent:function(){return(0,ht.V4)("input",this.NAME+"FocusPolicy")},_renderEvents:function(){this.callBase(),at.Z.on(this._input(),this._getSetFocusPolicyEvent(),()=>{this._setFocusPolicy()}),this._shouldRenderSearchEvent()&&(at.Z.on(this._input(),this._getSearchEvent(),d=>{this._searchHandler(d)}),at.Z.on(this._input(),this._getCompositionStartEvent(),()=>{this._isTextCompositionInProgress(!0)}),at.Z.on(this._input(),this._getCompositionEndEvent(),d=>{this._isTextCompositionInProgress(void 0),this._searchHandler(d,this._searchValue())}))},_shouldRenderSearchEvent:function(){return this.option("searchEnabled")},_refreshEvents:function(){at.Z.off(this._input(),this._getSearchEvent()),at.Z.off(this._input(),this._getSetFocusPolicyEvent()),at.Z.off(this._input(),this._getCompositionStartEvent()),at.Z.off(this._input(),this._getCompositionEndEvent()),this.callBase()},_isTextCompositionInProgress:function(d){if(!arguments.length)return this._isTextComposition;this._isTextComposition=d},_searchHandler:function(d,I){if(!this._isTextCompositionInProgress()){if(!this._isMinSearchLengthExceeded())return void this._searchCanceled();var k=this.option("searchTimeout");k?(this._clearSearchTimer(),this._searchTimer=setTimeout(()=>{this._searchDataSource(I)},k)):this._searchDataSource(I)}},_searchCanceled:function(){this._clearSearchTimer(),this._needClearFilter()&&this._filterDataSource(null),this._refreshList()},_searchDataSource:function(){var d=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this._searchValue();this._filterDataSource(d)},_filterDataSource:function(d){this._clearSearchTimer();var I=this._dataSource;I&&(I.searchExpr(this.option("searchExpr")||this._displayGetterExpr()),I.searchOperation(this.option("searchMode")),I.searchValue(d),I.load().done(this._dataSourceFiltered.bind(this,d)))},_clearFilter:function(){var d=this._dataSource;d&&d.searchValue()&&d.searchValue(null)},_dataSourceFiltered:function(){this._isLastMinSearchLengthExceeded=this._isMinSearchLengthExceeded(),this._refreshList(),this._refreshPopupVisibility()},_shouldOpenPopup:function(){return this._hasItemsToShow()},_refreshPopupVisibility:function(){if(!this.option("readOnly")&&this._searchValue()){var d=this._shouldOpenPopup();d&&!this._isFocused()||(this.option("opened",d),d&&this._dimensionChanged())}},_dataSourceChangedHandler:function(d){0===this._dataSource.pageIndex()?this.option().items=d:this.option().items=this.option().items.concat(d)},_hasItemsToShow:function(){var I=(this._dataSource&&this._dataSource.items()||[]).length;return!(!this._needPassDataSourceToList()||!I)},_clearSearchTimer:function(){clearTimeout(this._searchTimer),delete this._searchTimer},_popupShowingHandler:function(){this._dimensionChanged()},_dimensionChanged:function(){this.callBase(arguments),this._popup&&this._updatePopupDimensions()},_needPopupRepaint:function(){if(!this._dataSource)return!1;var d=this._dataSource.pageIndex(),I=(0,T.$K)(this._pageIndex)&&d<=this._pageIndex;return this._pageIndex=d,I},_updatePopupDimensions:function(){this._needPopupRepaint()&&this._popup.repaint(),this._list&&this._list.updateDimensions()},_getMaxHeight:function(){var d=this.$element(),I=this._$customBoundaryContainer,k=d.offset().top-(I?I.offset().top:0),nt=(0,H.zp)(ot),c=I?Math.min((0,H.zp)(I),nt):nt,b=Math.max(k,c-k-(0,H.zp)(d));return Math.min(.5*c,b)},_clean:function(){this._list&&delete this._list,delete this._isLastMinSearchLengthExceeded,this.callBase()},_dispose:function(){this._clearSearchTimer(),this.callBase()},_setCollectionWidgetOption:function(){this._setListOption.apply(this,arguments)},_setSubmitValue:function(){var d=this.option("value"),I=this._shouldUseDisplayValue(d)?this._displayGetter(d):d;this._getSubmitElement().val(I)},_shouldUseDisplayValue:function(d){return"this"===this.option("valueExpr")&&(0,T.Kn)(d)},_optionChanged:function(d){switch(this._dataExpressionOptionChanged(d),d.name){case"hoverStateEnabled":case"focusStateEnabled":this._isDesktopDevice()&&this._setListOption(d.name,d.value),this.callBase(d);break;case"items":this.option("dataSource")||this._processDataSourceChanging();break;case"dataSource":this._processDataSourceChanging();break;case"valueExpr":this._renderValue(),this._setListOption("keyExpr",this._getCollectionKeyExpr());break;case"displayExpr":this._renderValue(),this._setListOption("displayExpr",this._displayGetterExpr());break;case"searchMode":this._validateSearchMode();break;case"minSearchLength":this._refreshList();break;case"searchEnabled":case"showDataBeforeSearch":case"searchExpr":this._invalidate();break;case"onContentReady":this._initContentReadyAction();break;case"onSelectionChanged":this._initSelectionChangedAction();break;case"onItemClick":this._initItemClickAction();break;case"grouped":case"groupTemplate":case"wrapItemText":case"noDataText":case"useItemTextAsTitle":this._setListOption(d.name);break;case"displayValue":this.option("text",d.value);break;case"itemTemplate":case"searchTimeout":break;case"selectedItem":d.previousValue!==d.value&&this._selectionChangedAction({selectedItem:d.value});break;default:this.callBase(d)}}}).include(E,U.Z);(0,$.Z)("dxDropDownList",M);const st=M},7238:(zt,Tt,l)=>{l.d(Tt,{Z:()=>ka});var H=l(7462),O=l(3520),X=l(4705),at=l(7771),V=l(1760),$=l(6836),P=l(2429),T=l(4596),L=l(1553),rt=l(6769),Y=l(3684),yt=l(1128),mt=l(7075),ht=l(911),z=l(6068),et=l(2598),J=l(4500),Z=l(9150);class it{constructor(){this._map={}}_findWidgetInstance(a){var n;return(0,L.S6)(this._map,function(s,h){var{widgetInstance:g,item:D}=h;if(a(D))return n=g,!1}),n}_findFieldByCondition(a,n){var s;return(0,L.S6)(this._map,function(h,g){if(a(g))return s="guid"===n?h:g[n],!1}),s}clear(){this._map={}}removeItemsByItems(a){(0,L.S6)(a.getItems(),n=>this.removeItemByKey(n))}removeItemByKey(a){delete this._map[a]}add(a){var n=a.guid||new V.Z;return this._map[n]=a,n}addItemsOrExtendFrom(a){a.each((n,s)=>{this._map[n]?(s.widgetInstance&&(this._map[n].widgetInstance=s.widgetInstance),this._map[n].$itemContainer=s.$itemContainer):this.add({item:s.item,widgetInstance:s.widgetInstance,guid:n,$itemContainer:s.$itemContainer})})}extendRunTimeItemInfoByKey(a,n){this._map[a]&&(this._map[a]=(0,Y.l)(this._map[a],n))}findWidgetInstanceByItem(a){return this._findWidgetInstance(n=>n===a)}findGroupOrTabLayoutManagerByPath(a){return this._findFieldByCondition(n=>{var{path:s}=n;return s===a},"layoutManager")}findKeyByPath(a){return this._findFieldByCondition(n=>{var{path:s}=n;return s===a},"guid")}findWidgetInstanceByName(a){return this._findWidgetInstance(n=>a===n.name)}findWidgetInstanceByDataField(a){return this._findWidgetInstance(n=>a===((0,T.HD)(n)?n:n.dataField))}findItemContainerByItem(a){for(var n in this._map)if(this._map[n].item===a)return this._map[n].$itemContainer;return null}findItemIndexByItem(a){return this._findFieldByCondition(n=>{var{item:s}=n;return s===a},"itemIndex")}findPreparedItemByItem(a){return this._findFieldByCondition(n=>{var{item:s}=n;return s===a},"preparedItem")}getItems(){return this._map}each(a){(0,L.S6)(this._map,function(n,s){a(n,s)})}removeItemsByPathStartWith(a){Object.keys(this._map).filter(h=>!!this._map[h].path&&this._map[h].path.indexOf(a,0)>-1).forEach(h=>this.removeItemByKey(h))}}var R=l(1374),j=l(5303),F=l(7923),f=l(8082),_=l(6885),E=l(5922),C={move(e,a){(0,_.pB)(e,{left:a})}},S={moveTo(e,a,n,s){E.Z.animate(e,{type:"slide",to:{left:a},duration:n,complete:s})},complete(e){E.Z.stop(e,!0)}},U=l(2657),ot=l(3029),ut=l(3813),Ct=l(316),Et="dx-multiview",At="dx-multiview-wrapper",xt="dx-multiview-item-container",B="dx-multiview-item",I=e=>+e,nt=ot.Z.inherit({_activeStateUnit:"."+B,_supportedKeys:function(){return(0,Y.l)(this.callBase(),{pageUp:$.ZT,pageDown:$.ZT})},_getDefaultOptions:function(){return(0,Y.l)(this.callBase(),{selectedIndex:0,swipeEnabled:!0,animationEnabled:!0,loop:!1,deferRendering:!0,_itemAttributes:{role:"tabpanel"},loopItemFocus:!1,selectOnFocus:!0,selectionMode:"single",selectionRequired:!0,selectionByClick:!1})},_defaultOptionsRules:function(){return this.callBase().concat([{device:function(){return"desktop"===F.Z.real().deviceType&&!F.Z.isSimulator()},options:{focusStateEnabled:!0}}])},_itemClass:function(){return B},_itemDataKey:function(){return"dxMultiViewItemData"},_itemContainer:function(){return this._$itemContainer},_itemElements:function(){return this._itemContainer().children(this._itemSelector())},_itemWidth:function(){return this._itemWidthValue||(this._itemWidthValue=(0,R.dz)(this._$wrapper)),this._itemWidthValue},_clearItemWidthCache:function(){delete this._itemWidthValue},_itemsCount:function(){return this.option("items").length},_normalizeIndex:function(e){var a=this._itemsCount();return e<0&&(e+=a),e>=a&&(e-=a),e},_getRTLSignCorrection:function(){return this.option("rtlEnabled")?-1:1},_init:function(){this.callBase.apply(this,arguments);var e=this.$element();e.addClass(Et),this._$wrapper=(0,O.Z)("<div>").addClass(At),this._$wrapper.appendTo(e),this._$itemContainer=(0,O.Z)("<div>").addClass(xt),this._$itemContainer.appendTo(this._$wrapper),this.option("loopItemFocus",this.option("loop")),this._initSwipeable()},_initMarkup:function(){this._deferredItems=[],this.callBase();var e=this._getSelectedItemIndices();this._updateItemsVisibility(e[0])},_afterItemElementDeleted:function(e,a){this.callBase(e,a),this._deferredItems&&this._deferredItems.splice(a.itemIndex,1)},_beforeItemElementInserted:function(e){this.callBase.apply(this,arguments),this._deferredItems&&this._deferredItems.splice(e.index,0,null)},_executeItemRenderAction:function(e,a,n){e=(this.option("items")||[]).indexOf(a),this.callBase(e,a,n)},_renderItemContent:function(e){var a=new Ct.BH,n=this,s=this.callBase,h=new Ct.BH;return h.done(function(){var g=s.call(n,e);a.resolve(g)}),this._deferredItems[e.index]=h,this.option("deferRendering")||h.resolve(),a.promise()},_render:function(){this.callBase(),(0,$.g0)(()=>{var e=this._getSelectedItemIndices();this._updateItems(e[0])})},_updateItems:function(e,a){this._updateItemsPosition(e,a),this._updateItemsVisibility(e,a)},_modifyByChanges:function(){this.callBase.apply(this,arguments);var e=this._getSelectedItemIndices();this._updateItemsVisibility(e[0])},_updateItemsPosition:function(e,a){var n=this._itemElements(),s=(0,T.$K)(a)?-this._animationDirection(a,e):void 0,h=n.eq(e);C.move(h,0),(0,T.$K)(a)&&C.move(n.eq(a),100*s+"%")},_updateItemsVisibility:function(e,a){this._itemElements().each(function(s,h){var g=(0,O.Z)(h),D=s!==e&&s!==a;D||this._renderSpecificItem(s),g.toggleClass("dx-multiview-item-hidden",D),this.setAria("hidden",D||void 0,g)}.bind(this))},_renderSpecificItem:function(e){var a=this._itemElements().eq(e),n=a.find(this._itemContentClass()).length>0;(0,T.$K)(e)&&!n&&(this._deferredItems[e].resolve(),(0,yt.U_)(a))},_refreshItem:function(e,a){this.callBase(e,a),this._updateItemsVisibility(this.option("selectedIndex"))},_setAriaSelected:$.ZT,_updateSelection:function(e,a){var n=e[0],s=a[0];S.complete(this._$itemContainer),this._updateItems(s,n);var h=this._animationDirection(n,s);this._animateItemContainer(h*this._itemWidth(),function(){C.move(this._$itemContainer,0),this._updateItems(n),(0,R.dz)(this._$itemContainer)}.bind(this))},_animateItemContainer:function(e,a){var n=this.option("animationEnabled")?200:0;S.moveTo(this._$itemContainer,e,n,a)},_animationDirection:function(e,a){var n=(e=>(0,_.jt)(this._$itemContainer).left)(),s=(a-e)*this._getRTLSignCorrection()*this._getItemFocusLoopSignCorrection();return(0,U.Xx)(0!==n?n:s)},_getSwipeDisabledState(){return!this.option("swipeEnabled")||this._itemsCount()<=1},_initSwipeable(){this._createComponent(this.$element(),ut.Z,{disabled:this._getSwipeDisabledState(),elastic:!1,itemSizeFunc:this._itemWidth.bind(this),onStart:e=>this._swipeStartHandler(e.event),onUpdated:e=>this._swipeUpdateHandler(e.event),onEnd:e=>this._swipeEndHandler(e.event)})},_swipeStartHandler:function(e){S.complete(this._$itemContainer);var a=this.option("selectedIndex"),n=this.option("loop"),s=this._itemsCount()-1,h=this.option("rtlEnabled");e.maxLeftOffset=I(n||(h?a>0:a<s)),e.maxRightOffset=I(n||(h?a<s:a>0)),this._swipeDirection=null},_swipeUpdateHandler:function(e){var a=e.offset,n=(0,U.Xx)(a)*this._getRTLSignCorrection();if(C.move(this._$itemContainer,a*this._itemWidth()),n!==this._swipeDirection){this._swipeDirection=n;var s=this.option("selectedIndex"),h=this._normalizeIndex(s-n);this._updateItems(s,h)}},_swipeEndHandler:function(e){var a=e.targetOffset*this._getRTLSignCorrection();if(a){this.option("selectedIndex",this._normalizeIndex(this.option("selectedIndex")-a));var n=this.itemElements().filter(".dx-item-selected");this.option("focusStateEnabled")&&this.option("focusedElement",(0,mt.u)(n))}else this._animateItemContainer(0,$.ZT)},_getItemFocusLoopSignCorrection:function(){return this._itemFocusLooped?-1:1},_moveFocus:function(){this.callBase.apply(this,arguments),this._itemFocusLooped=!1},_prevItem:function(e){var a=this.callBase.apply(this,arguments);return this._itemFocusLooped=a.is(e.last()),a},_nextItem:function(e){var a=this.callBase.apply(this,arguments);return this._itemFocusLooped=a.is(e.first()),a},_dimensionChanged:function(){this._clearItemWidthCache()},_visibilityChanged:function(e){e&&this._dimensionChanged()},_updateSwipeDisabledState(){var e=this._getSwipeDisabledState();ut.Z.getInstance(this.$element()).option("disabled",e)},_optionChanged:function(e){var a=e.value;switch(e.name){case"loop":this.option("loopItemFocus",a);break;case"animationEnabled":break;case"swipeEnabled":this._updateSwipeDisabledState();break;case"deferRendering":this._invalidate();break;case"items":this._updateSwipeDisabledState(),this.callBase(e);break;default:this.callBase(e)}}});(0,at.Z)("dxMultiView",nt);const c=nt;var b=l(3946),N=l(2528),tt=l(6129),Dt=l(5390),It=l(9388),Nt="dx-badge";const kt=It.Z.inherit({_renderWatchers:function(){this.callBase(),this._startWatcher("badge",this._renderBadge.bind(this))},_renderBadge:function(e){if(this._$element.children("."+Nt).remove(),e){var a=(0,O.Z)("<div>").addClass("dx-tabs-item-badge").addClass(Nt).text(e);this._$element.append(a)}}});var Lt="dx-tabs-expanded",Pt=l(8961),Ut=l(1446),te=l(2848),Ot=l(4667),$t=l(8595);function Ht(e){return e.scrollWidth-e.clientWidth}l(261);var o="dx-tabs-stretched",x="dx-tabs-nav-buttons",A="dx-overflow-hidden",Q="dx-tab",ee="chevronnext",oe="chevronprev",ye=ot.Z.inherit({_activeStateUnit:"."+Q,_getDefaultOptions:function(){return(0,Y.l)(this.callBase(),{hoverStateEnabled:!0,showNavButtons:!0,scrollByContent:!0,scrollingEnabled:!0,selectionMode:"single",activeStateEnabled:!0,selectionRequired:!1,selectOnFocus:!0,loopItemFocus:!1,useInkRipple:!1,badgeExpr:function(e){return e?e.badge:void 0},_itemAttributes:{role:"tab"}})},_defaultOptionsRules:function(){var e=(0,Pt.Vk)();return this.callBase().concat([{device:function(){return"desktop"!==F.Z.real().deviceType},options:{showNavButtons:!1}},{device:{deviceType:"desktop"},options:{scrollByContent:!1}},{device:function(){return"desktop"===F.Z.real().deviceType&&!F.Z.isSimulator()},options:{focusStateEnabled:!0}},{device:function(){return(0,Pt.x2)(e)},options:{useInkRipple:!0,selectOnFocus:!1}}])},_init:function(){this.callBase(),this.setAria("role","tablist"),this.$element().addClass("dx-tabs"),this._renderWrapper(),this._renderMultiple(),this._feedbackHideTimeout=100},_initTemplates:function(){this.callBase(),this._templateManager.addDefaultTemplates({item:new $t.c(function(e,a){(0,T.PO)(a)?this._prepareDefaultItemTemplate(a,e):e.text(String(a));var n=(0,Ot.H)(a.icon);n&&n.prependTo(e),e.wrapInner((0,O.Z)("<span>").addClass("dx-tab-text"))}.bind(this),["text","html","icon"],this.option("integrationOptions.watchMethod"))})},_createItemByTemplate:function(e,a){var{itemData:n,container:s,index:h}=a;return this._deferredTemplates[h]=new Ct.BH,e.render({model:n,container:s,index:h,onRendered:()=>this._deferredTemplates[h].resolve()})},_itemClass:function(){return Q},_selectedItemClass:function(){return"dx-tab-selected"},_itemDataKey:function(){return"dxTabData"},_initMarkup:function(){this._deferredTemplates=[],this.callBase(),this.option("useInkRipple")&&this._renderInkRipple(),this.$element().addClass(A)},_render:function(){this.callBase(),this._deferRenderScrolling()},_deferRenderScrolling(){Ct.gx.apply(this,this._deferredTemplates).done(()=>this._renderScrolling())},_renderScrolling:function(){var e=[o,Lt,A];if(this.$element().removeClass(e.join(" ")),this.option("scrollingEnabled")&&this._isItemsWidthExceeded()){this._scrollable||(this._renderScrollable(),this._renderNavButtons());var a=this.getScrollable();if(a.update(),this.option("rtlEnabled")){var n=Ht((0,O.Z)(this.getScrollable().container()).get(0));a.scrollTo({left:n})}this._updateNavButtonsVisibility(),this._scrollToItem(this.option("selectedItem"))}this.option("scrollingEnabled")&&this._isItemsWidthExceeded()||(this._cleanScrolling(),this._needStretchItems()&&!this._isItemsWidthExceeded()&&this.$element().addClass(o),this.$element().removeClass(x).addClass(Lt))},_isItemsWidthExceeded:function(){return this._getSummaryItemsWidth(this._getVisibleItems(),!0)-1>(0,R.dz)(this.$element())},_needStretchItems:function(){var e=this._getVisibleItems(),a=(0,R.dz)(this.$element()),n=[];return(0,L.S6)(e,(h,g)=>{n.push((0,R.Y_)(g,!0))}),Math.max.apply(null,n)>a/e.length},_cleanNavButtons:function(){!this._leftButton||!this._rightButton||(this._leftButton.$element().remove(),this._rightButton.$element().remove(),this._leftButton=null,this._rightButton=null)},_cleanScrolling:function(){!this._scrollable||(this._$wrapper.appendTo(this.$element()),this._scrollable.$element().remove(),this._scrollable=null,this._cleanNavButtons())},_renderInkRipple:function(){this._inkRipple=(0,N.sY)()},_toggleActiveState:function(e,a,n){if(this.callBase.apply(this,arguments),this._inkRipple){var s={element:e,event:n};a?this._inkRipple.showWave(s):this._inkRipple.hideWave(s)}},_renderMultiple:function(){"multiple"===this.option("selectionMode")&&this.option("selectOnFocus",!1)},_renderWrapper:function(){this._$wrapper=(0,O.Z)("<div>").addClass("dx-tabs-wrapper"),this.$element().append(this._$wrapper)},_itemContainer:function(){return this._$wrapper},_renderScrollable:function(){var e=this.$element().wrapInner((0,O.Z)("<div>").addClass("dx-tabs-scrollable")).children();this._scrollable=this._createComponent(e,te.Z,{direction:"horizontal",showScrollbar:"never",useKeyboard:!1,useNative:!1,scrollByContent:this.option("scrollByContent"),onScroll:()=>{this._updateNavButtonsVisibility()}}),this.$element().append(this._scrollable.$element())},_scrollToItem:function(e){if(this._scrollable){var a=this._editStrategy.getItemElement(e);this._scrollable.scrollToElement(a)}},_renderNavButtons:function(){if(this.$element().toggleClass(x,this.option("showNavButtons")),this.option("showNavButtons")){var e=this.option("rtlEnabled");this._leftButton=this._createNavButton(-30,e?ee:oe);var a=this._leftButton.$element();a.addClass("dx-tabs-nav-button-left"),this.$element().prepend(a),this._rightButton=this._createNavButton(30,e?oe:ee);var n=this._rightButton.$element();n.addClass("dx-tabs-nav-button-right"),this.$element().append(n)}},_updateNavButtonsVisibility:function(){var e=this.getScrollable();this._leftButton&&this._leftButton.option("disabled",function y(e,a){return Math.round(e)<=a}(e.scrollLeft(),1)),this._rightButton&&this._rightButton.option("disabled",function W(e,a,n){return Math.round(Ht(e)-a)<=n}((0,O.Z)(e.container()).get(0),e.scrollLeft(),1))},_updateScrollPosition:function(e,a){this._scrollable.update(),this._scrollable.scrollBy(e/a)},_createNavButton:function(e,a){var n=this,s=n._createAction(function(){n._holdInterval=setInterval(function(){n._updateScrollPosition(e,5)},5)}),h=(0,tt.V4)(Ut.Z.name,"dxNavButton"),g=(0,tt.V4)(Dt.Z.up,"dxNavButton"),D=(0,tt.V4)(Dt.Z.out,"dxNavButton"),K=this._createComponent((0,O.Z)("<div>").addClass("dx-tabs-nav-button"),b.Z,{focusStateEnabled:!1,icon:a,onClick:function(){n._updateScrollPosition(e,1)},integrationOptions:{}}),G=K.$element();return X.Z.on(G,h,{timeout:300},function(lt){s({event:lt})}.bind(this)),X.Z.on(G,g,function(){n._clearInterval()}),X.Z.on(G,D,function(){n._clearInterval()}),K},_clearInterval:function(){this._holdInterval&&clearInterval(this._holdInterval)},_updateSelection:function(e){this._scrollable&&this._scrollable.scrollToElement(this.itemElements().eq(e[0]),{left:1,right:1})},_visibilityChanged:function(e){e&&this._dimensionChanged()},_dimensionChanged:function(){this._renderScrolling()},_itemSelectHandler:function(e){"single"===this.option("selectionMode")&&this.isItemSelected(e.currentTarget)||this.callBase(e)},_clean:function(){this._deferredTemplates=[],this._cleanScrolling(),this.callBase()},_optionChanged:function(e){switch(e.name){case"useInkRipple":case"scrollingEnabled":case"showNavButtons":case"badgeExpr":this._invalidate();break;case"scrollByContent":this._scrollable&&this._scrollable.option(e.name,e.value);break;case"width":this.callBase(e),this._dimensionChanged();break;case"selectionMode":this._renderMultiple(),this.callBase(e);break;default:this.callBase(e)}},_afterItemElementInserted(){this.callBase(),this._deferRenderScrolling()},_afterItemElementDeleted(e,a){this.callBase(e,a),this._renderScrolling()},getScrollable(){return this._scrollable}});ye.ItemClass=kt,(0,at.Z)("dxTabs",ye);const De=ye;var Vt=c.inherit({_getDefaultOptions:function(){return(0,Y.l)(this.callBase(),{itemTitleTemplate:"title",hoverStateEnabled:!0,showNavButtons:!1,scrollByContent:!0,scrollingEnabled:!0,onTitleClick:null,onTitleHold:null,onTitleRendered:null,badgeExpr:function(e){return e?e.badge:void 0}})},_defaultOptionsRules:function(){return this.callBase().concat([{device:function(){return"desktop"===F.Z.real().deviceType&&!F.Z.isSimulator()},options:{focusStateEnabled:!0}},{device:function(){return!j.touch},options:{swipeEnabled:!1}},{device:{platform:"generic"},options:{animationEnabled:!1}}])},_init:function(){this.callBase(),this.$element().addClass("dx-tabpanel"),this.setAria("role","tabpanel")},_initMarkup:function(){this.callBase(),this._createTitleActions(),this._renderLayout()},_initTemplates:function(){this.callBase(),this._templateManager.addDefaultTemplates({title:new $t.c(function(e,a){if((0,T.PO)(a)){var n=(0,Ot.H)(a.icon);n&&e.append(n),(0,T.$K)(a.title)&&!(0,T.PO)(a.title)&&e.append(f.Z.createTextNode(a.title))}else(0,T.$K)(a)&&e.text(String(a));e.wrapInner((0,O.Z)("<span>").addClass("dx-tab-text"))},["title","icon"],this.option("integrationOptions.watchMethod"))})},_createTitleActions:function(){this._createTitleClickAction(),this._createTitleHoldAction(),this._createTitleRenderedAction()},_createTitleClickAction:function(){this._titleClickAction=this._createActionByOption("onTitleClick")},_createTitleHoldAction:function(){this._titleHoldAction=this._createActionByOption("onTitleHold")},_createTitleRenderedAction:function(){this._titleRenderedAction=this._createActionByOption("onTitleRendered")},_renderContent:function(){var e=this;this.callBase(),this.option("templatesRenderAsynchronously")&&(this._resizeEventTimer=setTimeout(function(){e._updateLayout()},0))},_renderLayout:function(){if(this._tabs)this._updateLayout();else{var e=this.$element();this._$tabContainer=(0,O.Z)("<div>").addClass("dx-tabpanel-tabs").appendTo(e);var a=(0,O.Z)("<div>").appendTo(this._$tabContainer);this._tabs=this._createComponent(a,De,this._tabConfig()),this._$container=(0,O.Z)("<div>").addClass("dx-tabpanel-container").appendTo(e),this._$container.append(this._$wrapper),this._updateLayout()}},_updateLayout:function(){if((0,J.Ym)()){var e=(0,R.zp)(this._$tabContainer);this._$container.css({marginTop:-e,paddingTop:e})}},_refreshActiveDescendant:function(){if(this._tabs){var e=this._tabs,a=e.itemElements(),n=(0,O.Z)(a[e.option("selectedIndex")]),s=this.getFocusedItemId();this.setAria("controls",void 0,(0,O.Z)(a)),this.setAria("controls",s,n)}},_tabConfig:function(){return{selectOnFocus:!0,focusStateEnabled:this.option("focusStateEnabled"),hoverStateEnabled:this.option("hoverStateEnabled"),repaintChangesOnly:this.option("repaintChangesOnly"),tabIndex:this.option("tabIndex"),selectedIndex:this.option("selectedIndex"),badgeExpr:this.option("badgeExpr"),onItemClick:this._titleClickAction.bind(this),onItemHold:this._titleHoldAction.bind(this),itemHoldTimeout:this.option("itemHoldTimeout"),onSelectionChanged:function(e){this.option("selectedIndex",e.component.option("selectedIndex")),this._refreshActiveDescendant()}.bind(this),onItemRendered:this._titleRenderedAction.bind(this),itemTemplate:this._getTemplateByOption("itemTitleTemplate"),items:this.option("items"),noDataText:null,scrollingEnabled:this.option("scrollingEnabled"),scrollByContent:this.option("scrollByContent"),showNavButtons:this.option("showNavButtons"),itemTemplateProperty:"tabTemplate",loopItemFocus:this.option("loop"),selectionRequired:!0,onOptionChanged:function(e){if("focusedElement"===e.name)if(e.value){var a=(0,O.Z)(e.value),n=this._itemElements().eq(a.index());this.option("focusedElement",(0,mt.u)(n))}else this.option("focusedElement",e.value)}.bind(this),onFocusIn:function(e){this._focusInHandler(e.event)}.bind(this),onFocusOut:function(e){this._isFocusOutHandlerExecuting||this._focusOutHandler(e.event)}.bind(this)}},_renderFocusTarget:function(){this._focusTarget().attr("tabIndex",-1)},_updateFocusState:function(e,a){this.callBase(e,a),e.target===this._tabs._focusTarget().get(0)&&this._toggleFocusClass(a,this._focusTarget())},_focusOutHandler:function(e){this._isFocusOutHandlerExecuting=!0,this.callBase.apply(this,arguments),this._tabs._focusOutHandler(e),this._isFocusOutHandlerExecuting=!1},_setTabsOption:function(e,a){this._tabs&&this._tabs.option(e,a)},_visibilityChanged:function(e){e&&(this._tabs._dimensionChanged(),this._updateLayout())},registerKeyHandler:function(e,a){this.callBase(e,a),this._tabs&&this._tabs.registerKeyHandler(e,a)},repaint:function(){this.callBase(),this._tabs.repaint()},_optionChanged:function(e){var a=e.name,n=e.value,s=e.fullName;switch(a){case"dataSource":default:this.callBase(e);break;case"items":this._setTabsOption(a,this.option(a)),this._updateLayout(),this.option("repaintChangesOnly")||this._tabs.repaint(),this.callBase(e);break;case"width":this.callBase(e),this._tabs.repaint();break;case"selectedIndex":case"selectedItem":if(this._setTabsOption(s,n),this.callBase(e),!0===this.option("focusStateEnabled")){var h=this.option("selectedIndex"),g=this._itemElements().eq(h);this.option("focusedElement",(0,mt.u)(g))}break;case"itemHoldTimeout":case"focusStateEnabled":case"hoverStateEnabled":this._setTabsOption(s,n),this.callBase(e);break;case"scrollingEnabled":case"scrollByContent":case"showNavButtons":this._setTabsOption(s,n);break;case"focusedElement":var D=n&&(0,O.Z)(n).index(),K=n&&this._tabs._itemElements().eq(D);this._setTabsOption("focusedElement",(0,mt.u)(K)),this.callBase(e);break;case"itemTitleTemplate":this._setTabsOption("itemTemplate",this._getTemplateByOption("itemTitleTemplate"));break;case"onTitleClick":this._createTitleClickAction(),this._setTabsOption("onItemClick",this._titleClickAction.bind(this));break;case"onTitleHold":this._createTitleHoldAction(),this._setTabsOption("onItemHold",this._titleHoldAction.bind(this));break;case"onTitleRendered":this._createTitleRenderedAction(),this._setTabsOption("onItemRendered",this._titleRenderedAction.bind(this));break;case"loop":this._setTabsOption("loopItemFocus",n);break;case"badgeExpr":this._invalidate()}},_clean:function(){clearTimeout(this._resizeEventTimer),this.callBase()}});Vt.ItemClass=class Fe extends It.Z{_renderWatchers(){return this._startWatcher("badge",$.ZT),super._renderWatchers()}},(0,at.Z)("dxTabPanel",Vt);const Oi=Vt;var Ue=l(4245);class Se{constructor(a){this._options=a,this._itemsRunTimeInfo=this._options.itemsRunTimeInfo}findInstance(){return this._itemsRunTimeInfo.findWidgetInstanceByItem(this._options.item)}findItemContainer(){return this._itemsRunTimeInfo.findItemContainerByItem(this._options.item)}findPreparedItem(){return this._itemsRunTimeInfo.findPreparedItemByItem(this._options.item)}tryExecute(){Ue.Z.abstract()}}var wi=l(9694),Oe=(e,a)=>"".concat(a?"tabs":"items","[").concat(e,"]"),Ie=(e,a)=>(0,T.$K)(e)&&(0,T.$K)(a)?"".concat(e,".").concat(a):e||a,Ze=e=>e?e.replace(/\s/g,""):void 0,Te=(e,a)=>"".concat(e,".").concat(a),Ne=e=>{var a=e.split(".");return a[a.length-1].replace(/\[\d+]/,"")},Ge=e=>e.indexOf("tabs")>-1,Ye=(e,a,n)=>{var s=e.indexOf(a);if(s>-1)return Oe(s,n);for(var h=0;h<e.length;h++){var g=e[h],D=g.tabs||g.items;if(D){var K=Ye(D,a,g.tabs);if(K)return Ie(Oe(h,n),K)}}};class Ri extends Se{tryExecute(){var{value:a}=this._options,n=this.findInstance();return!!n&&(n.option(a),!0)}}class je extends Se{tryExecute(){var a=this.findInstance();if(a){var{optionName:n,item:s,value:h}=this._options,g=this._itemsRunTimeInfo.findItemIndexByItem(s);if(g>=0)return a.option(Te("items[".concat(g,"]"),n),h),!0}return!1}}class Xe extends Se{tryExecute(){var a=this.findPreparedItem();return!(null==a||!a._prepareGroupItemTemplate||!a._renderGroupContentTemplate||(a._prepareGroupItemTemplate(this._options.item.template),a._renderGroupContentTemplate(),0))}}class Pi extends Se{tryExecute(){var a=this.findInstance();if(a){var{value:n}=this._options;return a.option("dataSource",n),!0}return!1}}class Fi extends Se{tryExecute(){var{item:a}=this._options,n=this.findInstance(),s=n&&(0,wi.aT)(n.$element()[0],"dxValidator");if(s&&a){var h=K=>"required"===K.type,g=(s.option("validationRules")||[]).some(h),D=(a.validationRules||[]).some(h);if(!g&&!D||g&&D)return s.option("validationRules",a.validationRules),!0}return!1}}class Zi extends Se{tryExecute(){var a=this.findItemContainer(),{previousValue:n,value:s}=this._options;return!!a&&(a.removeClass(n).addClass(s),!0)}}var he=l(6619),$i=l(1996),ki=l(9890),Hi=l(7455),Je=l(6795),qe=l(5333),Kt=l(364),ti=(0,J.Jj)(),ei="dx-responsivebox",ii=ei+"-screen-",ai="dxBoxItemData",ni=Kt.Z.inherit({_getDefaultOptions:function(){return(0,Y.l)(this.callBase(),{rows:[],cols:[],screenByWidth:null,singleColumnScreen:"",height:"100%",width:"100%",activeStateEnabled:!1,focusStateEnabled:!1,onItemStateChanged:void 0,onLayoutChanged:null,currentScreenFactor:void 0,_layoutStrategy:void 0})},_init:function(){this.option("screenByWidth")||this._options.silent("screenByWidth",J.$n),this.callBase(),this._initLayoutChangedAction()},_initLayoutChangedAction:function(){this._layoutChangedAction=this._createActionByOption("onLayoutChanged",{excludeValidators:["disabled","readonly"]})},_itemClass:function(){return"dx-box-item"},_itemDataKey:function(){return ai},_initMarkup:function(){this.callBase(),this.$element().addClass(ei),this._updateRootBox()},_updateRootBox:function(){clearTimeout(this._updateTimer),this._updateTimer=setTimeout(function(){this._$root&&X.Z.triggerHandler(this._$root,"dxupdate")}.bind(this))},_renderItems:function(){this._setScreenSize(),this._screenItems=this._itemsByScreen(),this._prepareGrid(),this._spreadItems(),this._layoutItems(),this._linkNodeToItem()},_itemOptionChanged:function(e){var a=this._findItemElementByItem(e);!a.length||(this._refreshItem(a,e),this._clearItemNodeTemplates(),this._update(!0))},_setScreenSize:function(){var e=this._getCurrentScreen();this._removeScreenSizeClass(),this.$element().addClass(ii+e),this.option("currentScreenFactor",e)},_removeScreenSizeClass:function(){var e=this.option("currentScreenFactor");e&&this.$element().removeClass(ii+e)},_prepareGrid:function(){var e=this._grid=[];this._prepareRowsAndCols(),(0,L.S6)(this._rows,function(){var a=[];e.push(a),(0,L.S6)(this._cols,function(){a.push(this._createEmptyCell())}.bind(this))}.bind(this))},getSingleColumnRows:function(){var e=this.option("rows"),a=this._screenItems.length;if(e.length){for(var n=this._filterByScreen(e),s=[],h=0;h<a;h++){var g=this._defaultSizeConfig();h<n.length&&(0,T.$K)(n[h].shrink)&&(g.shrink=n[h].shrink),s.push(g)}return s}return this._defaultSizeConfig(a)},_prepareRowsAndCols:function(){this._isSingleColumnScreen()?(this._prepareSingleColumnScreenItems(),this._rows=this.getSingleColumnRows(),this._cols=this._defaultSizeConfig(1)):(this._rows=this._sizesByScreen(this.option("rows")),this._cols=this._sizesByScreen(this.option("cols")))},_isSingleColumnScreen:function(){return this._screenRegExp().test(this.option("singleColumnScreen"))||!this.option("rows").length||!this.option("cols").length},_prepareSingleColumnScreenItems:function(){this._screenItems.sort(function(e,a){return e.location.row-a.location.row||e.location.col-a.location.col}),(0,L.S6)(this._screenItems,function(e,a){(0,Y.l)(a.location,{row:e,col:0,rowspan:1,colspan:1})})},_sizesByScreen:function(e){return(0,L.UI)(this._filterByScreen(e),function(a){return(0,Y.l)(this._defaultSizeConfig(),a)}.bind(this))},_createDefaultSizeConfig:function(){return{ratio:1,baseSize:0,minSize:0,maxSize:0}},_defaultSizeConfig:function(e){var a=this._createDefaultSizeConfig();if(!arguments.length)return a;for(var n=[],s=0;s<e;s++)n.push(a);return n},_filterByScreen:function(e){var a=this._screenRegExp();return(0,$.h3)(e,function(n){return!n.screen||a.test(n.screen)})},_screenRegExp:function(){var e=this._getCurrentScreen();return new RegExp("(^|\\s)"+e+"($|\\s)","i")},_getCurrentScreen:function(){var e=this._screenWidth();return this.option("screenByWidth")(e)},_screenWidth:function(){return(0,J.Ym)()?(0,R.dz)(ti):1920},_createEmptyCell:function(){return{item:{},location:{colspan:1,rowspan:1}}},_spreadItems:function(){(0,L.S6)(this._screenItems,function(e,a){var n=a.location||{},g=this._grid[n.row];this._occupyCells(g&&g[n.col],a)}.bind(this))},_itemsByScreen:function(){return this.option("items").reduce((e,a)=>{var n=a.location||{};return n=(0,T.PO)(n)?[n]:n,this._filterByScreen(n).forEach(s=>{e.push({item:a,location:(0,Y.l)({rowspan:1,colspan:1},s)})}),e},[])},_occupyCells:function(e,a){!e||this._isItemCellOccupied(e,a)||((0,Y.l)(e,a),this._markSpanningCell(e))},_isItemCellOccupied:function(e,a){if(!(0,T.Qr)(e.item))return!0;var n=!1;return this._loopOverSpanning(a.location,function(s){n=n||!(0,T.Qr)(s.item)}),n},_loopOverSpanning:function(e,a){var n=e.row+e.rowspan-1,s=e.col+e.colspan-1,h=Math.min(n,this._rows.length-1),g=Math.min(s,this._cols.length-1);e.rowspan-=n-h,e.colspan-=s-g;for(var D=e.row;D<=h;D++)for(var K=e.col;K<=g;K++)(D!==e.row||K!==e.col)&&a(this._grid[D][K])},_markSpanningCell:function(e){this._loopOverSpanning(e.location,function(a){(0,Y.l)(a,{item:e.item,spanningCell:e})})},_linkNodeToItem:function(){(0,L.S6)(this._itemElements(),function(e,a){var n=(0,O.Z)(a),s=n.data(ai);s.box||(s.node=n.children())})},_layoutItems:function(){var e=this._grid.length,a=e&&this._grid[0].length;if(e||a){var n=this._layoutBlock({direction:"col",row:{start:0,end:e-1},col:{start:0,end:a-1}}),s=this._prepareBoxConfig(n.box||{direction:"row",items:[(0,Y.l)(n,{ratio:1})]});(0,Y.l)(s,this._rootBoxConfig(s.items)),this._$root=(0,O.Z)("<div>").appendTo(this._itemContainer()),this._createComponent(this._$root,qe.Z,s)}},_rootBoxConfig:function(e){var a=(0,L.S6)(e,function(n,s){this._needApplyAutoBaseSize(s)&&(0,Y.l)(s,{baseSize:"auto"})}.bind(this));return(0,Y.l)({width:"100%",height:"100%",items:a,itemTemplate:this._getTemplateByOption("itemTemplate"),itemHoldTimeout:this.option("itemHoldTimeout"),onItemHold:this._createActionByOption("onItemHold"),onItemClick:this._createActionByOption("onItemClick"),onItemContextMenu:this._createActionByOption("onItemContextMenu"),onItemRendered:this._createActionByOption("onItemRendered")},{_layoutStrategy:this.option("_layoutStrategy")})},_needApplyAutoBaseSize:function(e){return!(e.baseSize||e.minSize&&"auto"!==e.minSize||e.maxSize&&"auto"!==e.maxSize)},_prepareBoxConfig:function(e){return(0,Y.l)(e||{},{crossAlign:"stretch",onItemStateChanged:this.option("onItemStateChanged")})},_layoutBlock:function(e){return this._isSingleItem(e)?this._itemByCell(e.row.start,e.col.start):this._layoutDirection(e)},_isSingleItem:function(e){var a=this._grid[e.row.start][e.col.start].location;return e.row.end-e.row.start==a.rowspan-1&&e.col.end-e.col.start==a.colspan-1},_itemByCell:function(e,a){var n=this._grid[e][a];return n.spanningCell?null:n.item},_layoutDirection:function(e){for(var h,a=[],n=e.direction,s=this._crossDirection(n);h=this._nextBlock(e);){if(this._isBlockIndivisible(e.prevBlockOptions,h))throw Je.Z.Error("E1025");var g=this._layoutBlock({direction:s,row:h.row,col:h.col,prevBlockOptions:e});g&&((0,Y.l)(g,this._blockSize(h,s)),a.push(g)),e[s].start=h[s].end+1}return{box:this._prepareBoxConfig({direction:n,items:a})}},_isBlockIndivisible:function(e,a){return e&&e.col.start===a.col.start&&e.col.end===a.col.end&&e.row.start===a.row.start&&e.row.end===a.row.end},_crossDirection:function(e){return"col"===e?"row":"col"},_nextBlock:function(e){var a=e.direction,n=this._crossDirection(a),s=e[a].start,h=e[a].end,g=e[n].start;if(g>e[n].end)return null;for(var D=1,K=g;K<g+D;K++){for(var G=1,lt=s;lt<=h;lt++){var gt=this._cellByDirection(a,lt,K);G=Math.max(G,gt.location[n+"span"])}var _t=K+G,bt=g+D;_t>bt&&(D+=_t-bt)}var Zt={};return Zt[a]={start:s,end:h},Zt[n]={start:g,end:g+D-1},Zt},_cellByDirection:function(e,a,n){return"col"===e?this._grid[n][a]:this._grid[a][n]},_blockSize:function(e,a){for(var n="row"===a?"auto":0,s="row"===a?this._rows:this._cols,h=(0,Y.l)(this._createDefaultSizeConfig(),{ratio:0}),g=e[a].start;g<=e[a].end;g++){var D=s[g];h.ratio+=D.ratio,h.baseSize+=D.baseSize,h.minSize+=D.minSize,h.maxSize+=D.maxSize,(0,T.$K)(D.shrink)&&(h.shrink=D.shrink)}return h.minSize=h.minSize?h.minSize:n,h.maxSize=h.maxSize?h.maxSize:"auto",this._isSingleColumnScreen()&&(h.baseSize="auto"),h},_update:function(e){var a=this._$root;this._renderItems(),a&&(e?a.remove():(a.detach(),this._saveAssistantRoot(a))),this._layoutChangedAction(),this._updateRootBox()},_saveAssistantRoot:function(e){this._assistantRoots=this._assistantRoots||[],this._assistantRoots.push(e)},_dispose:function(){clearTimeout(this._updateTimer),this._clearItemNodeTemplates(),this._cleanUnusedRoots(),this.callBase.apply(this,arguments)},_cleanUnusedRoots:function(){!this._assistantRoots||(0,L.S6)(this._assistantRoots,function(e,a){(0,O.Z)(a).remove()})},_clearItemNodeTemplates:function(){(0,L.S6)(this.option("items"),function(){delete this.node})},_toggleVisibility:function(e){this.callBase(e),e&&this._updateRootBox()},_attachClickEvent:$.ZT,_optionChanged:function(e){switch(e.name){case"rows":case"cols":case"screenByWidth":case"_layoutStrategy":case"singleColumnScreen":this._clearItemNodeTemplates(),this._invalidate();break;case"width":case"height":this.callBase(e),this._update();break;case"onLayoutChanged":this._initLayoutChangedAction();break;case"itemTemplate":this._clearItemNodeTemplates(),this.callBase(e);break;case"currentScreenFactor":break;default:this.callBase(e)}},_dimensionChanged:function(){this._getCurrentScreen()!==this.option("currentScreenFactor")&&this._update()},repaint:function(){this._update()}});(0,at.Z)("dxResponsiveBox",ni);const zi=ni;var Ee="dx-form-group",si="dx-col-",oi="dx-field-item",li="dx-layout-manager-one-col",ui="dx-field-item-label-content",Ve="dx-field-item-label",be="dx-field-item-content",$e="dx-root-simple-item",di="dx-field-item-tab",ci="dx-group-colcount-",ke="group-col-count",He="simple",pi=(l(6536),l(4666),l(2337),l(8980),l(1037)),_i=l(8262),vi=l(3626),ve=l(4634),xe=l(3366),ea=["dxTagBox","dxRangeSlider"],ia=["dxCalendar","dxCheckBox","dxHtmlEditor","dxRadioGroup","dxRangeSlider","dxSlider","dxSwitch"];function fi(e,a){var{showRequiredMark:n,requiredMark:s,showOptionalMark:h,optionalMark:g}=e;return{showRequiredMark:n&&a,requiredMark:s,showOptionalMark:h&&!a,optionalMark:g}}var na=["$FIELD_ITEM_LABEL_CONTENT_CLASS"],mi="dx-field-item-label-location-",de="dx-field-item-label-text";function re(e){var{text:a,id:n,location:s,alignment:h,labelID:g=null,markOptions:D={}}=e;return!(0,T.$K)(a)||a.length<=0?null:(0,O.Z)("<label>").addClass(Ve+" "+mi+s).attr("for",n).attr("id",g).css("textAlign",h).append((0,O.Z)("<span>").addClass(ui).append((0,O.Z)("<span>").addClass(de).text(a),function fe(e){var a=function Le(e){var{showRequiredMark:a,requiredMark:n,showOptionalMark:s,optionalMark:h}=e;return a||s?String.fromCharCode(160)+(a?n:h):""}(e);return""===a?null:(0,O.Z)("<span>").addClass(e.showRequiredMark?"dx-field-item-required-mark":"dx-field-item-optional-mark").text(a)}(D)))}function la(e,a,n){var D,K,s="".concat(a," > .").concat(Ve,":not(.").concat(mi,"top) > .").concat(ui),h=e.find(s),g=h.length,G=0;for(K=0;K<g;K++)(D=gi({$FIELD_ITEM_LABEL_CONTENT_CLASS:h[K],location:"left",markOptions:n}))>G&&(G=D);for(K=0;K<g;K++)h[K].style.width=G+"px"}function gi(e){var{$FIELD_ITEM_LABEL_CONTENT_CLASS:a}=e,n=(0,xe.Z)(e,na),s=(0,O.Z)("<div>").addClass("dx-widget").addClass("dx-layout-manager-hidden-label").appendTo("body");n.text=" ";var g=re(n).appendTo(s).find("."+de)[0];g.innerHTML=function fa(e){var n,h,a=e.children.length,s="";for(h=0;h<a;h++)s+=(0,vi.xb)((n=e.children[h]).innerText)?n.innerHTML:n.innerText;return s}(a);var D=g.offsetWidth;return s.remove(),D}function ma(e){var{$parent:a,rootElementCssClassList:n}=e;return(0,O.Z)("<div>").addClass("dx-field-empty-item").html("&nbsp;").addClass(n.join(" ")).appendTo(a)}var ha="flex",Oa=z.Z.inherit({_getDefaultOptions:function(){return(0,Y.l)(this.callBase(),{layoutData:{},readOnly:!1,colCount:1,colCountByScreen:void 0,labelLocation:"left",onFieldDataChanged:null,onEditorEnterKey:null,customizeItem:null,alignItemLabels:!0,minColWidth:200,showRequiredMark:!0,screenByWidth:null,showOptionalMark:!1,requiredMark:"*",labelMode:"outside",optionalMark:ht.Z.format("dxForm-optionalMark"),requiredMessage:ht.Z.getFormatter("dxForm-requiredMessage")})},_setOptionsByReference:function(){this.callBase(),(0,Y.l)(this._optionsByReference,{layoutData:!0,validationGroup:!0})},_init:function(){var e=this.option("layoutData");this.callBase(),this._itemWatchers=[],this._itemsRunTimeInfo=new it,this._updateReferencedOptions(e),this._initDataAndItems(e)},_dispose:function(){this.callBase(),this._cleanItemWatchers()},_initDataAndItems:function(e){this._syncDataWithItems(),this._updateItems(e)},_syncDataWithItems:function(){var e=this.option("layoutData"),a=this.option("items");(0,T.$K)(a)&&a.forEach(n=>{var s;n.dataField&&void 0===this._getDataByField(n.dataField)&&(n.editorOptions&&(s=n.editorOptions.value),((0,T.$K)(s)||n.dataField in e)&&this._updateFieldValue(n.dataField,s))})},_getDataByField:function(e){return e?this.option("layoutData."+e):null},_isCheckboxUndefinedStateEnabled:function(e){var{allowIndeterminateState:a,editorType:n,dataField:s}=e;if(!0===a&&"dxCheckBox"===n){var h=["layoutData",...s.split(".")],g=h.pop(),D=this.option(h.join("."));return D&&g in D}return!1},_updateFieldValue:function(e,a){var n=this.option("layoutData"),s=a;!he.Z.isWrapped(n[e])&&(0,T.$K)(e)?this.option("layoutData."+e,s):he.Z.isWritableWrapped(n[e])&&(s=(0,T.mf)(s)?s():s,n[e](s)),this._triggerOnFieldDataChanged({dataField:e,value:s})},_triggerOnFieldDataChanged:function(e){this._createActionByOption("onFieldDataChanged")(e)},_updateItems:function(e){var a=this,n=this.option("items"),s=(0,T.$K)(n),h=a.option("customizeItem"),g=s?n:this._generateItemsByData(e);if((0,T.$K)(g)){var D=[];(0,L.S6)(g,function(K,G){a._isAcceptableItem(G)&&(G=a._processItem(G),h&&h(G),(0,T.Kn)(G)&&!1!==he.Z.unwrap(G.visible)&&D.push(G))}),(!a._itemWatchers.length||!s)&&a._updateItemWatchers(g),this._setItems(D),this._sortItems()}},_cleanItemWatchers:function(){this._itemWatchers.forEach(function(e){e()}),this._itemWatchers=[]},_updateItemWatchers:function(e){var a=this,n=a._getWatch();e.forEach(function(s){(0,T.Kn)(s)&&(0,T.$K)(s.visible)&&(0,T.mf)(n)&&a._itemWatchers.push(n(function(){return he.Z.unwrap(s.visible)},function(){a._updateItems(a.option("layoutData")),a.repaint()},{skipImmediate:!0}))})},_generateItemsByData:function(e){var a=[];return(0,T.$K)(e)&&(0,L.S6)(e,function(n){a.push({dataField:n})}),a},_isAcceptableItem:function(e){var n=this._getDataByField(e.dataField||e);return!((0,T.mf)(n)&&!he.Z.isWrapped(n))},_processItem:function(e){if("string"==typeof e&&(e={dataField:e}),"object"==typeof e&&!e.itemType&&(e.itemType=He),!(0,T.$K)(e.editorType)&&(0,T.$K)(e.dataField)){var a=this._getDataByField(e.dataField);e.editorType=(0,T.$K)(a)?this._getEditorTypeByDataType((0,T.dt)(a)):"dxTextBox"}var n;return"dxCheckBox"===e.editorType&&(e.allowIndeterminateState=null===(n=e.allowIndeterminateState)||void 0===n||n),e},_getEditorTypeByDataType:function(e){switch(e){case"number":return"dxNumberBox";case"date":return"dxDateBox";case"boolean":return"dxCheckBox";default:return"dxTextBox"}},_sortItems:function(){(0,rt.Sq)(this._items,"visibleIndex"),this._sortIndexes()},_sortIndexes:function(){this._items.sort(function(e,a){var n=e.visibleIndex,s=a.visibleIndex;return n>s?1:n<s?-1:0})},_initMarkup:function(){this._itemsRunTimeInfo.clear(),this.$element().addClass("dx-layout-manager"),this.callBase(),this._renderResponsiveBox()},_hasBrowserFlex:function(){return(0,Hi.Hj)(ha)===ha},_renderResponsiveBox:function(){var e=[];if(this._items&&this._items.length){var a=this._getColCount(),n=(0,O.Z)("<div>").appendTo(this.$element());this._prepareItemsWithMerging(a);var s=this._generateLayoutItems();this._responsiveBox=this._createComponent(n,zi,this._getResponsiveBoxConfig(s,a,e)),(0,J.Ym)()||this._renderTemplates(e)}},_itemStateChangedHandler:function(e){this._refresh()},_renderTemplates:function(e){var a=this;(0,L.S6)(e,function(n,s){switch(s.itemType){case"empty":ma(s);break;case"button":a._renderButtonItem(s);break;default:a._renderFieldItem(s)}})},_getResponsiveBoxConfig:function(e,a,n){var s=this,h=s.option("colCountByScreen"),g=h&&h.xs;return{onItemStateChanged:this._itemStateChangedHandler.bind(this),_layoutStrategy:s._hasBrowserFlex()?ha:"fallback",onLayoutChanged:function(){var D=s.option("onLayoutChanged"),K=s.isSingleColumnMode();D&&(s.$element().toggleClass(li,K),D(K))},onContentReady:function(D){(0,J.Ym)()&&s._renderTemplates(n),s.option("onLayoutChanged")&&s.$element().toggleClass(li,s.isSingleColumnMode(D.component))},itemTemplate:function(D,K,G){if(D.location){var lt=(0,O.Z)(G),_t=s._items[D.location.col+D.location.row*a];if(_t){var bt=[_t.cssClass];lt.toggleClass("dx-single-column-item-content",s.isSingleColumnMode(this)),0===D.location.row&&bt.push("dx-first-row"),0===D.location.col&&bt.push("dx-first-col"),_t.itemType===He&&s.option("isRoot")&&lt.addClass($e);var Zt=D.location.col===a-1||D.location.col+D.location.colspan===a,le=s._getRowsCount(),jt=D.location.row===le-1;Zt&&bt.push("dx-last-col"),jt&&bt.push("dx-last-row"),"empty"!==_t.itemType&&(bt.push(oi),bt.push(s.option("cssItemClass")),(0,T.$K)(_t.col)&&bt.push("dx-col-"+_t.col)),n.push({itemType:_t.itemType,item:_t,$parent:lt,rootElementCssClassList:bt})}}},cols:s._generateRatio(a),rows:s._generateRatio(s._getRowsCount(),!0),dataSource:e,screenByWidth:s.option("screenByWidth"),singleColumnScreen:!g&&"xs"}},_getColCount:function(){var e=this.option("colCount"),a=this.option("colCountByScreen");if(a){var n=this.option("form").getTargetScreenFactor();n||(n=(0,J.Ym)()?(0,J.Wf)(this.option("screenByWidth")):"lg"),e=a[n]||e}if("auto"===e){if(this._cashedColCount)return this._cashedColCount;this._cashedColCount=e=this._getMaxColCount()}return e<1?1:e},_getMaxColCount:function(){if(!(0,J.Ym)())return 1;var e=this.option("minColWidth"),a=(0,R.dz)(this.$element()),n=this._items.length,s=Math.floor(a/e)||1;return n<s?n:s},isCachedColCountObsolete:function(){return this._cashedColCount&&this._getMaxColCount()!==this._cashedColCount},_prepareItemsWithMerging:function(e){var n,s,g,D,a=this._items.slice(0),h=[];for(D=0;D<a.length;D++)if(h.push(n=a[D]),(this.option("alignItemLabels")||n.alignItemLabels||n.colSpan)&&(n.col=this._getColByIndex(h.length-1,e)),n.colSpan>1&&n.col+n.colSpan<=e){for(s=[],g=0;g<n.colSpan-1;g++)s.push({merged:!0});h=h.concat(s)}else delete n.colSpan;this._setItems(h)},_getColByIndex:function(e,a){return e%a},_setItems:function(e){this._items=e,this._cashedColCount=null},_generateLayoutItems:function(){var s,h,e=this._items,a=this._getColCount(),n=[];for(h=0;h<e.length;h++)if(!(s=e[h]).merged){var g={location:{row:parseInt(h/a),col:this._getColByIndex(h,a)}};(0,T.$K)(s.disabled)&&(g.disabled=s.disabled),(0,T.$K)(s.visible)&&(g.visible=s.visible),(0,T.$K)(s.colSpan)&&(g.location.colspan=s.colSpan),(0,T.$K)(s.rowSpan)&&(g.location.rowspan=s.rowSpan),n.push(g)}return n},_renderEmptyItem:function(e){ma({$container:e})},_renderButtonItem:function(e){var{item:a,$parent:n,rootElementCssClassList:s}=e,{$rootElement:h,buttonInstance:g}=function ie(e){var{item:a,$parent:n,rootElementCssClassList:s,validationGroup:h,createComponentCallback:g}=e,D=(0,O.Z)("<div>").appendTo(n).addClass(s.join(" ")).addClass("dx-field-button-item").css("textAlign",function Re(e){return(0,T.$K)(e)?e:"right"}(a.horizontalAlignment));return n.css("justifyContent",function Ia(e){switch(e){case"center":return"center";case"bottom":return"flex-end";default:return"flex-start"}}(a.verticalAlignment)),{$rootElement:D,buttonInstance:g((0,O.Z)("<div>").appendTo(D),"dxButton",(0,Y.l)({validationGroup:h},a.buttonOptions))}}({item:a,$parent:n,rootElementCssClassList:s,validationGroup:this.option("validationGroup"),createComponentCallback:this._createComponent.bind(this)});this._itemsRunTimeInfo.add({item:a,widgetInstance:g,guid:a.guid,$itemContainer:h})},_renderFieldItem:function(e){var{item:a,$parent:n,rootElementCssClassList:s}=e,h=this._getDataByField(a.dataField),g=!1;if(void 0===h){var{allowIndeterminateState:D,editorType:K,dataField:G}=a;g=this._isCheckboxUndefinedStateEnabled({allowIndeterminateState:D,editorType:K,dataField:G})}var lt=a.dataField||a.name,{$fieldEditorContainer:gt,widgetInstance:_t,$rootElement:bt}=function me(e){var{$parent:a,rootElementCssClassList:n,formOrLayoutManager:s,createComponentCallback:h,useFlexLayout:g,labelOptions:D,labelNeedBaselineAlign:K,labelLocation:G,needRenderLabel:lt,formLabelLocation:gt,item:_t,editorOptions:bt,isSimpleItem:Zt,isRequired:le,template:jt,helpID:Ci,labelID:ca,name:yi,helpText:Di,requiredMessageTemplate:Si,validationGroup:Ii}=e,ae=(0,O.Z)("<div>").addClass(n.join(" ")).appendTo(a);ae.addClass(le?"dx-field-item-required":"dx-field-item-optional"),Zt&&g&&ae.addClass("dx-flex-layout"),Zt&&K&&ae.addClass("dx-field-item-label-align");var Qt=(0,O.Z)("<div>");Qt.data("dx-form-item",_t),Qt.addClass(be).addClass("dx-field-item-content-location-"+{right:"left",left:"right",top:"bottom"}[gt]);var Ae,Jt=lt?re(D):null;if(Jt?(ae.append(Jt),("top"===G||"left"===G)&&ae.append(Qt),"right"===G&&ae.prepend(Qt),ae.addClass("top"===G?"dx-label-v-align":"dx-label-h-align"),("dxCheckBox"===_t.editorType||"dxSwitch"===_t.editorType)&&X.Z.on(Jt,pi.u,function(){X.Z.trigger(Qt.children(),pi.u)})):ae.append(Qt),jt)jt.render({container:(0,mt.u)(Qt),model:{dataField:_t.dataField,editorType:_t.editorType,editorOptions:bt,component:s,name:_t.name}});else{var Ti=(0,O.Z)("<div>").appendTo(Qt);try{(Ae=h(Ti,_t.editorType,bt)).setAria("describedby",Ci),Ae.setAria("labelledby",ca),Ae.setAria("required",le)}catch(ce){Je.Z.log("E1035",ce.message)}}var We=Qt.children().first(),Ke=We.hasClass("dx-template-wrapper")?We.children().first():We,Pe=Ke&&Ke.data("dx-validation-target");if(Pe){var ze,Ei=_t.label&&_t.label.text,bi=Ei?null:yi,Ha=Ei?_t.label.text:bi&&(0,_i.GK)(bi);if(Zt)if(_t.validationRules)ze=_t.validationRules;else{var Wa=(0,vi.WU)(Si,Ha||"");ze=_t.isRequired?[{type:"required",message:Wa}]:null}if(Array.isArray(ze)&&ze.length&&h(Ke,ve.Z,{validationRules:ze,validationGroup:Ii,dataGetter:function(){return{formItem:_t}}}),(0,Pt.x2)()){var xi=function(ce){(0,O.Z)(ce.element).parents(".dx-field-item-content-wrapper").toggleClass("dx-invalid",!1===ce.component.option("isValid")&&(ce.component._isFocused()||"always"===ce.component.option("validationMessageMode")))};Pe.on("optionChanged",ce=>{"isValid"===ce.name&&xi(ce)}),Pe.on("focusIn",xi).on("focusOut",xi).on("enterKey",xi)}}return Di&&Zt&&Qt.parent().append((0,O.Z)("<div>").addClass("dx-field-item-content-wrapper").append(Qt).append((0,O.Z)("<div>").addClass("dx-field-item-help-text").attr("id",Ci).text(Di))),{$fieldEditorContainer:Qt,$rootElement:ae,widgetInstance:Ae}}(function aa(e){var{$parent:a,rootElementCssClassList:n,formOrLayoutManager:s,createComponentCallback:h,useFlexLayout:g,item:D,template:K,name:G,formLabelLocation:lt,requiredMessageTemplate:gt,validationGroup:_t,editorValue:bt,canAssignUndefinedValueToEditor:Zt,editorValidationBoundary:le,editorStylingMode:jt,showColonAfterLabel:Ci,managerLabelLocation:ca,itemId:yi,managerMarkOptions:Di,labelMode:Si}=e,Ii=(0,T.$K)(D.isRequired)?D.isRequired:!!function Xt(e){var a;return e&&e.length&&(0,L.S6)(e,function(n,s){if("required"===s.type)return a=!0,!1}),a}(D.validationRules),ae=D.itemType===He,Qt=D.helpText?"dx-"+new V.Z:null,Jt=function Be(e){var{item:a,id:n,isRequired:s,managerMarkOptions:h,showColonAfterLabel:g,labelLocation:D,formLabelMode:K}=e,G=-1!==(0,rt.d3)(a.editorType,ia),lt=(0,Y.l)({showColon:g,location:D,id:n,visible:"outside"===K||G&&"hidden"!==K,isRequired:s},a?a.label:{},{markOptions:fi(h,s)});return-1!==(0,rt.d3)(a.editorType,["dxRadioGroup","dxCheckBox","dxLookup","dxSlider","dxRangeSlider","dxSwitch","dxHtmlEditor"])&&(lt.labelID="dx-label-".concat(new V.Z)),!lt.text&&a.dataField&&(lt.text=(0,_i.GK)(a.dataField)),lt.text&&(lt.textWithoutColon=lt.text,lt.text+=lt.showColon?":":""),lt}({item:D,id:yi,isRequired:Ii,managerMarkOptions:Di,showColonAfterLabel:Ci,labelLocation:ca,formLabelMode:Si}),Ae=Jt.visible&&Jt.text,{location:Ti,labelID:We}=Jt,Ke="top"!==Ti&&(!!D.helpText&&!g||-1!==(0,rt.d3)(D.editorType,["dxTextArea","dxRadioGroup","dxCalendar","dxHtmlEditor"])),Pe=function Yt(e){var{editorType:a,defaultEditorName:n,editorValue:s,canAssignUndefinedValueToEditor:h,externalEditorOptions:g,editorInputId:D,editorValidationBoundary:K,editorStylingMode:G,formLabelMode:lt,labelText:gt,labelMark:_t}=e,bt={};(void 0!==s||h)&&(bt.value=s),-1!==ea.indexOf(a)&&(bt.value=bt.value||[]);var Zt=null==g?void 0:g.labelMode;(0,T.$K)(Zt)||(Zt="outside"===lt?"hidden":lt);var jt=(0,Y.l)(!0,bt,g,{inputAttr:{id:D},validationBoundary:K,stylingMode:(null==g?void 0:g.stylingMode)||G,label:gt,labelMode:Zt,labelMark:_t});return g&&(jt.dataSource&&(jt.dataSource=g.dataSource),jt.items&&(jt.items=g.items)),n&&!jt.name&&(jt.name=n),jt}({editorType:D.editorType,editorValue:bt,defaultEditorName:D.dataField,canAssignUndefinedValueToEditor:Zt,externalEditorOptions:D.editorOptions,editorInputId:yi,editorValidationBoundary:le,editorStylingMode:jt,formLabelMode:Si,labelText:Jt.textWithoutColon,labelMark:Jt.markOptions.showRequiredMark?String.fromCharCode(160)+Jt.markOptions.requiredMark:""});return{$parent:a,rootElementCssClassList:n,formOrLayoutManager:s,createComponentCallback:h,useFlexLayout:g,labelOptions:Jt,labelNeedBaselineAlign:Ke,labelLocation:Ti,needRenderLabel:Ae,item:D,isSimpleItem:ae,isRequired:Ii,template:K,helpID:Qt,labelID:We,name:G,helpText:!Jt.markOptions.showOptionalMark||Jt.visible||"hidden"===Pe.labelMode||(0,T.$K)(D.helpText)?D.helpText:Jt.markOptions.optionalMark,formLabelLocation:lt,requiredMessageTemplate:gt,validationGroup:_t,editorOptions:Pe}}({$parent:n,rootElementCssClassList:s,item:a,name:lt,editorValue:h,canAssignUndefinedValueToEditor:g,formOrLayoutManager:this._getFormOrThis(),createComponentCallback:this._createComponent.bind(this),useFlexLayout:this._hasBrowserFlex(),formLabelLocation:this.option("labelLocation"),requiredMessageTemplate:this.option("requiredMessage"),validationGroup:this.option("validationGroup"),editorValidationBoundary:this.option("validationBoundary"),editorStylingMode:this.option("form")&&this.option("form").option("stylingMode"),showColonAfterLabel:this.option("showColonAfterLabel"),managerLabelLocation:this.option("labelLocation"),template:a.template?this._getTemplate(a.template):null,itemId:this.option("form")&&this.option("form").getItemID(lt),managerMarkOptions:this._getMarkOptions(),labelMode:this.option("labelMode")}));_t&&a.dataField&&this._bindDataField(_t,a.dataField,a.editorType,gt),this._itemsRunTimeInfo.add({item:a,widgetInstance:_t,guid:a.guid,$itemContainer:bt})},_getMarkOptions:function(){return{showRequiredMark:this.option("showRequiredMark"),requiredMark:this.option("requiredMark"),showOptionalMark:this.option("showOptionalMark"),optionalMark:this.option("optionalMark")}},_getFormOrThis:function(){return this.option("form")||this},_bindDataField:function(e,a,n,s){var h=this._getFormOrThis();e.on("enterKey",function(g){h._createActionByOption("onEditorEnterKey")((0,Y.l)(g,{dataField:a}))}),this._createWatcher(e,s,a),this.linkEditorToDataField(e,a,n)},_createWatcher:function(e,a,n){var s=this,h=s._getWatch();if((0,T.mf)(h)){var g=h(function(){return s._getDataByField(n)},function(){e.option("value",s._getDataByField(n))},{deep:!0,skipImmediate:!0});X.Z.on(a,ki.x,g)}},_getWatch:function(){if(!(0,T.$K)(this._watch)){var e=this.option("form");this._watch=e&&e.option("integrationOptions.watchMethod")}return this._watch},_createComponent:function(e,a,n){var s=this.option("readOnly"),h=this.callBase(e,a,n);return s&&h.option("readOnly",s),this.on("optionChanged",function(g){"readOnly"===g.name&&!(0,T.$K)(n.readOnly)&&h.option(g.name,g.value)}),h},_generateRatio:function(e,a){var s,h,n=[];for(h=0;h<e;h++)s={ratio:1},a&&(s.baseSize="auto"),n.push(s);return n},_getRowsCount:function(){return Math.ceil(this._items.length/this._getColCount())},_updateReferencedOptions:function(e){var a=this.option("layoutData");(0,T.Kn)(a)&&Object.getOwnPropertyNames(a).forEach(n=>delete this._optionsByReference["layoutData."+n]),(0,T.Kn)(e)&&Object.getOwnPropertyNames(e).forEach(n=>this._optionsByReference["layoutData."+n]=!0)},_resetWidget(e){this._disableEditorValueChangedHandler=!0,e.reset(),this._disableEditorValueChangedHandler=!1,e.option("isValid",!0)},_optionChanged(e){if(0!==e.fullName.search("layoutData."))switch(e.name){case"showRequiredMark":case"showOptionalMark":case"requiredMark":case"optionalMark":this._cashedRequiredConfig=null,this._invalidate();break;case"layoutData":this._updateReferencedOptions(e.value),this.option("items")?(0,T.Qr)(e.value)||this._itemsRunTimeInfo.each((a,n)=>{if((0,T.$K)(n.item)){var s=n.item.dataField;if(s&&(0,T.$K)(n.widgetInstance)){var g=(0,$i.vb)(s)(e.value),{allowIndeterminateState:D,editorType:K}=n.item;void 0!==g||this._isCheckboxUndefinedStateEnabled({allowIndeterminateState:D,editorType:K,dataField:s})?n.widgetInstance.option("value",g):this._resetWidget(n.widgetInstance)}}}):(this._initDataAndItems(e.value),this._invalidate());break;case"items":this._cleanItemWatchers(),this._initDataAndItems(e.value),this._invalidate();break;case"alignItemLabels":case"labelLocation":case"labelMode":case"requiredMessage":this._invalidate();break;case"customizeItem":this._updateItems(this.option("layoutData")),this._invalidate();break;case"colCount":this._resetColCount();break;case"minColWidth":"auto"===this.option("colCount")&&this._resetColCount();break;case"readOnly":case"onFieldDataChanged":break;case"width":this.callBase(e),"auto"===this.option("colCount")&&this._resetColCount();break;default:this.callBase(e)}},_resetColCount:function(){this._cashedColCount=null,this._invalidate()},linkEditorToDataField(e,a){this.on("optionChanged",n=>{n.fullName==="layoutData.".concat(a)&&e._setOptionWithoutOptionChange("value",n.value)}),e.on("valueChanged",n=>{var s=(0,T.Kn)(n.value)||Array.isArray(n.value);!this._disableEditorValueChangedHandler&&(!s||n.value!==n.previousValue)&&this._updateFieldValue(a,n.value)})},_dimensionChanged:function(){"auto"===this.option("colCount")&&this.isCachedColCountObsolete()&&this._eventsStrategy.fireEvent("autoColCountChanged")},updateData:function(e,a){var n=this;(0,T.Kn)(e)?(0,L.S6)(e,function(s,h){n._updateFieldValue(s,h)}):"string"==typeof e&&n._updateFieldValue(e,a)},getEditor:function(e){return this._itemsRunTimeInfo.findWidgetInstanceByDataField(e)||this._itemsRunTimeInfo.findWidgetInstanceByName(e)},isSingleColumnMode:function(e){var a=this._responsiveBox||e;if(a)return a.option("currentScreenFactor")===a.option("singleColumnScreen")},getItemsRunTimeInfo:function(){return this._itemsRunTimeInfo}});(0,at.Z)("dxLayoutManager",Oa);var ga=Kt.Z.inherit({_getDefaultOptions(){return(0,Y.l)(this.callBase(),{focusStateEnabled:!1,noDataText:null})},_setOptionsByReference(){this.callBase(),(0,Y.l)(this._optionsByReference,{validationGroup:!0})},_init(){this.callBase(),this._initGroupRegistration()},_initGroupRegistration(){var e=this.$element(),a=this.option("validationGroup")||Z.Z.findGroup(e,this._modelByElement(e)),n=Z.Z.addGroup(a);this._unsubscribeGroup(),this._groupWasInit=!0,this._validationGroup=a,this.groupSubscription=this._groupValidationHandler.bind(this),n.on("validated",this.groupSubscription)},_unsubscribeGroup(){var e=Z.Z.getGroupConfig(this._validationGroup);e&&e.off("validated",this.groupSubscription)},_getOrderedItems(e,a){var n=[];return(0,L.S6)(e,function(s,h){var g=(0,$.h3)(a,function(D){if(D.validator===h)return!0});g.length&&(n=n.concat(g))}),n},_groupValidationHandler(e){var a=this._getOrderedItems(e.validators,(0,L.UI)(e.brokenRules,function(n){return{text:n.message,validator:n.validator,index:n.index}}));this.validators=e.validators,(0,L.S6)(this.validators,(n,s)=>{if(s._validationSummary!==this){var h=this._itemValidationHandler.bind(this);s.on("validated",h),s.on("disposing",function(){s.off("validated",h),s._validationSummary=null,h=null}),s._validationSummary=this}}),this.option("items",a)},_itemValidationHandler(e){for(var{isValid:a,validator:n,brokenRules:s}=e,h=this.option("items"),g=!1,D=0,K=function(){var lt=h[D];if(lt.validator===n){var gt=(0,$.h3)(s||[],function(_t){return _t.index===lt.index})[0];if(a||!gt)return h.splice(D,1),g=!0,"continue";gt.message!==lt.text&&(lt.text=gt.message,g=!0)}D++};D<h.length;)K();(0,L.S6)(s,function(lt,gt){(0,$.h3)(h,function(bt){return bt.validator===n&&bt.index===gt.index})[0]||(h.push({text:gt.message,validator:n,index:gt.index}),g=!0)}),g&&(h=this._getOrderedItems(this.validators,h),this.option("items",h))},_initMarkup(){this.$element().addClass("dx-validationsummary"),this.callBase()},_optionChanged(e){"validationGroup"===e.name?this._initGroupRegistration():this.callBase(e)},_itemClass:()=>"dx-validationsummary-item",_itemDataKey:()=>"dx-validationsummary-item-data",_postprocessRenderItem(e){X.Z.on(e.itemElement,"click",function(){e.itemData.validator&&e.itemData.validator.focus&&e.itemData.validator.focus()})},_dispose(){this.callBase(),this._unsubscribeGroup()}});(0,at.Z)("dxValidationSummary",ga);const La=ga;var Ra=l(9699),Ca="dx-validationgroup";(0,at.Z)("dxValidationGroup",class Za extends Ra.Z{_getDefaultOptions(){return super._getDefaultOptions()}_init(){super._init(),Z.Z.addGroup(this)}_initMarkup(){var a=this.$element();a.addClass(Ca),a.find(".".concat("dx-validator")).each(function(n,s){ve.Z.getInstance((0,O.Z)(s))._initGroupRegistration()}),a.find(".".concat("dx-validationsummary")).each(function(n,s){La.getInstance((0,O.Z)(s))._initGroupRegistration()}),super._initMarkup()}validate(){return Z.Z.validateGroup(this)}reset(){return Z.Z.resetGroup(this)}_dispose(){Z.Z.removeGroup(this),this.$element().removeClass(Ca),super._dispose()}_useTemplates(){return!1}});var Na=l(5931),$a=["items","isRequired","validationRules","visible"],Da=z.Z.inherit({_init:function(){this.callBase(),this._cachedColCountOptions=[],this._itemsRunTimeInfo=new it,this._groupsColCount=[],this._attachSyncSubscriptions()},_getDefaultOptions:function(){return(0,Y.l)(this.callBase(),{formID:"dx-"+new V.Z,formData:{},colCount:1,screenByWidth:J.$n,colCountByScreen:void 0,labelLocation:"left",readOnly:!1,onFieldDataChanged:null,customizeItem:null,onEditorEnterKey:null,minColWidth:200,alignItemLabels:!0,alignItemLabelsInAllGroups:!0,alignRootItemLabels:!0,showColonAfterLabel:!0,showRequiredMark:!0,showOptionalMark:!1,requiredMark:"*",optionalMark:ht.Z.format("dxForm-optionalMark"),requiredMessage:ht.Z.getFormatter("dxForm-requiredMessage"),showValidationSummary:!1,items:void 0,scrollingEnabled:!1,validationGroup:void 0,stylingMode:(0,P.Z)().editorStylingMode,labelMode:"outside"})},_defaultOptionsRules:function(){return this.callBase().concat([{device:function(){return(0,Pt.x2)()},options:{showColonAfterLabel:!1,labelLocation:"top"}}])},_setOptionsByReference:function(){this.callBase(),(0,Y.l)(this._optionsByReference,{formData:!0,validationGroup:!0})},_getGroupColCount:function(e){return parseInt(e.attr(ke))},_applyLabelsWidthByCol:function(e,a){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},s=arguments.length>3?arguments[3]:void 0,h=n.inOneColumn?oi:si+a,g=n.excludeTabbed?":not(.".concat(di,")"):"";la(e,".".concat(h).concat(g),s)},_applyLabelsWidth:function(e,a,n,s,h){s=n?1:s||this._getGroupColCount(e);var D,g={excludeTabbed:a,inOneColumn:n};for(D=0;D<s;D++)this._applyLabelsWidthByCol(e,D,g,h)},_getGroupElementsInColumn:function(e,a,n){var s=(0,T.$K)(n)?"."+ci+n:"";return e.find("."+si+a+" > ."+be+" > ."+Ee+s)},_applyLabelsWidthWithGroups:function(e,a,n,s){if(!0===this.option("alignRootItemLabels"))for(var h=e.find(".".concat($e)),g=0;g<a;g++)this._applyLabelsWidthByCol(h,g,n,s);if(this.option("alignItemLabelsInAllGroups"))this._applyLabelsWidthWithNestedGroups(e,a,n,s);else{var G,K=this.$element().find("."+Ee);for(G=0;G<K.length;G++)this._applyLabelsWidth(K.eq(G),n,void 0,void 0,s)}},_applyLabelsWidthWithNestedGroups:function(e,a,n,s){var g,D,K,G,h={excludeTabbed:n};for(g=0;g<a;g++)for(G=this._getGroupElementsInColumn(e,g),this._applyLabelsWidthByCol(G,0,h,s),D=0;D<this._groupsColCount.length;D++){G=this._getGroupElementsInColumn(e,g,this._groupsColCount[D]);var lt=this._getGroupColCount(G);for(K=1;K<lt;K++)this._applyLabelsWidthByCol(G,K,h,s)}},_labelLocation:function(){return this.option("labelLocation")},_alignLabelsInColumn:function(e){var{layoutManager:a,inOneColumn:n,$container:s,excludeTabbed:h,items:g}=e;if((0,J.Ym)()&&"top"!==this._labelLocation()){var D=fi(a._getMarkOptions());n?this._applyLabelsWidth(s,h,!0,void 0,D):this._checkGrouping(g)?this._applyLabelsWidthWithGroups(s,a._getColCount(),h,D):this._applyLabelsWidth(s,h,!1,a._getColCount(),D)}},_prepareFormData:function(){(0,T.$K)(this.option("formData"))||this.option("formData",{})},_setStylingModeClass:function(){"underlined"===this.option("stylingMode")&&this.$element().addClass("dx-form-styling-mode-underlined")},_initMarkup:function(){Z.Z.addGroup(this._getValidationGroup()),this._clearCachedInstances(),this._prepareFormData(),this.$element().addClass("dx-form"),this._setStylingModeClass(),this.callBase(),this.setAria("role","form",this.$element()),this.option("scrollingEnabled")&&this._renderScrollable(),this._renderLayout(),this._renderValidationSummary(),this._lastMarkupScreenFactor=this._targetScreenFactor||this._getCurrentScreenFactor()},_getCurrentScreenFactor:function(){return(0,J.Ym)()?(0,J.Wf)(this.option("screenByWidth")):"lg"},_clearCachedInstances:function(){this._itemsRunTimeInfo.clear(),this._cachedLayoutManagers=[]},_alignLabels:function(e,a){this._alignLabelsInColumn({$container:this.$element(),layoutManager:e,excludeTabbed:!0,items:this.option("items"),inOneColumn:a}),(0,yt.U_)(this.$element().find(".".concat(Na.z)))},_clean:function(){this._clearValidationSummary(),this.callBase(),this._groupsColCount=[],this._cachedColCountOptions=[],this._lastMarkupScreenFactor=void 0},_renderScrollable:function(){var e=this.option("useNativeScrolling");this._scrollable=new te.Z(this.$element(),{useNative:!!e,useSimulatedScrollbar:!e,useKeyboard:!1,direction:"both",bounceEnabled:!1})},_getContent:function(){return this.option("scrollingEnabled")?(0,O.Z)(this._scrollable.content()):this.$element()},_clearValidationSummary:function(){var e;null===(e=this._$validationSummary)||void 0===e||e.remove(),this._$validationSummary=void 0,this._validationSummary=void 0},_renderValidationSummary:function(){this._clearValidationSummary(),this.option("showValidationSummary")&&(this._$validationSummary=(0,O.Z)("<div>").addClass("dx-form-validation-summary").appendTo(this._getContent()),this._validationSummary=this._$validationSummary.dxValidationSummary({validationGroup:this._getValidationGroup()}).dxValidationSummary("instance"))},_prepareItems(e,a,n,s){if(e){for(var h=[],g=0;g<e.length;g++){var D=e[g],K=Ie(n,Oe(g,s)),G={item:D,itemIndex:g,path:K},lt=this._itemsRunTimeInfo.add(G);if((0,T.HD)(D)&&(D={dataField:D}),(0,T.Kn)(D)){var gt=(0,H.Z)({},D);G.preparedItem=gt,gt.guid=lt,this._tryPrepareGroupItem(gt),this._tryPrepareTabbedItem(gt,K),this._tryPrepareItemTemplate(gt),a&&(gt.cssItemClass=di),gt.items&&(gt.items=this._prepareItems(gt.items,a,K)),h.push(gt)}else h.push(D)}return h}},_tryPrepareGroupItem:function(e){"group"===e.itemType&&(e.alignItemLabels=(0,$.IS)(e.alignItemLabels,!0),e._prepareGroupItemTemplate=a=>{e.template&&(e.groupContentTemplate=this._getTemplate(a)),e.template=this._itemGroupTemplate.bind(this,e)},e._prepareGroupItemTemplate(e.template))},_tryPrepareTabbedItem:function(e,a){"tabbed"===e.itemType&&(e.template=this._itemTabbedTemplate.bind(this,e),e.tabs=this._prepareItems(e.tabs,!0,a,!0))},_tryPrepareItemTemplate:function(e){e.template&&(e.template=this._getTemplate(e.template))},_checkGrouping:function(e){if(e)for(var a=0;a<e.length;a++)if("group"===e[a].itemType)return!0},_renderLayout:function(){var e=this,a=e.option("items"),n=e._getContent();a=e._prepareItems(a),e._rootLayoutManager=e._renderLayoutManager(n,this._createLayoutManagerOptions(a,{isRoot:!0,colCount:e.option("colCount"),alignItemLabels:e.option("alignItemLabels"),screenByWidth:this.option("screenByWidth"),colCountByScreen:this.option("colCountByScreen"),onLayoutChanged:function(s){e._alignLabels.bind(e)(e._rootLayoutManager,s)},onContentReady:function(s){e._alignLabels(s.component,s.component.isSingleColumnMode())}}))},_tryGetItemsForTemplate:function(e){return e.items||[]},_itemTabbedTemplate:function(e,a,n){var s=(0,O.Z)("<div>").appendTo(n),h=(0,Y.l)({},e.tabPanelOptions,{dataSource:e.tabs,onItemRendered:K=>(0,yt.Uo)(K.itemElement),itemTemplate:(K,G,lt)=>{var gt=(0,O.Z)(lt),_t=(0,$.IS)(K.alignItemLabels,!0),bt=this._renderLayoutManager(gt,this._createLayoutManagerOptions(this._tryGetItemsForTemplate(K),{colCount:K.colCount,alignItemLabels:_t,screenByWidth:this.option("screenByWidth"),colCountByScreen:K.colCountByScreen,cssItemClass:K.cssItemClass,onLayoutChanged:Zt=>{this._alignLabelsInColumn({$container:gt,layoutManager:bt,items:K.items,inOneColumn:Zt})}}));this._itemsRunTimeInfo&&this._itemsRunTimeInfo.extendRunTimeItemInfoByKey(K.guid,{layoutManager:bt}),_t&&this._alignLabelsInColumn({$container:gt,layoutManager:bt,items:K.items,inOneColumn:bt.isSingleColumnMode()})}}),g=(K,G)=>{Array.isArray(K)&&K.forEach(lt=>this._itemsRunTimeInfo.extendRunTimeItemInfoByKey(lt.guid,{widgetInstance:G}))},D=this._createComponent(s,Oi,h);(0,O.Z)(n).parent().addClass("dx-field-item-has-tabs"),D.on("optionChanged",K=>{"dataSource"===K.fullName&&g(K.value,K.component)}),g([{guid:e.guid},...e.tabs],D)},_itemGroupTemplate:function(e,a,n){var h,g,s=(0,O.Z)("<div>").toggleClass("dx-form-group-with-caption",(0,T.$K)(e.caption)&&e.caption.length).addClass(Ee).appendTo(n);(0,O.Z)(n).parent().addClass("dx-field-item-has-group"),e.caption&&(0,O.Z)("<span>").addClass("dx-form-group-caption").text(e.caption).appendTo(s);var D=(0,O.Z)("<div>").addClass("dx-form-group-content").appendTo(s);e.groupContentTemplate?(e._renderGroupContentTemplate=()=>{D.empty();var K={formData:this.option("formData"),component:this};e.groupContentTemplate.render({model:K,container:(0,mt.u)(D)})},e._renderGroupContentTemplate()):(g=this._renderLayoutManager(D,this._createLayoutManagerOptions(this._tryGetItemsForTemplate(e),{colCount:e.colCount,colCountByScreen:e.colCountByScreen,alignItemLabels:e.alignItemLabels,cssItemClass:e.cssItemClass})),this._itemsRunTimeInfo&&this._itemsRunTimeInfo.extendRunTimeItemInfoByKey(e.guid,{layoutManager:g}),h=g._getColCount(),-1===(0,rt.d3)(h,this._groupsColCount)&&this._groupsColCount.push(h),s.addClass(ci+h),s.attr(ke,h))},_createLayoutManagerOptions:function(e,a){return function Li(e){var{form:a,$formElement:n,formOptions:s,items:h,validationGroup:g,extendedLayoutManagerOptions:D,onFieldDataChanged:K,onContentReady:G,onDisposing:lt}=e;return(0,Y.l)({form:a,items:h,$formElement:n,validationGroup:g,onFieldDataChanged:K,onContentReady:G,onDisposing:lt,validationBoundary:s.scrollingEnabled?n:void 0,scrollingEnabled:s.scrollingEnabled,showRequiredMark:s.showRequiredMark,showOptionalMark:s.showOptionalMark,requiredMark:s.requiredMark,optionalMark:s.optionalMark,requiredMessage:s.requiredMessage,screenByWidth:s.screenByWidth,layoutData:s.formData,labelLocation:s.labelLocation,customizeItem:s.customizeItem,minColWidth:s.minColWidth,showColonAfterLabel:s.showColonAfterLabel,onEditorEnterKey:s.onEditorEnterKey,labelMode:s.labelMode},{isRoot:D.isRoot,colCount:D.colCount,alignItemLabels:D.alignItemLabels,cssItemClass:D.cssItemClass,colCountByScreen:D.colCountByScreen,onLayoutChanged:D.onLayoutChanged,width:D.width})}({form:this,formOptions:this.option(),$formElement:this.$element(),items:e,validationGroup:this._getValidationGroup(),extendedLayoutManagerOptions:a,onFieldDataChanged:n=>{this._isDataUpdating||this._triggerOnFieldDataChanged(n)},onContentReady:n=>{this._itemsRunTimeInfo.addItemsOrExtendFrom(n.component._itemsRunTimeInfo),a.onContentReady&&a.onContentReady(n)},onDisposing:n=>{var{component:s}=n,h=s.getItemsRunTimeInfo();this._itemsRunTimeInfo.removeItemsByItems(h)}})},_renderLayoutManager:function(e,a){this._cachedColCountOptions.push({colCountByScreen:(0,Y.l)({lg:a.colCount,md:a.colCount,sm:a.colCount,xs:1},a.colCountByScreen)});var s=(0,O.Z)("<div>");s.appendTo(e);var h=this._createComponent(s,"dxLayoutManager",a);return h.on("autoColCountChanged",()=>{this._clearAutoColCountChangedTimeout(),this.autoColCountChangedTimeoutId=setTimeout(()=>!this._disposed&&this._refresh(),0)}),this._cachedLayoutManagers.push(h),h},_getValidationGroup:function(){return this.option("validationGroup")||this},_createComponent:function(e,a,n){return this._extendConfig(n=n||{},{readOnly:this.option("readOnly")}),this.callBase(e,a,n)},_attachSyncSubscriptions:function(){var e=this;e.on("optionChanged",function(a){var n=a.fullName;"formData"===n&&((0,T.$K)(a.value)||e._options.silent("formData",a.value={}),e._triggerOnFieldDataChangedByDataSet(a.value)),e._cachedLayoutManagers.length&&(0,L.S6)(e._cachedLayoutManagers,function(s,h){"formData"===n&&(e._isDataUpdating=!0,h.option("layoutData",a.value),e._isDataUpdating=!1),("readOnly"===a.name||"disabled"===a.name)&&h.option(n,a.value)})})},_optionChanged:function(e){var a=e.fullName.split(".");a.length>1&&-1!==a[0].search("items")&&this._itemsOptionChangedHandler(e)||a.length>1&&-1!==a[0].search("formData")&&this._formDataOptionChangedHandler(e)||this._defaultOptionChangedHandler(e)},_defaultOptionChangedHandler:function(e){switch(e.name){case"formData":this.option("items")?(0,T.Qr)(e.value)&&this._resetValues():this._invalidate();break;case"onFieldDataChanged":case"alignRootItemLabels":case"readOnly":break;case"items":case"colCount":case"onEditorEnterKey":case"labelLocation":case"labelMode":case"alignItemLabels":case"showColonAfterLabel":case"customizeItem":case"alignItemLabelsInAllGroups":case"showRequiredMark":case"showOptionalMark":case"requiredMark":case"optionalMark":case"requiredMessage":case"scrollingEnabled":case"formID":case"colCountByScreen":case"screenByWidth":case"stylingMode":this._invalidate();break;case"showValidationSummary":this._renderValidationSummary();break;case"minColWidth":"auto"===this.option("colCount")&&this._invalidate();break;case"width":this.callBase(e),this._rootLayoutManager.option(e.name,e.value),this._alignLabels(this._rootLayoutManager,this._rootLayoutManager.isSingleColumnMode());break;case"visible":this.callBase(e),e.value&&(0,yt.Uo)(this.$element());break;case"validationGroup":Z.Z.removeGroup(e.previousValue||this),this._invalidate();break;default:this.callBase(e)}},_itemsOptionChangedHandler:function(e){var a=e.fullName.split("."),n=e.value,s=this._getItemPath(a),h=this.option(s),g=e.fullName.replace(s+".",""),D=g.split(".")[0].replace(/\[\d+]/,""),K=this._tryCreateItemOptionAction(D,h,h[D],e.previousValue,s),G=this._tryExecuteItemOptionAction(K)||this._tryChangeLayoutManagerItemOption(e.fullName,n);if(!G&&h){this._changeItemOption(h,g,n);var lt=this._generateItemsFromData(this.option("items"));this.option("items",lt),G=!0}return G},_formDataOptionChangedHandler:function(e){var a=e.fullName.split("."),n=e.value,s=a.slice(1).join("."),h=this.getEditor(s);return h?h.option("value",n):this._triggerOnFieldDataChanged({dataField:s,value:n}),!0},_tryCreateItemOptionAction:function(e,a,n,s,h){return"tabs"===e&&(this._itemsRunTimeInfo.removeItemsByPathStartWith("".concat(h,".tabs")),n=this._prepareItems(n,!0,h,!0)),((e,a)=>{var n;switch(e){case"editorOptions":case"buttonOptions":return new Ri(a);case"validationRules":return new Fi(a);case"cssClass":return new Zi(a);case"badge":case"disabled":case"icon":case"tabTemplate":case"title":return new je((0,Y.l)(a,{optionName:e}));case"tabs":return new Pi(a);case"template":return"group"===(null===(n=a.item)||void 0===n?void 0:n.itemType)?new Xe(a):new je((0,Y.l)(a,{optionName:e}));default:return null}})(e,{item:a,value:n,previousValue:s,itemsRunTimeInfo:this._itemsRunTimeInfo})},_tryExecuteItemOptionAction:function(e){return e&&e.tryExecute()},_updateValidationGroupAndSummaryIfNeeded:function(e){var a=Ne(e);$a.indexOf(a)>-1&&(Z.Z.addGroup(this._getValidationGroup()),this.option("showValidationSummary")&&this._validationSummary&&this._validationSummary._initGroupRegistration())},_setLayoutManagerItemOption(e,a,n,s){if(this._updateLockCount>0){!e._updateLockCount&&e.beginUpdate();var h=this._itemsRunTimeInfo.findKeyByPath(s);this.postponedOperations.add(h,()=>(!e._disposed&&e.endUpdate(),(new Ct.BH).resolve()))}var g=D=>{if(D.component.off("contentReady",g),Ge(s)){var K=(e=>{for(var a=e.split("."),n=[...a],s=a.length-1;s>=0;s--){if(Ge(a[s]))return n.join(".");n.splice(s,1)}return""})(s),G=this._itemsRunTimeInfo.findGroupOrTabLayoutManagerByPath(K);G&&this._alignLabelsInColumn({items:G.option("items"),layoutManager:G,$container:G.$element(),inOneColumn:G.isSingleColumnMode()})}else this._alignLabels(this._rootLayoutManager,this._rootLayoutManager.isSingleColumnMode())};e.on("contentReady",g),e.option(a,n),this._updateValidationGroupAndSummaryIfNeeded(a)},_tryChangeLayoutManagerItemOption(e,a){var n=e.split("."),s=Ne(e);if("items"===s&&n.length>1){var h=this._getItemPath(n),g=this._itemsRunTimeInfo.findGroupOrTabLayoutManagerByPath(h);if(g){this._itemsRunTimeInfo.removeItemsByItems(g.getItemsRunTimeInfo());var D=this._prepareItems(a,!1,h);return this._setLayoutManagerItemOption(g,s,D,h),!0}}else if(n.length>2){var K=n.length-2,G=this._getItemPath(n.slice(0,K)),lt=this._itemsRunTimeInfo.findGroupOrTabLayoutManagerByPath(G);if(lt){var gt=Te(n[K],s);if("editorType"===s&&lt.option(gt)!==a)return!1;if("visible"===s){var _t=this.option(Te(G,"items"));if(_t&&_t.length){var bt=lt.option("items");_t.forEach((Zt,le)=>{bt[le].visibleIndex=Zt.visibleIndex})}}return this._setLayoutManagerItemOption(lt,gt,a,G),!0}}return!1},_tryChangeLayoutManagerItemOptions(e,a){var n;return this.beginUpdate(),(0,L.S6)(a,(s,h)=>{if(!(n=this._tryChangeLayoutManagerItemOption(Te(e,s),h)))return!1}),this.endUpdate(),n},_getItemPath:function(e){var n,a=e[0];for(n=1;n<e.length&&-1!==e[n].search(/items\[\d+]|tabs\[\d+]/);n++)a+="."+e[n];return a},_triggerOnFieldDataChanged:function(e){this._createActionByOption("onFieldDataChanged")(e)},_triggerOnFieldDataChangedByDataSet:function(e){var a=this;e&&(0,T.Kn)(e)&&(0,L.S6)(e,function(n,s){a._triggerOnFieldDataChanged({dataField:n,value:s})})},_updateFieldValue:function(e,a){if((0,T.$K)(this.option("formData"))){var n=this.getEditor(e);this.option("formData."+e,a),n&&n.option("value")!==a&&n.option("value",a)}},_generateItemsFromData:function(e){var a=this.option("formData"),n=[];return!e&&(0,T.$K)(a)&&(0,L.S6)(a,function(s){n.push({dataField:s})}),e&&(0,L.S6)(e,function(s,h){(0,T.Kn)(h)?n.push(h):n.push({dataField:h})}),n},_getItemByField:function(e,a){var D,n=this,s=(0,T.Kn)(e)?e:n._getFieldParts(e),h=s.fieldName,g=s.fieldPath;return a.length&&(0,L.S6)(a,function(K,G){var lt=G.itemType;if(g.length){var gt=g.slice();G=n._getItemByFieldPath(gt,h,G)}else if("group"===lt&&!G.caption&&!G.name||"tabbed"===lt&&!G.name){var _t=n._getSubItemField(lt);G.items=n._generateItemsFromData(G.items),G=n._getItemByField({fieldName:h,fieldPath:g},G[_t])}if(((e,a)=>!!e&&(e.dataField===a||e.name===a||Ze(e.title)===a||"group"===e.itemType&&Ze(e.caption)===a))(G,h))return D=G,!1}),D},_getFieldParts:function(e){for(var a=e,n=a.indexOf("."),s=[];-1!==n;)s.push(a.substr(0,n)),n=(a=a.substr(n+1)).indexOf(".");return{fieldName:a,fieldPath:s.reverse()}},_getItemByFieldPath:function(e,a,n){var D,s=n.itemType,h=this._getSubItemField(s),g="group"===s||"tabbed"===s||n.title;do{if(!g)break;var K=n.name||n.caption||n.title,G=(0,T.$K)(K),lt=Ze(K),gt=void 0;if(n[h]=this._generateItemsFromData(n[h]),G&&(gt=e.pop()),!e.length&&(D=this._getItemByField(a,n[h])))break;(!G||G&&lt===gt)&&e.length&&(D=this._searchItemInEverySubItem(e,a,n[h]))}while(e.length&&!(0,T.$K)(D));return D},_getSubItemField:function(e){return"tabbed"===e?"tabs":"items"},_searchItemInEverySubItem:function(e,a,n){var h,s=this;return(0,L.S6)(n,function(g,D){if(h=s._getItemByFieldPath(e.slice(),a,D))return!1}),h||(h=!1),h},_changeItemOption:function(e,a,n){(0,T.Kn)(e)&&(e[a]=n)},_dimensionChanged:function(){var e=this._getCurrentScreenFactor();this._lastMarkupScreenFactor!==e&&(this._isColCountChanged(this._lastMarkupScreenFactor,e)&&(this._targetScreenFactor=e,this._refresh(),this._targetScreenFactor=void 0),this._lastMarkupScreenFactor=e)},_isColCountChanged:function(e,a){var n=!1;return(0,L.S6)(this._cachedColCountOptions,function(s,h){if(h.colCountByScreen[e]!==h.colCountByScreen[a])return n=!0,!1}),n},_refresh:function(){X.Z.trigger(this.$element().find(".dx-state-focused input, .dx-state-focused textarea"),"change"),this.callBase()},_resetValues:function(){this._itemsRunTimeInfo.each(function(e,a){(0,T.$K)(a.widgetInstance)&&et.Z.isEditor(a.widgetInstance)&&(a.widgetInstance.reset(),a.widgetInstance.option("isValid",!0))}),Z.Z.resetGroup(this._getValidationGroup())},_updateData:function(e,a,n){var s=this,h=n?a:e;(0,T.Kn)(h)?(0,L.S6)(h,function(g,D){s._updateData(n?e+"."+g:g,D,(0,T.Kn)(D))}):(0,T.HD)(e)&&s._updateFieldValue(e,a)},registerKeyHandler:function(e,a){this.callBase(e,a),this._itemsRunTimeInfo.each(function(n,s){(0,T.$K)(s.widgetInstance)&&s.widgetInstance.registerKeyHandler(e,a)})},_focusTarget:function(){return this.$element().find("."+be+" [tabindex]").first()},_visibilityChanged:function(){},_clearAutoColCountChangedTimeout:function(){this.autoColCountChangedTimeoutId&&(clearTimeout(this.autoColCountChangedTimeoutId),this.autoColCountChangedTimeoutId=void 0)},_dispose:function(){this._clearAutoColCountChangedTimeout(),Z.Z.removeGroup(this._getValidationGroup()),this.callBase()},resetValues:function(){this._resetValues()},updateData:function(e,a){this._updateData(e,a)},getEditor:function(e){return this._itemsRunTimeInfo.findWidgetInstanceByDataField(e)||this._itemsRunTimeInfo.findWidgetInstanceByName(e)},getButton:function(e){return this._itemsRunTimeInfo.findWidgetInstanceByName(e)},updateDimensions:function(){var e=this,a=new Ct.BH;return e._scrollable?e._scrollable.update().done(function(){a.resolveWith(e)}):a.resolveWith(e),a.promise()},itemOption:function(e,a,n){var s=this._generateItemsFromData(this.option("items")),h=this._getItemByField(e,s),g=Ye(s,h);if(h)switch(arguments.length){case 1:return h;case 3:var D=this._tryCreateItemOptionAction(a,h,n,h[a],g);this._changeItemOption(h,a,n);var K=Te(g,a);!this._tryExecuteItemOptionAction(D)&&!this._tryChangeLayoutManagerItemOption(K,n)&&this.option("items",s);break;default:var G;(0,T.Kn)(a)&&!this._tryChangeLayoutManagerItemOptions(g,a)&&((0,L.S6)(a,(lt,gt)=>{var _t=this._tryCreateItemOptionAction(lt,h,gt,h[lt],g);this._changeItemOption(h,lt,gt),!G&&!this._tryExecuteItemOptionAction(_t)&&(G=!0)}),G&&this.option("items",s))}},validate:function(){return Z.Z.validateGroup(this._getValidationGroup())},getItemID:function(e){return"dx_"+this.option("formID")+"_"+(e||new V.Z)},getTargetScreenFactor:function(){return this._targetScreenFactor}});(0,at.Z)("dxForm",Da);const ka=Da},4666:(zt,Tt,l)=>{l.d(Tt,{Z:()=>ne});var H=l(7771),O=l(4705),X=l(3684),at=l(4596),V=l(7923),$=l(2657),P=l(2384),T=l(6836),L=function(o){for(var p=0,x=0,A=0;A<o.length;++A)if("'"===o[A]&&p++,"."===o[A]&&(++x,p%2==0))return{occurrence:x,index:A};return{occurrence:1,index:-1}},rt=function(o,p,x){for(var A=-1;x--&&A++<o.length;)A=o.indexOf(p,A);return A},Y=function(o,p){return-1===p?[o]:[o.slice(0,p),o.slice(p+1)]},mt=function(o,p){if("string"==typeof p){var x=p.split(";"),A=P.Z.getSign(o,p);x[1]=x[1]||"-"+x[0],p=(p=x[A<0?1:0]).replace(/'([^']*)'/g,vt=>vt.split("").map(()=>" ").join("").substr(2));var Q=/^[^#0.,]*/.exec(p)[0].length,pt=/[^#0.,]*$/.exec(p)[0].length;return{start:Q,end:o.length-pt}}return{start:0,end:o.length}},ht=function(o,p){var x=P.Z.getDecimalSeparator(),A=new RegExp("[^0-9"+(0,T.hr)(x)+"]","g");return p.slice(0,o).replace(A,"").length},z=function(o){return o.split("").reverse().join("")},et=function(o,p){if(!o)return-1;for(var x=/[0-9]/g,A=1,Q=null,pt=x.exec(p);pt;){if(Q=pt.index,A>=o)return Q;A++,pt=x.exec(p)}return null===Q?p.length:Q},Z=function(o,p){return void 0===o.start&&(o={start:o,end:o}),{start:o.start+p,end:o.end+p}};function F(o,p,x){o=Z(o,0);var A=mt(p,x);return{start:(0,$.n$)(o.start,A.start,A.end),end:(0,$.n$)(o.end,A.start,A.end)}}var _=l(7242),E=l(3520),C=l(8082),S=l(6769),U=l(805),ot=l(3871),ut=l(6129),Ct=l(1799),Et=l(6068),At=l(5390),xt=l(6463),B=l(1446),M=l(316),k="dxNumberBox",nt=(0,ut.V4)(At.Z.up,k),c=(0,ut.V4)(At.Z.cancel,k);const N=Et.Z.inherit({_getDefaultOptions:function(){return(0,X.l)(this.callBase(),{direction:"up",onChange:null,activeStateEnabled:!0,hoverStateEnabled:!0})},_initMarkup:function(){this.callBase();var o="dx-numberbox-spin-"+this.option("direction");this.$element().addClass("dx-numberbox-spin-button").addClass(o),this._spinIcon=(0,E.Z)("<div>").addClass(o+"-icon").appendTo(this.$element())},_render:function(){this.callBase();var o=(0,ut.V4)(At.Z.down,this.NAME),p=this.$element();O.Z.off(p,o),O.Z.on(p,o,this._spinDownHandler.bind(this)),this._spinChangeHandler=this._createActionByOption("onChange")},_spinDownHandler:function(o){o.preventDefault(),this._clearTimer(),O.Z.on(this.$element(),B.Z.name,function(){this._feedBackDeferred=new M.BH,(0,xt.dR)(this._feedBackDeferred),this._spinChangeHandler({event:o}),this._holdTimer=setInterval(this._spinChangeHandler,100,{event:o})}.bind(this));var p=C.Z.getDocument();O.Z.on(p,nt,this._clearTimer.bind(this)),O.Z.on(p,c,this._clearTimer.bind(this)),this._spinChangeHandler({event:o})},_dispose:function(){this._clearTimer(),this.callBase()},_clearTimer:function(){O.Z.off(this.$element(),B.Z.name);var o=C.Z.getDocument();O.Z.off(o,nt),O.Z.off(o,c),this._feedBackDeferred&&this._feedBackDeferred.resolve(),this._holdTimer&&clearInterval(this._holdTimer)},_optionChanged:function(o){switch(o.name){case"onChange":case"direction":this._invalidate();break;default:this.callBase(o)}}});class Mt extends Ct.Z{_attachEvents(p,x){var{editor:A}=this,Q=(0,ut.V4)(At.Z.down,A.NAME),pt=x.children(),ft=A._createAction(vt=>A._spinButtonsPointerDownHandler(vt));O.Z.off(x,Q),O.Z.on(x,Q,vt=>ft({event:vt})),N.getInstance(pt.eq(0)).option("onChange",vt=>A._spinUpChangeHandler(vt)),N.getInstance(pt.eq(1)).option("onChange",vt=>A._spinDownChangeHandler(vt))}_create(){var{editor:p}=this,x=(0,E.Z)("<div>").addClass("dx-numberbox-spin-container"),A=(0,E.Z)("<div>").appendTo(x),Q=(0,E.Z)("<div>").appendTo(x),pt=this._getOptions();return this._addToContainer(x),p._createComponent(A,N,(0,X.l)({direction:"up"},pt)),p._createComponent(Q,N,(0,X.l)({direction:"down"},pt)),this._legacyRender(p.$element(),this._isTouchFriendly(),pt.visible),{instance:x,$element:x}}_getOptions(){var{editor:p}=this;return{visible:this._isVisible(),disabled:p.option("disabled")}}_isVisible(){var{editor:p}=this;return super._isVisible()&&p.option("showSpinButtons")}_isTouchFriendly(){var{editor:p}=this;return p.option("showSpinButtons")&&p.option("useLargeSpinButtons")}_legacyRender(p,x,A){p.toggleClass("dx-numberbox-spin-touch-friendly",x),p.toggleClass("dx-numberbox-spin",A)}update(){if(super.update()){var{editor:x,instance:A}=this,Q=x.$element(),pt=this._isVisible(),ft=this._isTouchFriendly(),vt=A.children(),wt=N.getInstance(vt.eq(0)),Ft=N.getInstance(vt.eq(1)),Wt=this._getOptions();wt.option(Wt),Ft.option(Wt),this._legacyRender(Q,ft,pt)}}}var Nt=l(911),qt=Math,Lt=["tab","del","backspace","leftArrow","rightArrow","home","end","enter"],Ut=ot.Z.inherit({_supportedKeys:function(){return(0,X.l)(this.callBase(),{upArrow:function(o){(0,ut.j1)(o)||(o.preventDefault(),o.stopPropagation(),this._spinUpChangeHandler(o))},downArrow:function(o){(0,ut.j1)(o)||(o.preventDefault(),o.stopPropagation(),this._spinDownChangeHandler(o))},enter:function(){}})},_getDefaultOptions:function(){return(0,X.l)(this.callBase(),{value:0,min:void 0,max:void 0,step:1,showSpinButtons:!1,useLargeSpinButtons:!0,mode:"text",invalidValueMessage:Nt.Z.format("dxNumberBox-invalidValueMessage"),buttons:void 0})},_useTemplates:function(){return!1},_getDefaultButtons:function(){return this.callBase().concat([{name:"spins",Ctor:Mt}])},_isSupportInputMode:function(){var o=parseFloat(U.Z.version);return U.Z.chrome&&o>=66||U.Z.safari&&o>=12},_defaultOptionsRules:function(){return this.callBase().concat([{device:function(){return V.Z.real().generic&&!V.Z.isSimulator()},options:{useLargeSpinButtons:!1}},{device:function(){return"desktop"!==V.Z.real().deviceType&&!this._isSupportInputMode()}.bind(this),options:{mode:"number"}}])},_initMarkup:function(){this._renderSubmitElement(),this.$element().addClass("dx-numberbox"),this.callBase()},_getDefaultAttributes:function(){var o=this.callBase();return o.inputmode="decimal",o},_renderContentImpl:function(){this.option("isValid")&&this._validateValue(this.option("value")),this.setAria("role","spinbutton")},_renderSubmitElement:function(){this._$submitElement=(0,E.Z)("<input>").attr("type","hidden").appendTo(this.$element()),this._setSubmitValue(this.option("value"))},_setSubmitValue:function(o){this._getSubmitElement().val((0,T.FH)(o))},_getSubmitElement:function(){return this._$submitElement},_keyPressHandler:function(o){this.callBase(o);var p=(0,ut.qK)(o);if(!/[\d.,eE\-+]/.test(p)){var A=(0,ut.EV)(o);return(0,ut.j1)(o)||A&&(0,S.d3)(A,Lt)>=0?void 0:(o.preventDefault(),!1)}this._keyPressed=!0},_onMouseWheel:function(o){this._spinValueChange(o.delta>0?1:-1,o)},_renderValue:function(){var o=this._input().val(),p=this.option("value");(!o.length||Number(o)!==p)&&(this._forceValueRender(),this._toggleEmptinessEventHandler());var x=(0,at.$K)(p)?null:Nt.Z.format("dxNumberBox-noDataText");return this.setAria({valuenow:(0,T.IS)(p,""),valuetext:x}),this.option("text",this._input().val()),this._updateButtons(),(new M.BH).resolve()},_forceValueRender:function(){var o=this.option("value"),p=Number(o),x=isNaN(p)?"":this._applyDisplayValueFormatter(o);this._renderDisplayText(x)},_applyDisplayValueFormatter:function(o){return this.option("displayValueFormatter")(o)},_renderProps:function(){this.callBase(),this._input().prop({min:this.option("min"),max:this.option("max"),step:this.option("step")}),this.setAria({valuemin:(0,T.IS)(this.option("min"),""),valuemax:(0,T.IS)(this.option("max"),"")})},_spinButtonsPointerDownHandler:function(){var o=this._input();!this.option("useLargeSpinButtons")&&C.Z.getActiveElement()!==o[0]&&O.Z.trigger(o,"focus")},_spinUpChangeHandler:function(o){this.option("readOnly")||this._spinValueChange(1,o.event||o)},_spinDownChangeHandler:function(o){this.option("readOnly")||this._spinValueChange(-1,o.event||o)},_spinValueChange:function(o,p){var x=parseFloat(this.option("step"));if(0!==x){var A=parseFloat(this._normalizeInputValue())||0;A=this._correctRounding(A,x*o);var Q=this.option("min"),pt=this.option("max");(0,at.$K)(Q)&&(A=Math.max(Q,A)),(0,at.$K)(pt)&&(A=Math.min(pt,A)),this._saveValueChangeEvent(p),this.option("value",A)}},_correctRounding:function(o,p){var x=/[,.](.*)/,A=x.test(o),Q=x.test(p);if(A||Q){var pt=A?x.exec(o)[0].length:0,ft=Q?x.exec(p)[0].length:0,vt=qt.max(pt,ft);return this._round(o+p,vt)}return o+p},_round:function(o,p){p=p||0;var x=Math.pow(10,p);return o*=x,Math.round(o)/x},_renderValueChangeEvent:function(){this.callBase();var o=(0,ut.V4)("focusout","NumberBoxForceValueChange");O.Z.off(this.element(),o),O.Z.on(this.element(),o,this._forceRefreshInputValue.bind(this))},_forceRefreshInputValue:function(){if("number"!==this.option("mode")){var o=this._input(),p=this._applyDisplayValueFormatter(this.option("value"));o.val(null),o.val(p)}},_valueChangeEventHandler:function(o){var p=this._input(),x=this._normalizeText(),A=this._parseValue(x),Q="."!==x&&"-"!==x;!this._isValueValid()||this._validateValue(A)?(Q&&this.callBase(o,isNaN(A)?null:A),this._applyValueBoundaries(x,A),this.validationRequest.fire({value:A,editor:this})):p.val(this._applyDisplayValueFormatter(A))},_applyValueBoundaries:function(o,p){var x=this._isValueIncomplete(o),A=this._isValueInRange(o);!x&&!A&&null!==p&&Number(o)!==p&&this._input().val(this._applyDisplayValueFormatter(p))},_replaceCommaWithPoint:function(o){return o.replace(",",".")},_inputIsInvalid:function(){var o="number"===this.option("mode"),p=this._input().get(0).validity;return o&&p&&p.badInput},_renderDisplayText:function(o){this._inputIsInvalid()||this.callBase(o)},_isValueIncomplete:function(o){return/(^-$)|(^-?\d*\.$)|(\d+e-?$)/i.test(o)},_isValueInRange:function(o){return(0,$.Z2)(o,this.option("min"),this.option("max"))},_isNumber:function(o){return null!==this._parseValue(o)},_validateValue:function(o){var p=this._normalizeText(),x=this._isValueValid(),A=!0,Q=this._isNumber(p);return isNaN(Number(o))&&(A=!1),!o&&x?A=!0:!Q&&!x&&(A=!1),this.option({isValid:A,validationError:A?null:{editorSpecific:!0,message:this.option("invalidValueMessage")}}),A},_normalizeInputValue:function(){return this._parseValue(this._normalizeText())},_normalizeText:function(){var o=this._input().val().trim();return this._replaceCommaWithPoint(o)},_parseValue:function(o){var p=parseFloat(o);return isNaN(p)?null:(0,$.n$)(p,this.option("min"),this.option("max"))},_clearValue:function(){this._inputIsInvalid()&&(this._input().val(""),this._validateValue()),this.callBase()},reset:function(){null===this.option("value")?(this.option("text",""),this._renderValue()):this.option("value",null)},_optionChanged:function(o){switch(o.name){case"value":this._validateValue(o.value),this._setSubmitValue(o.value),this.callBase(o),this._resumeValueChangeAction();break;case"step":this._renderProps();break;case"min":case"max":this._renderProps(),this.option("value",this._parseValue(this.option("value")));break;case"showSpinButtons":case"useLargeSpinButtons":this._updateButtons(["spins"]);break;case"invalidValueMessage":break;default:this.callBase(o)}}}),Ot="dxNumberFormatter",y="minus";const Gt=Ut.inherit({_getDefaultOptions:function(){return(0,X.l)(this.callBase(),{useMaskBehavior:!0,format:null})},_isDeleteKey:function(o){return"del"===o},_supportedKeys:function(){return this._useMaskBehavior()?(0,X.l)(this.callBase(),{minus:this._revertSign.bind(this),del:this._removeHandler.bind(this),backspace:this._removeHandler.bind(this),leftArrow:this._arrowHandler.bind(this,-1),rightArrow:this._arrowHandler.bind(this,1),home:this._moveCaretToBoundaryEventHandler.bind(this,1),enter:this._updateFormattedValue.bind(this),end:this._moveCaretToBoundaryEventHandler.bind(this,-1)}):this.callBase()},_getTextSeparatorIndex:function(o){var p=P.Z.getDecimalSeparator(),x=L(this.option("format")).occurrence;return rt(o,p,x)},_focusInHandler:function(o){this._preventNestedFocusEvent(o)||(this.clearCaretTimeout(),this._caretTimeout=setTimeout(function(){this._caretTimeout=void 0;var p=this._caret();if(p.start===p.end&&this._useMaskBehavior()){var x=this._getInputVal(),A=this._getTextSeparatorIndex(x);A>=0?this._caret({start:A,end:A}):this._moveCaretToBoundaryEventHandler(-1,o)}}.bind(this),0)),this.callBase(o)},_focusOutHandler:function(o){var p=!this._preventNestedFocusEvent(o);p&&(this._focusOutOccurs=!0,this._useMaskBehavior()&&this._updateFormattedValue()),this.callBase(o),p&&(this._focusOutOccurs=!1)},_hasValueBeenChanged(o){var p=this._getFormatPattern(),x=this.option("value");return(this._format(x,p)||"")!==o},_updateFormattedValue:function(){var o=this._getInputVal();this._hasValueBeenChanged(o)&&(this._updateParsedValue(),this._adjustParsedValue(),this._setTextByParsedValue(),this._parsedValue!==this.option("value")&&O.Z.trigger(this._input(),"change"))},_arrowHandler:function(o,p){if(this._useMaskBehavior()){var x=this._getInputVal(),A=this._getFormatPattern(),Q=Z(this._caret(),o);(function(o,p,x){var A=F(o=Z(o,0),p,x);return o.start>=A.start&&o.end<=A.end})(Q,x,A)||(Q=1===o?Q.end:Q.start,p.preventDefault(),this._caret(F(Q,x,A)))}},_moveCaretToBoundary:function(o){var p=mt(this._getInputVal(),this._getFormatPattern()),x=Z(1===o?p.start:p.end,0);this._caret(x)},_moveCaretToBoundaryEventHandler:function(o,p){!this._useMaskBehavior()||p&&p.shiftKey||(this._moveCaretToBoundary(o),p&&p.preventDefault())},_shouldMoveCaret:function(o,p){var x=P.Z.getDecimalSeparator(),A=o.charAt(p.end)===x;return(this._lastKey===x||"."===this._lastKey)&&A},_getInputVal:function(){return P.Z.convertDigits(this._input().val(),!0)},_keyboardHandler:function(o){if(this.clearCaretTimeout(),this._lastKey=P.Z.convertDigits((0,ut.qK)(o),!0),this._lastKeyName=(0,ut.EV)(o),!this._shouldHandleKey(o.originalEvent))return this.callBase(o);var p=this._getInputVal(),x=this._caret(),Q=this._tryParse(p,x,this._lastKeyName===y?"":this._lastKey);return this._shouldMoveCaret(p,x)&&(this._moveCaret(1),o.originalEvent.preventDefault()),void 0===Q?this._lastKeyName!==y&&o.originalEvent.preventDefault():this._parsedValue=Q,this.callBase(o)},_keyPressHandler:function(o){this._useMaskBehavior()||this.callBase(o)},_removeHandler:function(o){var p=this._caret(),x=this._getInputVal(),A=p.start,Q=p.end;this._lastKey=(0,ut.qK)(o),this._lastKeyName=(0,ut.EV)(o);var pt=this._isDeleteKey(this._lastKeyName),ft=!pt;if(A===Q){if(!(ft&&A>0||pt&&A<x.length))return void o.preventDefault();pt&&Q++,ft&&A--}var Ft=x.slice(A,Q);if(this._isStub(Ft))return this._moveCaret(pt?1:-1),(this._parsedValue<0||1/this._parsedValue==-1/0)&&(this._revertSign(o),this._setTextByParsedValue()),void o.preventDefault();var Wt=P.Z.getDecimalSeparator();if(Ft!==Wt){if(Q-A<x.length&&this._replaceSelectedText(x,{start:A,end:Q},"").search(/[0-9]/)<0&&this._isValueInRange(0))return void(this._parsedValue=this._parsedValue<0||1/this._parsedValue==-1/0?-0:0);var ue=this._tryParse(x,{start:A,end:Q},"");void 0===ue?o.preventDefault():this._parsedValue=ue}else{var ee=x.indexOf(Wt);this._isNonStubAfter(ee+1)&&(this._moveCaret(pt?1:-1),o.preventDefault())}},_isPercentFormat:function(){return-1!==this._getFormatPattern().replace(/'[^']+'/g,"").indexOf("%")},_parse:function(o,p){var x=this.option("format"),A=(0,at.mf)(x.parser),Q=A?x.parser:P.Z.parse,pt=0;if(!A){var ft=L(p).index,vt=this._getTextSeparatorIndex(o),wt=-1!==ft?ft:p.length,Ft=-1!==vt?vt:o.length;Ft>wt&&-1===p.indexOf("#")&&(pt=Ft-wt)}return Q(o=(o=this._removeStubs(o,!0)).substr(pt),p)},_format:function(o,p){var x=this.option("format"),A=(null==x?void 0:x.formatter)||x,Q=(0,at.mf)(A)?A:P.Z.format;return null===o?"":Q(o,p)},_getFormatPattern:function(){return this._currentFormat||this._updateFormat(),this._currentFormat},_updateFormat:function(){var o=this.option("format"),p=(0,at.mf)(null==o?void 0:o.parser),x=(0,at.HD)(o)&&(o.indexOf("0")>=0||o.indexOf("#")>=0);this._currentFormat=p||x?o:(0,_.y)(A=>{var Q=this._format(A,o);return P.Z.convertDigits(Q,!0)})},_getFormatForSign:function(o){var p=this._getFormatPattern();if((0,at.HD)(p)){var x=p.split(";"),A=P.Z.getSign(o,p);return x[1]=x[1]||"-"+x[0],A<0?x[1]:x[0]}return P.Z.getSign(o)<0?"-":""},_removeStubs:function(o,p){var x=this._getFormatForSign(o),A=P.Z.getThousandsSeparator(),Q=this._getStubs(x),pt=o;if(Q.length){var ft=Q[0],vt=new RegExp("("+(0,T.hr)(Q[1]||"")+")$","g"),wt=new RegExp("[-"+(0,T.hr)(p?"":A)+"]","g");pt=pt.replace(ft,"").replace(vt,"").replace(wt,"")}return pt},_getStubs:function(o){var p=/[^']([#0.,]+)/g.exec(o),x=p&&p[0].trim();return o.split(x).map(function(A){return A.replace(/'/g,"")})},_truncateToPrecision:function(o,p){if((0,at.$K)(o)){var x=o.toString(),A=x.indexOf(".");if(x&&A>-1){var Q=parseFloat(x.substr(0,A+p+1));return isNaN(Q)?o:Q}}return o},_tryParse:function(o,p,x){var A=this._replaceSelectedText(o,p,x),Q=this._getFormatPattern(),pt=p.start!==p.end,ft=this._getParsedValue(A,Q),vt=!Q.parser&&this._getPrecisionLimits(A).max,wt=ft!==this._parsedValue,Wt=x===P.Z.getDecimalSeparator()&&0===vt,ee=!pt&&!wt&&"-"!==x&&!this._isValueIncomplete(A)&&this._isStub(x);if(!Wt&&!ee&&(""===this._removeStubs(A)&&(ft=Math.abs(0*this._parsedValue)),!isNaN(ft)))return ft=vt?this._truncateToPrecision(null===ft?this._parsedValue:ft,vt):ft,!Q.parser&&this._isPercentFormat()?function(o,p){return o&&(0,$.zB)(o/100,p)}(ft,vt):ft},_getParsedValue:function(o,p){var x=P.Z.getSign(o,(null==p?void 0:p.formatter)||p),A=this._parse(o,p),Q=A<0?-1:1;return(0,at.kE)(A)&&x!==Q?x*A:A},_isValueIncomplete:function(o){if(!this._useMaskBehavior())return this.callBase(o);var p=this._caret(),x=P.Z.getDecimalSeparator(),A=this._getTextSeparatorIndex(o),Q=A>=0&&A<p.start,pt=this._removeStubs(o,!0).split(x);if(!Q||2!==pt.length)return!1;var ft=pt[1].length,wt=!!this._getFormatPattern().parser,Ft=!wt&&this._getPrecisionLimits(this._getFormatPattern(),o),Wt=!!wt||(0,$.Z2)(ft,Ft.min,Ft.max),ee="0"===pt[1].charAt(ft-1);return Wt&&(ee||!ft)},_isValueInRange:function(o){var p=(0,T.IS)(this.option("min"),-1/0),x=(0,T.IS)(this.option("max"),1/0);return(0,$.Z2)(o,p,x)},_setInputText:function(o){var p=P.Z.convertDigits(o,!0),x=function(o,p,x,A){x=Z(x,0);var Q=P.Z.getDecimalSeparator(),pt=function R(o){return 1===o.length&&!!o.match(/^[,.][0-9]*$/g)}(o),ft=L(A).occurrence,vt=pt?0:rt(o,Q,ft),wt=rt(p,Q,ft),Ft=Y(o,vt),Wt=Y(p,wt);if(-1!==vt&&x.start>vt){var ge=ht(x.start-vt-1,Ft[1]);return F(Wt[1]?wt+1+et(ge,Wt[1])+1:p.length,p,A)}var Me=function(o){return o.replace(/[^0-9e]+$/,"")}(Wt[0]),ye=ht(Ft[0].length-x.start,z(Ft[0])),De=et(ye,z(Me));return F(Me.length-(De+1),p,A)}(this._getInputVal(),p,this._caret(),this._getFormatPattern());this._input().val(o),this._toggleEmptinessEventHandler(),this._formattedValue=o,this._focusOutOccurs||this._caret(x)},_useMaskBehavior:function(){return!!this.option("format")&&this.option("useMaskBehavior")},_renderInputType:function(){var o="number"===this.option("mode"),p="desktop"===V.Z.real().deviceType;this._useMaskBehavior()&&o?this._setInputType(p||this._isSupportInputMode()?"text":"tel"):this.callBase()},_isChar:function(o){return(0,at.HD)(o)&&1===o.length},_moveCaret:function(o){if(o){var x=F(Z(this._caret(),o),this._getInputVal(),this._getFormatPattern());this._caret(x)}},_shouldHandleKey:function(o){var p=(0,ut.EV)(o),x=(0,ut.j1)(o)||o.altKey||o.shiftKey||!this._isChar(p),A=p===y;return this._useMaskBehavior()&&!x&&!A},_renderInput:function(){this.callBase(),this._renderFormatter()},_renderFormatter:function(){this._clearCache(),this._detachFormatterEvents(),this._useMaskBehavior()&&this._attachFormatterEvents()},_detachFormatterEvents:function(){O.Z.off(this._input(),"."+Ot)},_isInputFromPaste:function(o){var p=o.originalEvent&&o.originalEvent.inputType;return(0,at.$K)(p)?"insertFromPaste"===p:this._isValuePasted},_attachFormatterEvents:function(){var o=this._input();O.Z.on(o,(0,ut.V4)("input",Ot),function(p){this._formatValue(p),this._isValuePasted=!1}.bind(this)),O.Z.on(o,(0,ut.V4)("dxclick",Ot),function(){this._caretTimeout||(this._caretTimeout=setTimeout(function(){this._caretTimeout=void 0,this._caret(F(this._caret(),this._getInputVal(),this._getFormatPattern()))}.bind(this),0))}.bind(this)),O.Z.on(o,"dxdblclick",function(){this.clearCaretTimeout()}.bind(this))},clearCaretTimeout:function(){clearTimeout(this._caretTimeout),this._caretTimeout=void 0},_forceRefreshInputValue:function(){if(!this._useMaskBehavior())return this.callBase()},_isNonStubAfter:function(o){var p=this._getInputVal().slice(o);return p&&!this._isStub(p,!0)},_isStub:function(o,p){var x=(0,T.hr)(P.Z.getDecimalSeparator());return new RegExp("^[^0-9"+x+"]+$","g").test(o)&&(p||this._isChar(o))},_parseValue:function(o){return this._useMaskBehavior()?this._parsedValue:this.callBase(o)},_getPrecisionLimits:function(o){var p=this._getFormatForSign(o),x=L(p).index,A=(Y(p,x)[1]||"").replace(/[^#0]/g,"");return{min:A.replace(/^(0*)#*/,"$1").length,max:A.length}},_revertSign:function(o){if(this._useMaskBehavior()){var p=this._caret();if(p.start!==p.end){if((0,ut.EV)(o)===y)return void this._applyRevertedSign(o,p,!0);this._caret(F(0,this._getInputVal(),this._getFormatPattern()))}this._applyRevertedSign(o,p)}},_applyRevertedSign:function(o,p,x){var A=-1*(0,T.IS)(this._parsedValue,null);if(this._isValueInRange(A)&&(this._parsedValue=A,x)){var Q=this._getFormatPattern(),pt=this._getInputVal();this._setTextByParsedValue(),o.preventDefault();var ft=this._getInputVal(),vt=function(o,p,x){var A=mt(o,x);return mt(p,x).start-A.start}(pt,ft,Q),wt=F(p=Z(p,vt),ft,Q);this._caret(wt)}},_removeMinusFromText:function(o,p){return this._lastKeyName===y&&"-"===o.charAt(p.start-1)?this._replaceSelectedText(o,{start:p.start-1,end:p.start},""):o},_setTextByParsedValue:function(){var o=this._getFormatPattern(),p=this._parseValue(),x=this._format(p,o)||"";this._setInputText(x)},_formatValue:function(o){var p=this._getInputVal(),x=this._caret(),A=this._removeMinusFromText(p,x),Q=A!==p;if(p=A,!this._isInputFromPaste(o)&&this._isValueIncomplete(A))return this._formattedValue=p,void(Q&&this._setTextByParsedValue());if(P.Z.convertDigits(this._formattedValue,!0)!==p){var ft=this._tryParse(p,x,"");(0,at.$K)(ft)&&(this._parsedValue=ft)}this._setTextByParsedValue()},_renderDisplayText:function(){this._useMaskBehavior()?this._toggleEmptinessEventHandler():this.callBase.apply(this,arguments)},_renderValue:function(){return this._useMaskBehavior()&&(this._parsedValue=this.option("value"),this._setTextByParsedValue()),this.callBase()},_updateParsedValue:function(){var o=this._getInputVal();this._parsedValue=this._tryParse(o,this._caret())},_adjustParsedValue:function(){if(this._useMaskBehavior()){var p=this._removeStubs(this._getInputVal())?this._parseValue():null;if(!(0,at.kE)(p))return void(this._parsedValue=p);this._parsedValue=(0,$.n$)(p,this.option("min"),this.option("max"))}},_valueChangeEventHandler:function(o){if(!this._useMaskBehavior())return this.callBase(o);var p=this._caret();this._saveValueChangeEvent(o),this._lastKey=null,this._lastKeyName=null,this._updateParsedValue(),this._adjustParsedValue(),this.option("value",this._parsedValue),p&&this._caret(p)},_optionChanged:function(o){switch(o.name){case"format":case"useMaskBehavior":this._renderInputType(),this._updateFormat(),this._renderFormatter(),this._renderValue(),this._refreshValueChangeEvent(),this._refreshEvents();break;case"min":case"max":this._adjustParsedValue(),this.callBase(o);break;default:this.callBase(o)}},_clearCache:function(){delete this._formattedValue,delete this._lastKey,delete this._lastKeyName,delete this._parsedValue,delete this._focusOutOccurs,clearTimeout(this._caretTimeout),delete this._caretTimeout},_clean:function(){this._clearCache(),this.callBase()}});(0,H.Z)("dxNumberBox",Gt);const ne=Gt},9809:(zt,Tt,l)=>{l.d(Tt,{Z:()=>F});var H=l(3520),O=l(6836),X=l(4596),at=l(3684),V=l(6769),$=l(1553),P=l(316),T=l(7075),L=l(7484),rt=l(8082),Y=l(911),yt=l(7771),mt=l(8380),z=(l(3331),l(6129)),R="dx-selectbox-popup-wrapper",j=mt.Z.inherit({_supportedKeys:function(){var f=this,_=this.callBase(),E=function(S){this._isEditable()?this._valueSubstituted()&&(this._preventFiltering=!0):this.option("showClearButton")&&(S.preventDefault(),this.reset()),this._savedTextRemoveEvent=S,this._preventSubstitution=!0},C=function(){f.option("searchEnabled")&&f._valueSubstituted()&&f._searchHandler()};return(0,at.l)({},_,{tab:function(){this.option("opened")&&"instantly"===this.option("applyValueMode")&&this._resetCaretPosition(!0),_.tab&&_.tab.apply(this,arguments),this._cancelSearchIfNeed()},upArrow:function(S){if(_.upArrow&&_.upArrow.apply(this,arguments))return this.option("opened")||this._setNextValue(S),!0},downArrow:function(S){if(_.downArrow&&_.downArrow.apply(this,arguments))return this.option("opened")||this._setNextValue(S),!0},leftArrow:function(){C(),_.leftArrow&&_.leftArrow.apply(this,arguments)},rightArrow:function(){C(),_.rightArrow&&_.rightArrow.apply(this,arguments)},home:function(){C(),_.home&&_.home.apply(this,arguments)},end:function(){C(),_.end&&_.end.apply(this,arguments)},escape:function(){var S=_.escape&&_.escape.apply(this,arguments);return this._cancelEditing(),null==S||S},enter:function(S){var U=this.option("opened"),ot=this._input().val().trim(),ut=ot&&this._list&&!this._list.option("focusedElement");if(!ot&&(0,X.$K)(this.option("value"))&&this.option("allowClearing"))this._saveValueChangeEvent(S),this.option({selectedItem:null,value:null}),this.close();else{if(this.option("acceptCustomValue"))return S.preventDefault(),ut&&(U&&this._toggleOpenState(),this._valueChangeEventHandler(S)),U;if(_.enter&&_.enter.apply(this,arguments))return U}},space:function(S){var U=this.option("opened"),ot=this.option("searchEnabled"),ut=this.option("acceptCustomValue");if(U&&!ot&&!ut)return S.preventDefault(),this._valueChangeEventHandler(S),!0},backspace:E,del:E})},_getDefaultOptions:function(){return(0,at.l)(this.callBase(),{placeholder:Y.Z.format("Select"),fieldTemplate:null,valueChangeEvent:"change",acceptCustomValue:!1,onCustomItemCreating:function(f){(0,X.$K)(f.customItem)||(f.customItem=f.text)},showSelectionControls:!1,allowClearing:!0,tooltipEnabled:!1,openOnFieldClick:!0,showDropDownButton:!0,displayCustomValue:!1,useHiddenSubmitElement:!0})},_init:function(){this.callBase(),this._initCustomItemCreatingAction()},_initMarkup:function(){this.$element().addClass("dx-selectbox"),this._renderTooltip(),this.callBase(),this._$container.addClass("dx-selectbox-container")},_createPopup:function(){this.callBase(),this._popup.$element().addClass("dx-selectbox-popup"),this._popup.$overlayContent().attr("tabindex",-1)},_popupWrapperClass:function(){return this.callBase()+" "+R},_cancelEditing:function(){!this.option("searchEnabled")&&this._list&&(this._focusListElement(null),this._updateField(this.option("selectedItem")))},_renderOpenedState:function(){this.callBase(),this.option("opened")&&(this._scrollToSelectedItem(),this._focusSelectedElement())},_focusSelectedElement:function(){if(this._searchValue()){var _=this._list._itemElements(),E=(0,V.d3)(this.option("selectedItem"),this.option("items")),C=E>=0&&!this._isCustomItemSelected()?_.eq(E):null;this._focusListElement(C)}else this._focusListElement(null)},_renderFocusedElement:function(){if(this._list){if(!this._searchValue()||this.option("acceptCustomValue"))return void this._focusListElement(null);var E=this._list._itemElements().not(".dx-state-disabled").eq(0);this._focusListElement(E)}},_focusListElement:function(f){this._preventInputValueRender=!0,this._list.option("focusedElement",(0,T.u)(f)),delete this._preventInputValueRender},_scrollToSelectedItem:function(){this._list&&this._list.scrollToItem(this._list.option("selectedItem"))},_listContentReadyHandler:function(){this.callBase(),this._dataSource&&this._dataSource.paginate()&&this._needPopupRepaint()||this._scrollToSelectedItem()},_renderValue:function(){return this._renderInputValue(),this._setSubmitValue(),(new P.BH).resolve()},_renderInputValue:function(){return this.callBase().always(function(){this._renderInputValueAsync()}.bind(this))},_renderInputValueAsync:function(){this._renderTooltip(),this._renderInputValueImpl().always(function(){this._refreshSelected()}.bind(this))},_renderInputValueImpl:function(){return this._renderField(),(new P.BH).resolve()},_setNextItem:function(f){var _=this._calcNextItem(f),E=this._valueGetter(_);this._setValue(E)},_setNextValue:function(f){(this._dataSource.isLoaded()?(new P.BH).resolve():this._dataSource.load()).done(function(){var E=this._getSelectedIndex(),C=this._dataSource.pageSize(),S=this._dataSource.isLastPage(),U=E===this._items().length-1;this._saveValueChangeEvent(f);var ot="downArrow"===(0,z.EV)(f)?1:-1;C&&!S&&U&&ot>0?(this._popup||this._createPopup(),this._dataSource.isLoading()||this._list._loadNextPage().done(this._setNextItem.bind(this,ot))):this._setNextItem(ot)}.bind(this))},_setSelectedItem:function(f){var _=!this._isCustomValueAllowed()&&void 0===f;this.callBase(_?null:f),!_&&(!this._isEditable()||this._isCustomItemSelected())&&this._setListOption("selectedItem",this.option("selectedItem"))},_isCustomValueAllowed:function(){return this.option("acceptCustomValue")||this.callBase()},_displayValue:function(f){return f=!(0,X.$K)(f)&&this._isCustomValueAllowed()?this.option("value"):f,this.callBase(f)},_listConfig:function(){var f=(0,at.l)(this.callBase(),{pageLoadMode:"scrollBottom",onSelectionChanged:this._getSelectionChangeHandler(),selectedItem:this.option("selectedItem"),onFocusedItemChanged:this._listFocusedItemChangeHandler.bind(this)});return this.option("showSelectionControls")&&(0,at.l)(f,{showSelectionControls:!0,selectionByClick:!0}),f},_listFocusedItemChangeHandler:function(f){if(!this._preventInputValueRender){var _=f.component,E=(0,H.Z)(_.option("focusedElement")),C=_._getItemData(E);this._updateField(C)}},_updateField:function(f){if(!this._getTemplateByOption("fieldTemplate")||!this.option("fieldTemplate")){var E=this._displayGetter(f);return this.option("text",E),void this._renderDisplayText(E)}this._renderField()},_getSelectionChangeHandler:function(){return this.option("showSelectionControls")?this._selectionChangeHandler.bind(this):O.ZT},_selectionChangeHandler:function(f){(0,$.S6)(f.addedItems||[],function(_,E){this._setValue(this._valueGetter(E))}.bind(this))},_getActualSearchValue:function(){return this._dataSource.searchValue()},_toggleOpenState:function(f){if(!this.option("disabled")){if(!(f=arguments.length?f:!this.option("opened"))&&!this._shouldClearFilter()&&this._restoreInputText(!0),this._wasSearch()&&f){this._wasSearch(!1);var _=this.option("showDataBeforeSearch")||this._isMinSearchLengthExceeded();if(_&&this._dataSource){if(this._searchTimer)return;var E=this._getActualSearchValue();E&&this._wasSearch(!0),this._filterDataSource(E||null)}else this._setListOption("items",[])}f&&this._scrollToSelectedItem(),this.callBase(f)}},_renderTooltip:function(){this.option("tooltipEnabled")&&this.$element().attr("title",this.option("displayValue"))},_renderDimensions:function(){this.callBase(),this._dimensionChanged()},_isValueEqualInputText:function(){var f=this.option("selectedItem");if(null===f)return!1;var _=this._displayGetter(f);return(_?String(_):"")===this._searchValue()},_popupHidingHandler:function(){this._isValueEqualInputText()&&this._cancelEditing(),this.callBase()},_popupHiddenHandler:function(){this.callBase(),this._shouldCancelSearch()&&(this._wasSearch(!1),this._searchCanceled(),this._shouldCancelSearch(!1))},_restoreInputText:function(f){this.option("readOnly")||this._loadItemDeferred&&this._loadItemDeferred.always(function(){var _=this.option("selectedItem");this.option("acceptCustomValue")?f||(this._updateField(_),this._clearFilter()):this.option("searchEnabled")&&!this._searchValue()&&this.option("allowClearing")?this._clearTextValue():this._isValueEqualInputText()||this._renderInputValue().always(function(E){var C=(0,O.IS)(E,_);this._setSelectedItem(C),this._updateField(C),this._clearFilter()}.bind(this))}.bind(this))},_focusOutHandler:function(f){this._preventNestedFocusEvent(f)||(this._isOverlayNestedTarget(f.relatedTarget)||(this._restoreInputText(),this._clearSearchTimer()),this._cancelSearchIfNeed(f)),f.target=this._input().get(0),this.callBase(f)},_cancelSearchIfNeed:function(f){var{searchEnabled:_}=this.option(),E=this._isOverlayNestedTarget(null==f?void 0:f.relatedTarget);if(this._wasSearch()&&_&&!E){var S,U=null===(S=this._popup)||void 0===S?void 0:S._hideAnimationProcessing;this._clearSearchTimer(),U?this._shouldCancelSearch(!0):(this._wasSearch(!1),this._searchCanceled())}},_shouldCancelSearch:function(f){if(!arguments.length)return this._shouldCancelSearchValue;this._shouldCancelSearchValue=f},_isOverlayNestedTarget:function(f){return!!(0,H.Z)(f).closest(".".concat(R)).length},_clearTextValue:function(){this.option("selectedItem")&&(this._savedTextRemoveEvent&&this._saveValueChangeEvent(this._savedTextRemoveEvent),this.option("value",null)),delete this._savedTextRemoveEvent},_shouldOpenPopup:function(){return this._needPassDataSourceToList()&&this._wasSearch()},_isFocused:function(){var f=rt.Z.getActiveElement();return this.callBase()&&(0,H.Z)(f).closest(this._input()).length>0},_renderValueChangeEvent:function(){this._isEditable()&&this.callBase()},_fieldRenderData:function(){var f=this._list&&this.option("opened")&&(0,H.Z)(this._list.option("focusedElement"));return f&&f.length?this._list._getItemData(f):this.option("selectedItem")},_isSelectedValue:function(f){return this._isValueEquals(f,this.option("value"))},_shouldCloseOnItemClick:function(){return!(this.option("showSelectionControls")&&"single"!==this.option("selectionMode"))},_listItemClickHandler:function(f){var _=this._getCurrentValue();this._focusListElement((0,H.Z)(f.itemElement)),this._saveValueChangeEvent(f.event),this._completeSelection(this._valueGetter(f.itemData)),this._shouldCloseOnItemClick()&&this.option("opened",!1),this.option("searchEnabled")&&_===this._valueGetter(f.itemData)&&this._updateField(f.itemData),this._shouldClearFilter()&&this._cancelSearchIfNeed()},_shouldClearFilter:function(){return this._wasSearch()},_completeSelection:function(f){this._setValue(f)},_loadItem:function(f,_){var E=this,C=new P.BH;return this.callBase(f,_).done(function(S){C.resolve(S)}.bind(this)).fail(function(S){if(null==S||!S.shouldSkipCallback){var U=E.option("selectedItem");E.option("acceptCustomValue")&&f===E._valueGetter(U)?C.resolve(U):C.reject()}}.bind(this)),C.promise()},_loadInputValue:function(f,_){return this._loadItemDeferred=this._loadItem(f).always(_),this._loadItemDeferred},_isCustomItemSelected:function(){var f=this.option("selectedItem"),_=this._searchValue(),E=this._displayGetter(f);return!E||_!==E.toString()},_valueChangeEventHandler:function(f){this.option("acceptCustomValue")&&this._isCustomItemSelected()&&!this._isValueChanging&&(this._isValueChanging=!0,this._customItemAddedHandler(f),this._isValueChanging=!1)},_initCustomItemCreatingAction:function(){this._customItemCreatingAction=this._createActionByOption("onCustomItemCreating")},_createCustomItem:function(f){var _={text:f},E=this._customItemCreatingAction(_),C=(0,O.IS)(E,_.customItem);return(0,X.$K)(E)&&L.Z.log("W0015","onCustomItemCreating","customItem"),C},_customItemAddedHandler:function(f){var _=this._searchValue(),E=this._createCustomItem(_);if(this._saveValueChangeEvent(f),void 0===E)throw this._renderValue(),L.Z.Error("E0121");(0,X.tI)(E)?(0,P.p4)(E).done(this._setCustomItem.bind(this)).fail(this._setCustomItem.bind(this,null)):this._setCustomItem(E)},_setCustomItem:function(f){this._disposed||(this.option("selectedItem",f=f||null),this._cancelSearchIfNeed(),this._setValue(this._valueGetter(f)),this._renderDisplayText(this._displayGetter(f)))},_clearValueHandler:function(f){return this._preventFiltering=!0,this.callBase(f),this._searchCanceled(),!1},_wasSearch:function(f){if(!arguments.length)return this._wasSearchValue;this._wasSearchValue=f},_searchHandler:function(){this._preventFiltering?delete this._preventFiltering:(this._needPassDataSourceToList()&&this._wasSearch(!0),this.callBase(arguments))},_dataSourceFiltered:function(f){this.callBase(),null!==f&&(this._renderInputSubstitution(),this._renderFocusedElement())},_valueSubstituted:function(){var f=this._input().get(0),_=0===f.selectionStart&&f.selectionEnd===this._searchValue().length,E=f.selectionStart!==f.selectionEnd;return this._wasSearch()&&E&&!_},_shouldSubstitutionBeRendered:function(){return!this._preventSubstitution&&this.option("searchEnabled")&&!this.option("acceptCustomValue")&&"startswith"===this.option("searchMode")},_renderInputSubstitution:function(){if(this._shouldSubstitutionBeRendered()){var f=this._list&&this._getPlainItems(this._list.option("items"))[0];if(f){var _=this._input(),E=_.val().length;if(0!==E){var C=_.get(0),S=this._displayGetter(f).toString();C.value=S,this._caret({start:E,end:S.length})}}}else delete this._preventSubstitution},_dispose:function(){this._renderInputValueAsync=O.ZT,delete this._loadItemDeferred,this.callBase()},_optionChanged:function(f){switch(f.name){case"onCustomItemCreating":this._initCustomItemCreatingAction();break;case"tooltipEnabled":this._renderTooltip();break;case"displayCustomValue":case"acceptCustomValue":case"showSelectionControls":this._invalidate();break;case"allowClearing":break;default:this.callBase(f)}}});(0,yt.Z)("dxSelectBox",j);const F=j},4634:(zt,Tt,l)=>{l.d(Tt,{Z:()=>it});var H=l(9694),O=l(7685),X=l(6795),at=l(9699),V=l(3684),$=l(1553),P=l(9150);const rt=l(4245).Z.inherit({ctor(R,j){this.editor=R,this.validator=j,this.validationRequestsCallbacks=[];var F=f=>{this.validationRequestsCallbacks.forEach(_=>_(f))};R.validationRequest.add(F),R.on("disposing",function(){R.validationRequest.remove(F)})},getValue(){return this.editor.option("value")},getCurrentValidationError(){return this.editor.option("validationError")},bypass(){return this.editor.option("disabled")},applyValidationResults(R){this.editor.option({validationErrors:R.brokenRules,validationStatus:R.status})},reset(){this.editor.reset()},focus(){this.editor.focus()}});var Y=l(7771),yt=l(316),mt=l(1760),z="valid",J="pending",Z=at.Z.inherit({_initOptions:function(R){this.callBase.apply(this,arguments),this.option(P.Z.initValidationOptions(R))},_getDefaultOptions(){return(0,V.l)(this.callBase(),{validationRules:[]})},_init(){this.callBase(),this._initGroupRegistration(),this.focused=(0,O.Z)(),this._initAdapter(),this._validationInfo={result:null,deferred:null,skipValidation:!1}},_initGroupRegistration(){var R=this._findGroup();this._groupWasInit||this.on("disposing",function(j){P.Z.removeRegisteredValidator(j.component._validationGroup,j.component)}),(!this._groupWasInit||this._validationGroup!==R)&&(P.Z.removeRegisteredValidator(this._validationGroup,this),this._groupWasInit=!0,this._validationGroup=R,P.Z.registerValidatorInGroup(R,this))},_setOptionsByReference(){this.callBase(),(0,V.l)(this._optionsByReference,{validationGroup:!0})},_getEditor(){var R=this.$element()[0];return(0,H.aT)(R,"dx-validation-target")},_initAdapter(){var R=this._getEditor(),j=this.option("adapter");if(!j){if(R)return(j=new rt(R,this)).validationRequestsCallbacks.push(f=>{this._validationInfo.skipValidation||this.validate(f)}),void this.option("adapter",j);throw X.Z.Error("E0120")}var F=j.validationRequestsCallbacks;F&&F.push(f=>{this.validate(f)})},_toggleRTLDirection(R){var j,F,f,_=null!==(j=null===(F=this.option("adapter"))||void 0===F||null===(f=F.editor)||void 0===f?void 0:f.option("rtlEnabled"))&&void 0!==j?j:R;this.callBase(_)},_initMarkup(){this.$element().addClass("dx-validator"),this.callBase()},_render(){this.callBase(),this._toggleAccessibilityAttributes()},_toggleAccessibilityAttributes(){var R=this._getEditor();if(R){var F=(this.option("validationRules")||[]).some(f=>{var{type:_}=f;return"required"===_})||null;R.isInitialized()&&R.setAria("required",F),R.option("_onMarkupRendered",()=>{R.setAria("required",F)})}},_visibilityChanged(R){R&&this._initGroupRegistration()},_optionChanged(R){switch(R.name){case"validationGroup":return void this._initGroupRegistration();case"validationRules":return this._resetValidationRules(),this._toggleAccessibilityAttributes(),void(void 0!==this.option("isValid")&&this.validate());case"adapter":this._initAdapter();break;case"isValid":case"validationStatus":this.option(P.Z.synchronizeValidationOptions(R,this.option()));break;default:this.callBase(R)}},_getValidationRules(){return this._validationRules||(this._validationRules=(0,$.UI)(this.option("validationRules"),(R,j)=>(0,V.l)({},R,{validator:this,index:j}))),this._validationRules},_findGroup(){var R=this.$element();return this.option("validationGroup")||P.Z.findGroup(R,this._modelByElement(R))},_resetValidationRules(){delete this._validationRules},validate(R){var U,j=this.option("adapter"),F=this.option("name"),f=j.bypass&&j.bypass(),_=R&&void 0!==R.value?R.value:j.getValue(),E=j.getCurrentValidationError&&j.getCurrentValidationError(),C=this._getValidationRules(),S=this._validationInfo&&this._validationInfo.result;return S&&S.status===J&&S.value===_?(0,V.l)({},S):(f?U={isValid:!0,status:z}:E&&E.editorSpecific?(E.validator=this,U={isValid:!1,status:"invalid",brokenRule:E,brokenRules:[E]}):U=P.Z.validate(_,C,F),U.id=(new mt.Z).toString(),this._applyValidationResult(U,j),U.complete&&U.complete.then(ot=>{ot.id===this._validationInfo.result.id&&this._applyValidationResult(ot,j)}),(0,V.l)({},this._validationInfo.result))},reset(){var R=this.option("adapter"),j={id:null,isValid:!0,brokenRule:null,brokenRules:null,pendingRules:null,status:z,complete:null};this._validationInfo.skipValidation=!0,R.reset(),this._validationInfo.skipValidation=!1,this._resetValidationRules(),this._applyValidationResult(j,R)},_updateValidationResult(R){if(this._validationInfo.result&&this._validationInfo.result.id===R.id)for(var F in R)"id"!==F&&"complete"!==F&&(this._validationInfo.result[F]=R[F]);else this._validationInfo.result=(0,V.l)({},R,{complete:this._validationInfo.deferred&&this._validationInfo.result.complete})},_applyValidationResult(R,j){var F=this._createActionByOption("onValidated",{excludeValidators:["readOnly"]});if(R.validator=this,this._updateValidationResult(R),j.applyValidationResults&&j.applyValidationResults(this._validationInfo.result),this.option({validationStatus:this._validationInfo.result.status}),this._validationInfo.result.status===J)return this._validationInfo.deferred||(this._validationInfo.deferred=new yt.BH,this._validationInfo.result.complete=this._validationInfo.deferred.promise()),void this._eventsStrategy.fireEvent("validating",[this._validationInfo.result]);this._validationInfo.result.status!==J&&(F(R),this._validationInfo.deferred&&(this._validationInfo.deferred.resolve(R),this._validationInfo.deferred=null))},focus(){var R=this.option("adapter");R&&R.focus&&R.focus()},_useTemplates:function(){return!1}});(0,Y.Z)("dxValidator",Z);const it=Z}}]);